!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],t):t(e.material={},e.jQuery)}(this,function(e,i){"use strict";i=i&&i.hasOwnProperty("default")?i.default:i;var n,t,o,r,a,s,c,l,d,u,h,f,p,m,g,y,v,b,_,k,S,w=(r="show-predecessor",a="hide"+(t=".bs.collapse"),s=(o="show")+t,c=".expansion-panel",l=".expansion-panel .collapse",void(n=i)(document).on(""+a,l,function(){var e=n(this).closest(c);e.removeClass(o);var t=e.prev(c);t.length&&t.removeClass(r)}).on(""+s,l,function(){var e=n(this).closest(c);e.addClass(o);var t=e.prev(c);t.length&&t.addClass(r)})),C=(h="."+(u="md.floatinglabel"),f="floatinglabel",p=(d=i).fn[f],m="is-focused",g="has-value",y="change"+h,v="focusin"+h,b="focusout"+h,_=".floating-label",k=".floating-label .custom-select, .floating-label .form-control",S=function(){function i(e){this._element=e,this._parent=d(e).closest(_)[0]}var e=i.prototype;return e.change=function(){d(this._element).val()||d(this._element).is("select")&&""!==d("option:first-child",d(this._element)).html().replace(" ","")?d(this._parent).addClass(g):d(this._parent).removeClass(g)},e.focusin=function(){d(this._parent).addClass(m)},e.focusout=function(){d(this._parent).removeClass(m)},i._jQueryInterface=function(n){return this.each(function(){var e=n||"change",t=d(this).data(u);if(t||(t=new i(this),d(this).data(u,t)),"string"==typeof e){if(void 0===t[e])throw new Error('No method named "'+e+'"');t[e]()}})},i}(),d(document).on(y+" "+v+" "+b,k,function(e){S._jQueryInterface.call(d(this),e.type)}),d.fn[f]=S._jQueryInterface,d.fn[f].Constructor=S,d.fn[f].noConflict=function(){return d.fn[f]=p,S._jQueryInterface},S);function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function O(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(e){var t,n,i;t=o,i=r[n=e],n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i})}return o}var I,x,E,M=(x="transitionend",E={TRANSITION_END:"mdTransitionEnd",getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return 0<I(document).find(t).length?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=I(e).css("transition-duration");return t?(t=t.split(",")[0],1e3*parseFloat(t)):0},getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},isElement:function(e){return(e[0]||e).nodeType},reflow:function(e){return e.offsetHeight},supportsTransitionEnd:function(){return Boolean(x)},triggerTransitionEnd:function(e){I(e).trigger(x)},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],r=t[i],a=r&&E.isElement(r)?"element":(s=r,{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(o).test(a))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+o+'".')}var s}},(I=i).fn.emulateTransitionEnd=N,I.event.special[E.TRANSITION_END]={bindType:x,delegateType:x,handle:function(e){if(I(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},E);function N(e){var t=this,n=!1;return I(this).one(E.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||E.triggerTransitionEnd(t)},e),this}var T,P,$,j,A,F,R,W,Y,H,U,B,Q,J,K,L=($="."+(P="md.navdrawer"),j="navdrawer",A=(T=i).fn[j],F="navdrawer-backdrop",R="navdrawer-open",Y={breakpoint:"",keyboard:!0,show:!0,type:"default"},H={keyboard:"boolean",show:"boolean",type:"string"},U={CLICK_DATA_API:"click"+$+".data-api",CLICK_DISMISS:"click.dismiss"+$,FOCUSIN:"focusin"+$,HIDDEN:"hidden"+$,HIDE:"hide"+$,KEYDOWN_DISMISS:"keydown.dismiss"+$,MOUSEDOWN_DISMISS:"mousedown.dismiss"+$,MOUSEUP_DISMISS:"mouseup.dismiss"+$,SHOW:(W="show")+$,SHOWN:"shown"+$},B=".navdrawer-content",Q='[data-dismiss="navdrawer"]',J='[data-toggle="navdrawer"]',K=function(){function o(e,t){this._backdrop=null,this._config=this._getConfig(t),this._content=T(e).find(B)[0],this._element=e,this._ignoreBackdropClick=!1,this._isShown=!1,this._typeBreakpoint=""===this._config.breakpoint?"":"-"+this._config.breakpoint}var e=o.prototype;return e.hide=function(e){var t=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var n=T.Event(U.HIDE);if(T(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1,this._isTransitioning=!0,this._setEscapeEvent(),T(document).off(U.FOCUSIN),T(document.body).removeClass(R+"-"+this._config.type+this._typeBreakpoint),T(this._element).removeClass(W),T(this._element).off(U.CLICK_DISMISS),T(this._content).off(U.MOUSEDOWN_DISMISS);var i=M.getTransitionDurationFromElement(this._content);T(this._content).one(M.TRANSITION_END,function(e){return t._hideNavdrawer(e)}).emulateTransitionEnd(i),this._showBackdrop()}}},e.show=function(e){var t=this;if(!this._isTransitioning&&!this._isShown){this._isTransitioning=!0;var n=T.Event(U.SHOW,{relatedTarget:e});T(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._setEscapeEvent(),T(this._element).addClass(j+"-"+this._config.type+this._typeBreakpoint),T(this._element).on(U.CLICK_DISMISS,Q,function(e){return t.hide(e)}),T(this._content).on(U.MOUSEDOWN_DISMISS,function(){T(t._element).one(U.MOUSEUP_DISMISS,function(e){T(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(),this._showElement(e))}},e.toggle=function(e){return this._isShown?this.hide():this.show(e)},e._enforceFocus=function(){var t=this;T(document).off(U.FOCUSIN).on(U.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===T(t._element).has(e.target).length&&t._element.focus()})},e._getConfig=function(e){return e=O({},Y,e),M.typeCheckConfig(j,e,H),e},e._hideNavdrawer=function(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,T(this._element).trigger(U.HIDDEN)},e._removeBackdrop=function(){this._backdrop&&(T(this._backdrop).remove(),this._backdrop=null)},e._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?T(this._element).on(U.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||T(this._element).off(U.KEYDOWN_DISMISS)},e._showBackdrop=function(){var t=this;this._isShown?(this._backdrop=document.createElement("div"),T(this._backdrop).addClass(F).addClass(F+"-"+this._config.type+this._typeBreakpoint).appendTo(document.body),T(this._element).on(U.CLICK_DISMISS,function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&t.hide()}),M.reflow(this._backdrop),T(this._backdrop).addClass(W)):!this._isShown&&this._backdrop&&(T(this._backdrop).removeClass(W),this._removeBackdrop())},e._showElement=function(e){var t=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),M.reflow(this._element),T(document.body).addClass(R+"-"+this._config.type+this._typeBreakpoint),T(this._element).addClass(W),this._enforceFocus();var n=T.Event(U.SHOWN,{relatedTarget:e}),i=M.getTransitionDurationFromElement(this._content);T(this._content).one(M.TRANSITION_END,function(){t._element.focus(),t._isTransitioning=!1,T(t._element).trigger(n)}).emulateTransitionEnd(i)},o._jQueryInterface=function(n,i){return this.each(function(){var e=O({},Y,T(this).data(),"object"==typeof n&&n?n:{}),t=T(this).data(P);if(t||(t=new o(this,e),T(this).data(P,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n](i)}else e.show&&t.show(i)})},function(e,t,n){t&&D(e.prototype,t),n&&D(e,n)}(o,null,[{key:"Default",get:function(){return Y}}]),o}(),T(document).on(U.CLICK_DATA_API,J,function(e){var t,n=this,i=M.getSelectorFromElement(this);i&&(t=T(i)[0]);var o=T(t).data(P)?"toggle":O({},T(t).data(),T(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var r=T(t).one(U.SHOW,function(e){e.isDefaultPrevented()||r.one(U.HIDDEN,function(){T(n).is(":visible")&&n.focus()})});K._jQueryInterface.call(T(t),o,this)}),T.fn[j]=K._jQueryInterface,T.fn[j].Constructor=K,T.fn[j].noConflict=function(){return T.fn[j]=A,K._jQueryInterface},K);function q(e,t){return e(t={exports:{}},t.exports),t.exports}var z,V,G,X,Z,ee,te,ne,ie,oe,re,ae,se,ce,le,de,ue,he,fe,pe,me,ge,ye,ve,be,_e,ke,Se,we,Ce,De=q(function(e,t){var n;n=function(m){var i=m(window),g=m(document),y=m(document.documentElement),v=null!=document.documentElement.style.transition;function b(i,e,t,n){if(!i)return b;function o(){return this.start()}var r=!1,s={id:i.id||"P"+Math.abs(~~(Math.random()*new Date))},c=t?m.extend(!0,{},t.defaults,n):n||{},a=m.extend({},b.klasses(),c.klass),l=m(i),d=o.prototype={constructor:o,$node:l,start:function(){return s&&s.start?d:(s.methods={},s.start=!0,s.open=!1,s.type=i.type,i.autofocus=i==S(),i.readOnly=!c.editable,i.id=i.id||s.id,"text"!=i.type&&(i.type="text"),d.component=new t(d,c),d.$root=m('<div class="'+a.picker+'" id="'+i.id+'_root" />'),k(d.$root[0],"hidden",!0),d.$holder=m(u()).appendTo(d.$root),h(),c.formatSubmit&&function(){var e;!0===c.hiddenName?(e=i.name,i.name=""):e=(e=["string"==typeof c.hiddenPrefix?c.hiddenPrefix:"","string"==typeof c.hiddenSuffix?c.hiddenSuffix:"_submit"])[0]+i.name+e[1];d._hidden=m('<input type=hidden name="'+e+'"'+(l.data("value")||i.value?' value="'+d.get("select",c.formatSubmit)+'"':"")+">")[0],l.on("change."+s.id,function(){d._hidden.value=i.value?d.get("select",c.formatSubmit):""})}(),function(){l.data(e,d).addClass(a.input).val(l.data("value")?d.get("select",c.format):i.value),c.editable||l.on("focus."+s.id+" click."+s.id,function(e){e.preventDefault(),d.open()}).on("keydown."+s.id,p);k(i,{haspopup:!0,expanded:!1,readonly:!1,owns:i.id+"_root"})}(),c.containerHidden?m(c.containerHidden).append(d._hidden):l.after(d._hidden),c.container?m(c.container).append(d.$root):l.after(d.$root),d.on({start:d.component.onStart,render:d.component.onRender,stop:d.component.onStop,open:d.component.onOpen,close:d.component.onClose,set:d.component.onSet}).on({start:c.onStart,render:c.onRender,stop:c.onStop,open:c.onOpen,close:c.onClose,set:c.onSet}),r=function(e){var t,n="position";e.currentStyle?t=e.currentStyle[n]:window.getComputedStyle&&(t=getComputedStyle(e)[n]);return"fixed"==t}(d.$holder[0]),i.autofocus&&d.open(),d.trigger("start").trigger("render"))},render:function(e){return e?(d.$holder=m(u()),h(),d.$root.html(d.$holder)):d.$root.find("."+a.box).html(d.component.nodes(s.open)),d.trigger("render")},stop:function(){return s.start&&(d.close(),d._hidden&&d._hidden.parentNode.removeChild(d._hidden),d.$root.remove(),l.removeClass(a.input).removeData(e),setTimeout(function(){l.off("."+s.id)},0),i.type=s.type,i.readOnly=!1,d.trigger("stop"),s.methods={},s.start=!1),d},open:function(e){return s.open?d:(l.addClass(a.active),k(i,"expanded",!0),setTimeout(function(){d.$root.addClass(a.opened),k(d.$root[0],"hidden",!1)},0),!1!==e&&(s.open=!0,r&&y.css("overflow","hidden").css("padding-right","+="+_()),r&&v?d.$holder.find("."+a.frame).one("transitionend",function(){d.$holder[0].focus()}):d.$holder[0].focus(),g.on("click."+s.id+" focusin."+s.id,function(e){var t=e.target;t!=i&&t!=document&&3!=e.which&&d.close(t===d.$holder[0])}).on("keydown."+s.id,function(e){var t=e.keyCode,n=d.component.key[t],i=e.target;27==t?d.close(!0):i!=d.$holder[0]||!n&&13!=t?m.contains(d.$root[0],i)&&13==t&&(e.preventDefault(),i.click()):(e.preventDefault(),n?b._.trigger(d.component.key.go,d,[b._.trigger(n)]):d.$root.find("."+a.highlighted).hasClass(a.disabled)||(d.set("select",d.component.item.highlight),c.closeOnSelect&&d.close(!0)))})),d.trigger("open"))},close:function(e){return e&&(c.editable?i.focus():(d.$holder.off("focus.toOpen").focus(),setTimeout(function(){d.$holder.on("focus.toOpen",f)},0))),l.removeClass(a.active),k(i,"expanded",!1),setTimeout(function(){d.$root.removeClass(a.opened+" "+a.focused),k(d.$root[0],"hidden",!0)},0),s.open?(s.open=!1,r&&y.css("overflow","").css("padding-right","-="+_()),g.off("."+s.id),d.trigger("close")):d},clear:function(e){return d.set("clear",null,e)},set:function(e,t,n){var i,o,r=m.isPlainObject(e),a=r?e:{};if(n=r&&m.isPlainObject(t)?t:n||{},e){for(i in r||(a[e]=t),a)o=a[i],i in d.component.item&&(void 0===o&&(o=null),d.component.set(i,o,n)),"select"!=i&&"clear"!=i||l.val("clear"==i?"":d.get(i,c.format)).trigger("change");d.render()}return n.muted?d:d.trigger("set",a)},get:function(e,t){if(null!=s[e=e||"value"])return s[e];if("valueSubmit"==e){if(d._hidden)return d._hidden.value;e="value"}if("value"==e)return i.value;if(e in d.component.item){if("string"!=typeof t)return d.component.get(e);var n=d.component.get(e);return n?b._.trigger(d.component.formats.toString,d.component,[t,n]):""}},on:function(e,t,n){var i,o,r=m.isPlainObject(e),a=r?e:{};if(e)for(i in r||(a[e]=t),a)o=a[i],n&&(i="_"+i),s.methods[i]=s.methods[i]||[],s.methods[i].push(o);return d},off:function(){var e,t,n=arguments;for(e=0,namesCount=n.length;e<namesCount;e+=1)(t=n[e])in s.methods&&delete s.methods[t];return d},trigger:function(e,n){function t(e){var t=s.methods[e];t&&t.map(function(e){b._.trigger(e,d,[n])})}return t("_"+e),t(e),d}};function u(){return b._.node("div",b._.node("div",b._.node("div",b._.node("div",d.component.nodes(s.open),a.box),a.wrap),a.frame),a.holder,'tabindex="-1"')}function h(){d.$holder.on({keydown:p,"focus.toOpen":f,blur:function(){l.removeClass(a.target)},focusin:function(e){d.$root.removeClass(a.focused),e.stopPropagation()},"mousedown click":function(e){var t=e.target;t!=d.$holder[0]&&(e.stopPropagation(),"mousedown"!=e.type||m(t).is("input, select, textarea, button, option")||(e.preventDefault(),d.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var e=m(this),t=e.data(),n=e.hasClass(a.navDisabled)||e.hasClass(a.disabled),i=S();i=i&&(i.type||i.href),(n||i&&!m.contains(d.$root[0],i))&&d.$holder[0].focus(),!n&&t.nav?d.set("highlight",d.component.item.highlight,{nav:t.nav}):!n&&"pick"in t?(d.set("select",t.pick),c.closeOnSelect&&d.close(!0)):t.clear?(d.clear(),c.closeOnClear&&d.close(!0)):t.close&&d.close(!0)})}function f(e){e.stopPropagation(),l.addClass(a.target),d.$root.addClass(a.focused),d.open()}function p(e){var t=e.keyCode,n=/^(8|46)$/.test(t);if(27==t)return d.close(!0),!1;(32==t||n||!s.open&&d.component.key[t])&&(e.preventDefault(),e.stopPropagation(),n?d.clear().close():d.open())}return new o}function _(){if(y.height()<=i.height())return 0;var e=m('<div style="visibility:hidden;width:100px" />').appendTo("body"),t=e[0].offsetWidth;e.css("overflow","scroll");var n=m('<div style="width:100%" />').appendTo(e)[0].offsetWidth;return e.remove(),t-n}function k(e,t,n){if(m.isPlainObject(t))for(var i in t)o(e,i,t[i]);else o(e,t,n)}function o(e,t,n){e.setAttribute(("role"==t?"":"aria-")+t,n)}function S(){try{return document.activeElement}catch(e){}}return b.klasses=function(e){return{picker:e=e||"picker",opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},b._={group:function(e){for(var t,n="",i=b._.trigger(e.min,e);i<=b._.trigger(e.max,e,[i]);i+=e.i)t=b._.trigger(e.item,e,[i]),n+=b._.node(e.node,t[0],t[1],t[2]);return n},node:function(e,t,n,i){return t?"<"+e+(n=n?' class="'+n+'"':"")+(i=i?" "+i:"")+">"+(t=m.isArray(t)?t.join(""):t)+"</"+e+">":""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return-1<{}.toString.call(e).indexOf("Date")&&this.isInteger(e.getDate())},isInteger:function(e){return-1<{}.toString.call(e).indexOf("Number")&&e%1==0},ariaAttr:function(e,t){m.isPlainObject(e)||(e={attribute:t});for(var n in t="",e){var i=("role"==n?"":"aria-")+n,o=e[n];t+=null==o?"":i+'="'+e[n]+'"'}return t}},b.extend=function(i,o){m.fn[i]=function(e,t){var n=this.data(i);return"picker"==e?n:n&&"string"==typeof e?b._.trigger(n[e],n,[t]):this.each(function(){m(this).data(i)||new b(this,i,o,e)})},m.fn[i].defaults=o.defaults},b},e.exports=n(i)}),Oe=Object.freeze({default:De,__moduleExports:De}),Ie=Oe&&De||Oe,xe=(q(function(e,t){var n;n=function(e,p){var t,y=e._;function n(t,n){function e(){return r.currentStyle?"rtl"==r.currentStyle.direction:"rtl"==getComputedStyle(t.$root[0]).direction}var i,o=this,r=t.$node[0],a=r.value,s=t.$node.data("value"),c=s||a,l=s?n.formatSubmit:n.format;o.settings=n,o.$node=t.$node,o.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},o.item={},o.item.clear=null,o.item.disable=(n.disable||[]).slice(0),o.item.enable=-(!0===(i=o.item.disable)[0]?i.shift():-1),o.set("min",n.min).set("max",n.max).set("now"),c?o.set("select",c,{format:l,defaultValue:!0}):o.set("select",null).set("highlight",o.item.now),o.key={40:7,38:-7,39:function(){return e()?-1:1},37:function(){return e()?1:-1},go:function(e){var t=o.item.highlight,n=new Date(t.year,t.month,t.date+e);o.set("highlight",n,{interval:e}),this.render()}},t.on("render",function(){t.$root.find("."+n.klass.selectMonth).on("change",function(){var e=this.value;e&&(t.set("highlight",[t.get("view").year,e,t.get("highlight").date]),t.$root.find("."+n.klass.selectMonth).trigger("focus"))}),t.$root.find("."+n.klass.selectYear).on("change",function(){var e=this.value;e&&(t.set("highlight",[e,t.get("view").month,t.get("highlight").date]),t.$root.find("."+n.klass.selectYear).trigger("focus"))})},1).on("open",function(){var e="";o.disabled(o.get("now"))&&(e=":not(."+n.klass.buttonToday+")"),t.$root.find("button"+e+", select").attr("disabled",!1)},1).on("close",function(){t.$root.find("button, select").attr("disabled",!0)},1)}function i(e,t,n){var i=e.match(/[^\x00-\x7F]+|\w+/)[0];return n.mm||n.m||(n.m=t.indexOf(i)+1),i.length}function o(e){return e.match(/\w+/)[0].length}n.prototype.set=function(t,n,i){var o=this,e=o.item;return null===n?("clear"==t&&(t="select"),e[t]=n):(e["enable"==t?"disable":"flip"==t?"enable":t]=o.queue[t].split(" ").map(function(e){return n=o[e](t,n,i)}).pop(),"select"==t?o.set("highlight",e.select,i):"highlight"==t?o.set("view",e.highlight,i):t.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&o.disabled(e.select)&&o.set("select",e.select,i),e.highlight&&o.disabled(e.highlight)&&o.set("highlight",e.highlight,i))),o},n.prototype.get=function(e){return this.item[e]},n.prototype.create=function(e,t,n){var i;return(t=void 0===t?e:t)==-1/0||t==1/0?i=t:t=p.isPlainObject(t)&&y.isInteger(t.pick)?t.obj:p.isArray(t)?(t=new Date(t[0],t[1],t[2]),y.isDate(t)?t:this.create().obj):y.isInteger(t)||y.isDate(t)?this.normalize(new Date(t),n):this.now(e,t,n),{year:i||t.getFullYear(),month:i||t.getMonth(),date:i||t.getDate(),day:i||t.getDay(),obj:i||t,pick:i||t.getTime()}},n.prototype.createRange=function(e,t){function n(e){return!0===e||p.isArray(e)||y.isDate(e)?i.create(e):e}var i=this;return y.isInteger(e)||(e=n(e)),y.isInteger(t)||(t=n(t)),y.isInteger(e)&&p.isPlainObject(t)?e=[t.year,t.month,t.date+e]:y.isInteger(t)&&p.isPlainObject(e)&&(t=[e.year,e.month,e.date+t]),{from:n(e),to:n(t)}},n.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},n.prototype.overlapRanges=function(e,t){var n=this;return e=n.createRange(e.from,e.to),t=n.createRange(t.from,t.to),n.withinRange(e,t.from)||n.withinRange(e,t.to)||n.withinRange(t,e.from)||n.withinRange(t,e.to)},n.prototype.now=function(e,t,n){return t=new Date,n&&n.rel&&t.setDate(t.getDate()+n.rel),this.normalize(t,n)},n.prototype.navigate=function(e,t,n){var i,o,r,a,s=p.isArray(t),c=p.isPlainObject(t),l=this.item.view;if(s||c){for(a=c?(o=t.year,r=t.month,t.date):(o=+t[0],r=+t[1],+t[2]),n&&n.nav&&l&&l.month!==r&&(o=l.year,r=l.month),o=(i=new Date(o,r+(n&&n.nav?n.nav:0),1)).getFullYear(),r=i.getMonth();new Date(o,r,a).getMonth()!==r;)a-=1;t=[o,r,a]}return t},n.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},n.prototype.measure=function(e,t){return t?"string"==typeof t?t=this.parse(e,t):y.isInteger(t)&&(t=this.now(e,t,{rel:t})):t="min"==e?-1/0:1/0,t},n.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},n.prototype.validate=function(e,n,t){var i,o,r,a,s=this,c=n,l=t&&t.interval?t.interval:1,d=-1===s.item.enable,u=s.item.min,h=s.item.max,f=d&&s.item.disable.filter(function(e){if(p.isArray(e)){var t=s.create(e).pick;t<n.pick?i=!0:t>n.pick&&(o=!0)}return y.isInteger(e)}).length;if((!t||!t.nav&&!t.defaultValue)&&(!d&&s.disabled(n)||d&&s.disabled(n)&&(f||i||o)||!d&&(n.pick<=u.pick||n.pick>=h.pick)))for(d&&!f&&(!o&&0<l||!i&&l<0)&&(l*=-1);s.disabled(n)&&(1<Math.abs(l)&&(n.month<c.month||n.month>c.month)&&(n=c,l=0<l?1:-1),n.pick<=u.pick?(r=!0,l=1,n=s.create([u.year,u.month,u.date+(n.pick===u.pick?0:-1)])):n.pick>=h.pick&&(a=!0,l=-1,n=s.create([h.year,h.month,h.date+(n.pick===h.pick?0:1)])),!r||!a);)n=s.create([n.year,n.month,n.date+l]);return n},n.prototype.disabled=function(t){var n=this,e=n.item.disable.filter(function(e){return y.isInteger(e)?t.day===(n.settings.firstDay?e:e-1)%7:p.isArray(e)||y.isDate(e)?t.pick===n.create(e).pick:p.isPlainObject(e)?n.withinRange(e,t):void 0});return e=e.length&&!e.filter(function(e){return p.isArray(e)&&"inverted"==e[3]||p.isPlainObject(e)&&e.inverted}).length,-1===n.item.enable?!e:e||t.pick<n.item.min.pick||t.pick>n.item.max.pick},n.prototype.parse=function(e,i,t){var o=this,r={};return i&&"string"==typeof i?(t&&t.format||((t=t||{}).format=o.settings.format),o.formats.toArray(t.format).map(function(e){var t=o.formats[e],n=t?y.trigger(t,o,[i,r]):e.replace(/^!/,"").length;t&&(r[e]=i.substr(0,n)),i=i.substr(n)}),[r.yyyy||r.yy,+(r.mm||r.m)-1,r.dd||r.d]):i},n.prototype.formats={d:function(e,t){return e?y.digits(e):t.date},dd:function(e,t){return e?2:y.lead(t.date)},ddd:function(e,t){return e?o(e):this.settings.weekdaysShort[t.day]},dddd:function(e,t){return e?o(e):this.settings.weekdaysFull[t.day]},m:function(e,t){return e?y.digits(e):t.month+1},mm:function(e,t){return e?2:y.lead(t.month+1)},mmm:function(e,t){var n=this.settings.monthsShort;return e?i(e,n,t):n[t.month]},mmmm:function(e,t){var n=this.settings.monthsFull;return e?i(e,n,t):n[t.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map(function(e){return y.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")}).join("")}},n.prototype.isDateExact=function(e,t){return y.isInteger(e)&&y.isInteger(t)||"boolean"==typeof e&&"boolean"==typeof t?e===t:(y.isDate(e)||p.isArray(e))&&(y.isDate(t)||p.isArray(t))?this.create(e).pick===this.create(t).pick:!(!p.isPlainObject(e)||!p.isPlainObject(t))&&(this.isDateExact(e.from,t.from)&&this.isDateExact(e.to,t.to))},n.prototype.isDateOverlap=function(e,t){var n=this.settings.firstDay?1:0;return y.isInteger(e)&&(y.isDate(t)||p.isArray(t))?(e=e%7+n)===this.create(t).day+1:y.isInteger(t)&&(y.isDate(e)||p.isArray(e))?(t=t%7+n)===this.create(e).day+1:!(!p.isPlainObject(e)||!p.isPlainObject(t))&&this.overlapRanges(e,t)},n.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},n.prototype.deactivate=function(e,t){var i=this,o=i.item.disable.slice(0);return"flip"==t?i.flipEnable():!1===t?(i.flipEnable(1),o=[]):!0===t?(i.flipEnable(-1),o=[]):t.map(function(e){for(var t,n=0;n<o.length;n+=1)if(i.isDateExact(e,o[n])){t=!0;break}t||(y.isInteger(e)||y.isDate(e)||p.isArray(e)||p.isPlainObject(e)&&e.from&&e.to)&&o.push(e)}),o},n.prototype.activate=function(e,t){var r=this,a=r.item.disable,s=a.length;return"flip"==t?r.flipEnable():!0===t?(r.flipEnable(1),a=[]):!1===t?(r.flipEnable(-1),a=[]):t.map(function(e){var t,n,i,o;for(i=0;i<s;i+=1){if(n=a[i],r.isDateExact(n,e)){t=a[i]=null,o=!0;break}if(r.isDateOverlap(n,e)){p.isPlainObject(e)?(e.inverted=!0,t=e):p.isArray(e)?(t=e)[3]||t.push("inverted"):y.isDate(e)&&(t=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(t)for(i=0;i<s;i+=1)if(r.isDateExact(a[i],e)){a[i]=null;break}if(o)for(i=0;i<s;i+=1)if(r.isDateOverlap(a[i],e)){a[i]=null;break}t&&a.push(t)}),a.filter(function(e){return null!=e})},n.prototype.nodes=function(c){function e(e){return y.node("div"," ",d.klass["nav"+(e?"Next":"Prev")]+(e&&h.year>=m.year&&h.month>=m.month||!e&&h.year<=p.year&&h.month<=p.month?" "+d.klass.navDisabled:""),"data-nav="+(e||-1)+" "+y.ariaAttr({role:"button",controls:l.$node[0].id+"_table"})+' title="'+(e?d.labelMonthNext:d.labelMonthPrev)+'"')}function t(){var t=d.showMonthsShort?d.monthsShort:d.monthsFull;return d.selectMonths?y.node("select",y.group({min:0,max:11,i:1,node:"option",item:function(e){return[t[e],0,"value="+e+(h.month==e?" selected":"")+(h.year==p.year&&e<p.month||h.year==m.year&&e>m.month?" disabled":"")]}}),d.klass.selectMonth,(c?"":"disabled")+" "+y.ariaAttr({controls:l.$node[0].id+"_table"})+' title="'+d.labelMonthSelect+'"'):y.node("div",t[h.month],d.klass.month)}function n(){var t=h.year,e=!0===d.selectYears?5:~~(d.selectYears/2);if(e){var n=p.year,i=m.year,o=t-e,r=t+e;if(o<n&&(r+=n-o,o=n),i<r){var a=o-n,s=r-i;o-=s<a?s:a,r=i}return y.node("select",y.group({min:o,max:r,i:1,node:"option",item:function(e){return[e,0,"value="+e+(t==e?" selected":"")]}}),d.klass.selectYear,(c?"":"disabled")+" "+y.ariaAttr({controls:l.$node[0].id+"_table"})+' title="'+d.labelYearSelect+'"')}return y.node("div",t,d.klass.year)}var i,o,l=this,d=l.settings,r=l.item,a=r.now,s=r.select,u=r.highlight,h=r.view,f=r.disable,p=r.min,m=r.max,g=(i=(d.showWeekdaysFull?d.weekdaysFull:d.weekdaysShort).slice(0),o=d.weekdaysFull.slice(0),d.firstDay&&(i.push(i.shift()),o.push(o.shift())),y.node("thead",y.node("tr",y.group({min:0,max:6,i:1,node:"th",item:function(e){return[i[e],d.klass.weekdays,'scope=col title="'+o[e]+'"']}}))));return y.node("div",(d.selectYears?n()+t():t()+n())+e()+e(1),d.klass.header)+y.node("table",g+y.node("tbody",y.group({min:0,max:5,i:1,node:"tr",item:function(e){var t=d.firstDay&&0===l.create([h.year,h.month,1]).day?-7:0;return[y.group({min:7*e-h.day+t+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=l.create([h.year,h.month,e+(d.firstDay?1:0)]);var t,n=s&&s.pick==e.pick,i=u&&u.pick==e.pick,o=f&&l.disabled(e)||e.pick<p.pick||e.pick>m.pick,r=y.trigger(l.formats.toString,l,[d.format,e]);return[y.node("div",e.date,(t=[d.klass.day],t.push(h.month==e.month?d.klass.infocus:d.klass.outfocus),a.pick==e.pick&&t.push(d.klass.now),n&&t.push(d.klass.selected),i&&t.push(d.klass.highlighted),o&&t.push(d.klass.disabled),t.join(" ")),"data-pick="+e.pick+" "+y.ariaAttr({role:"gridcell",label:r,selected:!(!n||l.$node.val()!==r)||null,activedescendant:!!i||null,disabled:!!o||null})),"",y.ariaAttr({role:"presentation"})]}})]}})),d.klass.table,'id="'+l.$node[0].id+'_table" '+y.ariaAttr({role:"grid",controls:l.$node[0].id,readonly:!0}))+y.node("div",y.node("button",d.today,d.klass.buttonToday,"type=button data-pick="+a.pick+(c&&!l.disabled(a)?"":" disabled")+" "+y.ariaAttr({controls:l.$node[0].id}))+y.node("button",d.clear,d.klass.buttonClear,"type=button data-clear=1"+(c?"":" disabled")+" "+y.ariaAttr({controls:l.$node[0].id}))+y.node("button",d.close,d.klass.buttonClose,"type=button data-close=true "+(c?"":" disabled")+" "+y.ariaAttr({controls:l.$node[0].id})),d.klass.footer)},n.defaults={labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:(t=e.klasses().picker+"__")+"table",header:t+"header",navPrev:t+"nav--prev",navNext:t+"nav--next",navDisabled:t+"nav--disabled",month:t+"month",year:t+"year",selectMonth:t+"select--month",selectYear:t+"select--year",weekdays:t+"weekday",day:t+"day",disabled:t+"day--disabled",selected:t+"day--selected",highlighted:t+"day--highlighted",now:t+"day--today",infocus:t+"day--infocus",outfocus:t+"day--outfocus",footer:t+"footer",buttonClear:t+"button--clear",buttonToday:t+"button--today",buttonClose:t+"button--close"}},e.extend("pickadate",n)},e.exports=n(Ie,i)}),V="md.pickdate",G="pickdate",X=(z=i).fn[G],Z={cancel:"Cancel",closeOnCancel:!0,closeOnSelect:!1,container:"",containerHidden:"",disable:[],firstDay:0,format:"d/m/yyyy",formatSubmit:"",hiddenName:!1,hiddenPrefix:"",hiddenSuffix:"",klass:{buttonClear:"btn btn-outline-primary picker-button-clear",buttonClose:"btn btn-outline-primary picker-button-close",buttonToday:"btn btn-outline-primary picker-button-today",day:"picker-day",disabled:"picker-day-disabled",highlighted:"picker-day-highlighted",infocus:"picker-day-infocus",now:"picker-day-today",outfocus:"picker-day-outfocus",selected:"picker-day-selected",weekdays:"picker-weekday",box:"picker-box",footer:"picker-footer",frame:"picker-frame",header:"picker-header",holder:"picker-holder",table:"picker-table",wrap:"picker-wrap",active:"picker-input-active",input:"picker-input",month:"picker-month",navDisabled:"picker-nav-disabled",navNext:"material-icons picker-nav-next",navPrev:"material-icons picker-nav-prev",selectMonth:"picker-select-month",selectYear:"picker-select-year",year:"picker-year",focused:"picker-focused",opened:"picker-opened",picker:"picker"},labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",max:!1,min:!1,monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ok:"OK",onClose:function(){},onOpen:function(){},onRender:function(){},onSet:function(){},onStart:function(){},onStop:function(){},selectMonths:!1,selectYears:!1,today:"",weekdaysFull:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysShort:["S","M","T","W","T","F","S"]},ee={cancel:"string",closeOnCancel:"boolean",closeOnSelect:"boolean",container:"string",containerHidden:"string",disable:"array",firstDay:"number",format:"string",formatSubmit:"string",hiddenName:"boolean",hiddenPrefix:"string",hiddenSuffix:"string",klass:"object",labelMonthNext:"string",labelMonthPrev:"string",labelMonthSelect:"string",labelYearSelect:"string",max:"boolean || date",min:"boolean || date",monthsFull:"array",monthsShort:"array",ok:"string",onClose:"function",onOpen:"function",onRender:"function",onSet:"function",onStart:"function",onStop:"function",selectMonths:"boolean",selectYears:"boolean || number",today:"string",weekdaysFull:"array",weekdaysShort:"array"},te=function(){function i(e,t){this._config=this._getConfig(t),this._element=e}var e=i.prototype;return e.display=function(e,t,n){z(".picker-date-display",t).remove(),z(".picker-wrap",t).prepend('<div class="picker-date-display"><div class="picker-date-display-top"><span class="picker-year-display">'+e.get(n,"yyyy")+'</span></div><div class="picker-date-display-bottom"><span class="picker-weekday-display">'+e.get(n,"dddd")+'</span><span class="picker-day-display">'+e.get(n,"d")+'</span><span class="picker-month-display">'+e.get(n,"mmm")+"</span></div></div>")},e.show=function(){var e=this;z(this._element).pickadate({clear:this._config.cancel,close:this._config.ok,closeOnClear:this._config.closeOnCancel,closeOnSelect:this._config.closeOnSelect,container:this._config.container,containerHidden:this._config.containerHidden,disable:this._config.disable,firstDay:this._config.firstDay,format:this._config.format,formatSubmit:this._config.formatSubmit,klass:this._config.klass,hiddenName:this._config.hiddenName,hiddenPrefix:this._config.hiddenPrefix,hiddenSuffix:this._config.hiddenSuffix,labelMonthNext:this._config.labelMonthNext,labelMonthPrev:this._config.labelMonthPrev,labelMonthSelect:this._config.labelMonthSelect,labelYearSelect:this._config.labelYearSelect,max:this._config.max,min:this._config.min,monthsFull:this._config.monthsFull,monthsShort:this._config.monthsShort,onClose:this._config.onClose,onOpen:this._config.onOpen,onRender:this._config.onRender,onSet:this._config.onSet,onStart:this._config.onStart,onStop:this._config.onStop,selectMonths:this._config.selectMonths,selectYears:this._config.selectYears,today:this._config.today,weekdaysFull:this._config.weekdaysFull,weekdaysShort:this._config.weekdaysShort});var t=z(this._element).pickadate("picker"),n=t.$root;t.on({close:function(){z(document.activeElement).blur()},open:function(){z(".picker__date-display",n).length||e.display(t,n,"highlight")},set:function(){null!==t.get("select")&&e.display(t,n,"select")}})},e._getConfig=function(e){return e=O({},Z,e),M.typeCheckConfig(G,e,ee),e},i._jQueryInterface=function(n){return this.each(function(){var e=O({},Z,z(this).data(),"object"==typeof n&&n?n:{}),t=z(this).data(V);t||(t=new i(this,e),z(this).data(V,t)),t.show()})},i}(),z.fn[G]=te._jQueryInterface,z.fn[G].Constructor=te,void(z.fn[G].noConflict=function(){return z.fn[G]=X,te._jQueryInterface})),Ee=(re={IS_MOUSEDOWN:!(oe="focus")},ae="blur"+(ie=".md.selectioncontrolfocus"),se="focus"+ie,ce="mousedown"+ie,le="mouseup"+ie,de=".custom-control",ue=".custom-control-input",void(ne=i)(document).on(""+ae,ue,function(){ne(this).removeClass(oe)}).on(""+se,ue,function(){!1===re.IS_MOUSEDOWN&&ne(this).addClass(oe)}).on(""+ce,de,function(){re.IS_MOUSEDOWN=!0}).on(""+le,de,function(){setTimeout(function(){re.IS_MOUSEDOWN=!1},1)})),Me=(fe="md.tabswitch",pe="tabswitch",me=(he=i).fn[pe],ge="animate",ye="dropdown-item",ve="nav-tabs-indicator",be="nav-tabs-material",_e="show",ke='.nav-tabs [data-toggle="tab"]',Se=".dropdown",we=".nav-tabs",Ce=function(){function i(e){this._nav=e,this._navindicator=null}var e=i.prototype;return e.switch=function(e,t){var n=this,i=he(this._nav).offset().left,o=he(this._nav).scrollLeft(),r=he(this._nav).outerWidth();this._navindicator||this._createIndicator(i,o,r,t),he(e).hasClass(ye)&&(e=he(e).closest(Se));var a=he(e).offset().left,s=he(e).outerWidth();he(this._navindicator).addClass(_e),M.reflow(this._navindicator),he(this._nav).addClass(ge),he(this._navindicator).css({left:a+o-i,right:r-(a+o-i+s)});var c=M.getTransitionDurationFromElement(this._navindicator);he(this._navindicator).one(M.TRANSITION_END,function(){he(n._nav).removeClass(ge),he(n._navindicator).removeClass(_e)}).emulateTransitionEnd(c)},e._createIndicator=function(e,t,n,i){if(this._navindicator=document.createElement("div"),he(this._navindicator).addClass(ve).appendTo(this._nav),void 0!==i){he(i).hasClass(ye)&&(i=he(i).closest(Se));var o=he(i).offset().left,r=he(i).outerWidth();he(this._navindicator).css({left:o+t-e,right:n-(o+t-e+r)})}he(this._nav).addClass(be)},i._jQueryInterface=function(n){return this.each(function(){var e=he(this).closest(we)[0];if(e){var t=he(e).data(fe);t||(t=new i(e),he(e).data(fe,t)),t.switch(this,n)}})},i}(),he(document).on("show.bs.tab",ke,function(e){Ce._jQueryInterface.call(he(this),e.relatedTarget)}),he.fn[pe]=Ce._jQueryInterface,he.fn[pe].Constructor=Ce,he.fn[pe].noConflict=function(){return he.fn[pe]=me,Ce._jQueryInterface},Ce);e.Util=M,e.ExpansionPanel=w,e.FloatingLabel=C,e.NavDrawer=L,e.PickDate=xe,e.SelectionControlFocus=Ee,e.TabSwitch=Me,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGVyaWFsLmpzIl0sIm5hbWVzIjpbImdsb2JhbCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsIm1hdGVyaWFsIiwialF1ZXJ5IiwidGhpcyIsIiQiLCJoYXNPd25Qcm9wZXJ0eSIsIiQkJDEiLCJFVkVOVF9LRVkiLCJDbGFzc05hbWUiLCJFdmVudCIsIlNlbGVjdG9yIiwiREFUQV9LRVkiLCJOQU1FIiwiTk9fQ09ORkxJQ1QiLCJGbG9hdGluZ0xhYmVsIiwiRXhwYW5zaW9uUGFuZWwiLCJkb2N1bWVudCIsIm9uIiwidGFyZ2V0IiwiY2xvc2VzdCIsInJlbW92ZUNsYXNzIiwicHJlZGVjZXNzb3IiLCJwcmV2IiwibGVuZ3RoIiwiYWRkQ2xhc3MiLCJmbiIsImVsZW1lbnQiLCJfZWxlbWVudCIsIl9wYXJlbnQiLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJjaGFuZ2UiLCJ2YWwiLCJpcyIsImh0bWwiLCJyZXBsYWNlIiwiZm9jdXNpbiIsImZvY3Vzb3V0IiwiX2pRdWVyeUludGVyZmFjZSIsImV2ZW50IiwiZWFjaCIsIl9ldmVudCIsImRhdGEiLCJFcnJvciIsImNhbGwiLCJ0eXBlIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiX2RlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImkiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwic291cmNlIiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjb25jYXQiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJmb3JFYWNoIiwib2JqIiwidmFsdWUiLCJUUkFOU0lUSU9OX0VORCIsIlV0aWwiLCJnZXRTZWxlY3RvckZyb21FbGVtZW50Iiwic2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJmaW5kIiwiZXJyIiwiZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJjc3MiLCJzcGxpdCIsInBhcnNlRmxvYXQiLCJnZXRVSUQiLCJwcmVmaXgiLCJNYXRoIiwicmFuZG9tIiwiZ2V0RWxlbWVudEJ5SWQiLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsInJlZmxvdyIsIm9mZnNldEhlaWdodCIsInN1cHBvcnRzVHJhbnNpdGlvbkVuZCIsIkJvb2xlYW4iLCJ0cmlnZ2VyVHJhbnNpdGlvbkVuZCIsInRyaWdnZXIiLCJ0eXBlQ2hlY2tDb25maWciLCJjb21wb25lbnROYW1lIiwiY29uZmlnIiwiY29uZmlnVHlwZXMiLCJwcm9wZXJ0eSIsImV4cGVjdGVkVHlwZXMiLCJ2YWx1ZVR5cGUiLCJ0b1N0cmluZyIsIm1hdGNoIiwidG9Mb3dlckNhc2UiLCJSZWdFeHAiLCJ0ZXN0IiwidG9VcHBlckNhc2UiLCJlbXVsYXRlVHJhbnNpdGlvbkVuZCIsInRyYW5zaXRpb25FbmRFbXVsYXRvciIsInNwZWNpYWwiLCJiaW5kVHlwZSIsImRlbGVnYXRlVHlwZSIsImhhbmRsZSIsImhhbmRsZU9iaiIsImhhbmRsZXIiLCJhcHBseSIsImR1cmF0aW9uIiwiX3RoaXMiLCJjYWxsZWQiLCJvbmUiLCJzZXRUaW1lb3V0IiwiRGVmYXVsdCIsIkRlZmF1bHRUeXBlIiwiTmF2RHJhd2VyIiwiYnJlYWtwb2ludCIsImtleWJvYXJkIiwic2hvdyIsIkNMSUNLX0RBVEFfQVBJIiwiQ0xJQ0tfRElTTUlTUyIsIkZPQ1VTSU4iLCJISURERU4iLCJISURFIiwiS0VZRE9XTl9ESVNNSVNTIiwiTU9VU0VET1dOX0RJU01JU1MiLCJNT1VTRVVQX0RJU01JU1MiLCJTSE9XIiwiU0hPV04iLCJfYmFja2Ryb3AiLCJfY29uZmlnIiwiX2dldENvbmZpZyIsIl9jb250ZW50IiwiX2lnbm9yZUJhY2tkcm9wQ2xpY2siLCJfaXNTaG93biIsIl90eXBlQnJlYWtwb2ludCIsImhpZGUiLCJwcmV2ZW50RGVmYXVsdCIsIl9pc1RyYW5zaXRpb25pbmciLCJoaWRlRXZlbnQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJfc2V0RXNjYXBlRXZlbnQiLCJvZmYiLCJib2R5IiwiX2hpZGVOYXZkcmF3ZXIiLCJfc2hvd0JhY2tkcm9wIiwicmVsYXRlZFRhcmdldCIsIl90aGlzMiIsInNob3dFdmVudCIsIl9zaG93RWxlbWVudCIsInRvZ2dsZSIsIl9lbmZvcmNlRm9jdXMiLCJfdGhpczMiLCJoYXMiLCJmb2N1cyIsInN0eWxlIiwiZGlzcGxheSIsInNldEF0dHJpYnV0ZSIsIl9yZW1vdmVCYWNrZHJvcCIsInJlbW92ZSIsIl90aGlzNCIsIndoaWNoIiwiX3RoaXM1IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZFRvIiwiY3VycmVudFRhcmdldCIsIl90aGlzNiIsInBhcmVudE5vZGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzaG93bkV2ZW50IiwiVHlwZUVycm9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NyZWF0ZUNsYXNzIiwiZ2V0IiwiX3RoaXM3IiwidGFnTmFtZSIsIiR0YXJnZXQiLCJjcmVhdGVDb21tb25qc01vZHVsZSIsIlBpY2tEYXRlIiwiTGFzdEludGVyYWN0aW9uIiwiVGFiU3dpdGNoIiwicGlja2VyIiwiJHdpbmRvdyIsIndpbmRvdyIsIiRkb2N1bWVudCIsIiRodG1sIiwiZG9jdW1lbnRFbGVtZW50Iiwic3VwcG9ydHNUcmFuc2l0aW9ucyIsInRyYW5zaXRpb24iLCJQaWNrZXJDb25zdHJ1Y3RvciIsIkVMRU1FTlQiLCJDT01QT05FTlQiLCJPUFRJT05TIiwiUGlja2VySW5zdGFuY2UiLCJzdGFydCIsIklTX0RFRkFVTFRfVEhFTUUiLCJTVEFURSIsImlkIiwiYWJzIiwiRGF0ZSIsIlNFVFRJTkdTIiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJDTEFTU0VTIiwia2xhc3NlcyIsImtsYXNzIiwiJEVMRU1FTlQiLCJQIiwiY29uc3RydWN0b3IiLCIkbm9kZSIsIm1ldGhvZHMiLCJvcGVuIiwiYXV0b2ZvY3VzIiwiZ2V0QWN0aXZlRWxlbWVudCIsInJlYWRPbmx5IiwiZWRpdGFibGUiLCJjb21wb25lbnQiLCIkcm9vdCIsImFyaWEiLCIkaG9sZGVyIiwiY3JlYXRlV3JhcHBlZENvbXBvbmVudCIsInByZXBhcmVFbGVtZW50SG9sZGVyIiwiZm9ybWF0U3VibWl0IiwibmFtZSIsImhpZGRlbk5hbWUiLCJoaWRkZW5QcmVmaXgiLCJoaWRkZW5TdWZmaXgiLCJfaGlkZGVuIiwicHJlcGFyZUVsZW1lbnRIaWRkZW4iLCJpbnB1dCIsImZvcm1hdCIsImhhbmRsZUtleWRvd25FdmVudCIsImhhc3BvcHVwIiwiZXhwYW5kZWQiLCJyZWFkb25seSIsIm93bnMiLCJwcmVwYXJlRWxlbWVudCIsImNvbnRhaW5lckhpZGRlbiIsImFwcGVuZCIsImFmdGVyIiwiY29udGFpbmVyIiwib25TdGFydCIsInJlbmRlciIsIm9uUmVuZGVyIiwic3RvcCIsIm9uU3RvcCIsIm9uT3BlbiIsImNsb3NlIiwib25DbG9zZSIsInNldCIsIm9uU2V0IiwidGhlbWUiLCJwcm9wIiwiY3VycmVudFN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImlzVXNpbmdEZWZhdWx0VGhlbWUiLCJlbnRpcmVDb21wb25lbnQiLCJib3giLCJub2RlcyIsInJlbW92ZUNoaWxkIiwicmVtb3ZlRGF0YSIsImRvbnRHaXZlRm9jdXMiLCJhY3RpdmUiLCJvcGVuZWQiLCJnZXRTY3JvbGxiYXJXaWR0aCIsImZyYW1lIiwia2V5Y29kZSIsImtleUNvZGUiLCJrZXljb2RlVG9Nb3ZlIiwiY29udGFpbnMiLCJjbGljayIsIl8iLCJnbyIsImhpZ2hsaWdodGVkIiwiaGFzQ2xhc3MiLCJkaXNhYmxlZCIsIml0ZW0iLCJoaWdobGlnaHQiLCJjbG9zZU9uU2VsZWN0IiwiZ2l2ZUZvY3VzIiwiaGFuZGxlRm9jdXNUb09wZW5FdmVudCIsImZvY3VzZWQiLCJjbGVhciIsIm9wdGlvbnMiLCJ0aGluZyIsInRoaW5nSXRlbSIsInRoaW5nVmFsdWUiLCJ0aGluZ0lzT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInRoaW5nT2JqZWN0IiwidW5kZWZpbmVkIiwibXV0ZWQiLCJmb3JtYXRzIiwibWV0aG9kIiwiaW50ZXJuYWwiLCJ0aGluZ05hbWUiLCJ0aGluZ01ldGhvZCIsInB1c2giLCJuYW1lcyIsIm5hbWVzQ291bnQiLCJfdHJpZ2dlciIsIm1ldGhvZExpc3QiLCJtYXAiLCJub2RlIiwid3JhcCIsImhvbGRlciIsImtleWRvd24iLCJmb2N1cy50b09wZW4iLCJibHVyIiwic3RvcFByb3BhZ2F0aW9uIiwibW91c2Vkb3duIGNsaWNrIiwidGFyZ2V0RGF0YSIsInRhcmdldERpc2FibGVkIiwibmF2RGlzYWJsZWQiLCJhY3RpdmVFbGVtZW50IiwiaHJlZiIsIm5hdiIsInBpY2siLCJjbG9zZU9uQ2xlYXIiLCJpc0tleWNvZGVEZWxldGUiLCJoZWlnaHQiLCIkb3V0ZXIiLCJ3aWR0aFdpdGhvdXRTY3JvbGwiLCJvZmZzZXRXaWR0aCIsIndpZHRoV2l0aFNjcm9sbCIsImF0dHJpYnV0ZSIsImFyaWFTZXQiLCJncm91cCIsImdyb3VwT2JqZWN0IiwibG9vcE9iamVjdFNjb3BlIiwibm9kZXNMaXN0IiwiY291bnRlciIsIm1pbiIsIm1heCIsIndyYXBwZXIiLCJpc0FycmF5Iiwiam9pbiIsImxlYWQiLCJudW1iZXIiLCJjYWxsYmFjayIsInNjb3BlIiwiYXJncyIsImRpZ2l0cyIsInN0cmluZyIsImlzRGF0ZSIsImluZGV4T2YiLCJpc0ludGVnZXIiLCJnZXREYXRlIiwiYXJpYUF0dHIiLCJhdHRyIiwiYXR0clZhbCIsIkNvbXBvbmVudCIsImFjdGlvbiIsImNvbXBvbmVudERhdGEiLCJwaWNrZXIkMSIsImZyZWV6ZSIsImRlZmF1bHQiLCJfX21vZHVsZUV4cG9ydHMiLCJyZXF1aXJlJCQwIiwiUGlja2VyIiwiRGF0ZVBpY2tlciIsInNldHRpbmdzIiwiaXNSVEwiLCJkaXJlY3Rpb24iLCJjb2xsZWN0aW9uRGlzYWJsZWQiLCJjYWxlbmRhciIsImVsZW1lbnRWYWx1ZSIsImVsZW1lbnREYXRhVmFsdWUiLCJ2YWx1ZVN0cmluZyIsImZvcm1hdFN0cmluZyIsInF1ZXVlIiwibm93Iiwic2VsZWN0IiwidmlldyIsImRpc2FibGUiLCJlbmFibGUiLCJzbGljZSIsInNoaWZ0IiwiZGVmYXVsdFZhbHVlIiwiNDAiLCIzOCIsIjM5IiwiMzciLCJ0aW1lQ2hhbmdlIiwiaGlnaGxpZ2h0ZWRPYmplY3QiLCJ0YXJnZXREYXRlIiwieWVhciIsIm1vbnRoIiwiZGF0ZSIsImludGVydmFsIiwic2VsZWN0TW9udGgiLCJzZWxlY3RZZWFyIiwiaW5jbHVkZVRvZGF5IiwiYnV0dG9uVG9kYXkiLCJnZXRXb3JkTGVuZ3RoRnJvbUNvbGxlY3Rpb24iLCJjb2xsZWN0aW9uIiwiZGF0ZU9iamVjdCIsIndvcmQiLCJtbSIsIm0iLCJnZXRGaXJzdFdvcmRMZW5ndGgiLCJjYWxlbmRhckl0ZW0iLCJwb3AiLCJjcmVhdGUiLCJpc0luZmluaXRlVmFsdWUiLCJJbmZpbml0eSIsIm5vcm1hbGl6ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJkYXkiLCJnZXREYXkiLCJnZXRUaW1lIiwiY3JlYXRlUmFuZ2UiLCJmcm9tIiwidG8iLCJjcmVhdGVEYXRlIiwid2l0aGluUmFuZ2UiLCJyYW5nZSIsImRhdGVVbml0Iiwib3ZlcmxhcFJhbmdlcyIsInR3byIsInJlbCIsInNldERhdGUiLCJuYXZpZ2F0ZSIsInRhcmdldERhdGVPYmplY3QiLCJ0YXJnZXRZZWFyIiwidGFyZ2V0TW9udGgiLCJpc1RhcmdldEFycmF5IiwiaXNUYXJnZXRPYmplY3QiLCJ2aWV3c2V0T2JqZWN0Iiwic2V0SG91cnMiLCJtZWFzdXJlIiwicGFyc2UiLCJ2aWV3c2V0IiwidmFsaWRhdGUiLCJoYXNFbmFibGVkQmVmb3JlVGFyZ2V0IiwiaGFzRW5hYmxlZEFmdGVyVGFyZ2V0IiwicmVhY2hlZE1pbiIsInJlYWNoZWRNYXgiLCJvcmlnaW5hbERhdGVPYmplY3QiLCJpc0ZsaXBwZWRCYXNlIiwibWluTGltaXRPYmplY3QiLCJtYXhMaW1pdE9iamVjdCIsImhhc0VuYWJsZWRXZWVrZGF5cyIsImRhdGVUaW1lIiwiZGF0ZVRvVmVyaWZ5IiwiaXNEaXNhYmxlZE1hdGNoIiwiZGF0ZVRvRGlzYWJsZSIsImZpcnN0RGF5IiwiaW52ZXJ0ZWQiLCJwYXJzaW5nT2JqZWN0IiwidG9BcnJheSIsImxhYmVsIiwiZm9ybWF0dGluZ0xhYmVsIiwiZm9ybWF0TGVuZ3RoIiwic3Vic3RyIiwieXl5eSIsInl5IiwiZGQiLCJkIiwiZGRkIiwid2Vla2RheXNTaG9ydCIsImRkZGQiLCJ3ZWVrZGF5c0Z1bGwiLCJtbW0iLCJtb250aHNTaG9ydCIsIm1tbW0iLCJtb250aHNGdWxsIiwiaXRlbU9iamVjdCIsImlzRGF0ZUV4YWN0IiwiaXNEYXRlT3ZlcmxhcCIsImZsaXBFbmFibGUiLCJkZWFjdGl2YXRlIiwiZGF0ZXNUb0Rpc2FibGUiLCJkaXNhYmxlZEl0ZW1zIiwidW5pdFRvRGlzYWJsZSIsIm1hdGNoRm91bmQiLCJpbmRleCIsImFjdGl2YXRlIiwiZGF0ZXNUb0VuYWJsZSIsImRpc2FibGVkSXRlbXNDb3VudCIsInVuaXRUb0VuYWJsZSIsImRpc2FibGVkVW5pdCIsImlzRXhhY3RSYW5nZSIsImlzT3BlbiIsImNyZWF0ZU1vbnRoTmF2IiwibmV4dCIsInJvbGUiLCJjb250cm9scyIsImxhYmVsTW9udGhOZXh0IiwibGFiZWxNb250aFByZXYiLCJjcmVhdGVNb250aExhYmVsIiwibW9udGhzQ29sbGVjdGlvbiIsInNob3dNb250aHNTaG9ydCIsInNlbGVjdE1vbnRocyIsImxvb3BlZE1vbnRoIiwibGFiZWxNb250aFNlbGVjdCIsImNyZWF0ZVllYXJMYWJlbCIsImZvY3VzZWRZZWFyIiwibnVtYmVyWWVhcnMiLCJzZWxlY3RZZWFycyIsIm1pblllYXIiLCJtYXhZZWFyIiwibG93ZXN0WWVhciIsImhpZ2hlc3RZZWFyIiwiYXZhaWxhYmxlWWVhcnMiLCJuZWVkZWRZZWFycyIsImxvb3BlZFllYXIiLCJsYWJlbFllYXJTZWxlY3QiLCJmdWxsQ29sbGVjdGlvbiIsIm5vd09iamVjdCIsInNlbGVjdGVkT2JqZWN0IiwiZGlzYWJsZWRDb2xsZWN0aW9uIiwidGFibGVIZWFkIiwic2hvd1dlZWtkYXlzRnVsbCIsIkRBWVNfSU5fV0VFSyIsIndlZWtkYXlzIiwiaGVhZGVyIiwiV0VFS1NfSU5fQ0FMRU5EQVIiLCJyb3dDb3VudGVyIiwic2hpZnREYXRlQnkiLCJpc1NlbGVjdGVkIiwiaXNIaWdobGlnaHRlZCIsImlzRGlzYWJsZWQiLCJmb3JtYXR0ZWREYXRlIiwiaW5mb2N1cyIsIm91dGZvY3VzIiwic2VsZWN0ZWQiLCJhY3RpdmVkZXNjZW5kYW50IiwidGFibGUiLCJ0b2RheSIsImJ1dHRvbkNsZWFyIiwiYnV0dG9uQ2xvc2UiLCJmb290ZXIiLCJuYXZQcmV2IiwibmF2TmV4dCIsImNhbmNlbCIsImNsb3NlT25DYW5jZWwiLCJvayIsImRhdGVwaWNrZXJBcGkiLCJkYXRlcGlja2VyUm9vdCIsImRhdGVwaWNrZXJWYWx1ZSIsInByZXBlbmQiLCJwaWNrYWRhdGUiLCJTZWxlY3Rpb25Db250cm9sRm9jdXMiLCJJU19NT1VTRURPV04iLCJfbmF2IiwiX25hdmluZGljYXRvciIsInN3aXRjaCIsIm5hdkxlZnQiLCJvZmZzZXQiLCJsZWZ0IiwibmF2U2Nyb2xsTGVmdCIsInNjcm9sbExlZnQiLCJuYXZXaWR0aCIsIm91dGVyV2lkdGgiLCJfY3JlYXRlSW5kaWNhdG9yIiwiZWxMZWZ0IiwiZWxXaWR0aCIsInJpZ2h0IiwicmVsYXRlZExlZnQiLCJyZWxhdGVkV2lkdGgiXSwibWFwcGluZ3MiOiJDQU1DLFNBQVVBLEVBQVFDLEdBQ0UsaUJBQVpDLFNBQTBDLG9CQUFYQyxPQUF5QkYsRUFBUUMsUUFBU0UsUUFBUSxXQUN0RSxtQkFBWEMsUUFBeUJBLE9BQU9DLElBQU1ELE9BQU8sQ0FBQyxVQUFXLFVBQVdKLEdBQzFFQSxFQUFTRCxFQUFPTyxTQUFXLEdBQUlQLEVBQU9RLFFBSHpDLENBSUVD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RUFBTXBVLEdBQUtILE1BQU1nQixRQUFRVCxJQUFjLEdBRTNDLEdBQUtnVSxFQUFMLENBSUEsSUFBSWhTLEVBQU9wQyxHQUFLb1UsR0FBS2hTLEtBQUsvQixJQUVyQitCLElBQ0hBLEVBQU8sSUFBSXdKLEVBQVV3SSxHQUNyQnBVLEdBQUtvVSxHQUFLaFMsS0FBSy9CLEdBQVUrQixJQUczQkEsRUFBS3dnQixPQUFPL2lCLEtBQU15SixPQUlmc0MsRUFqRlQsR0FvRkE1TCxHQUFLVSxVQUFVQyxHQS9GQSxjQStGc0JQLEdBQXNCLFNBQVU2QixHQUNuRTJKLEdBQVU1SixpQkFBaUJNLEtBQUt0QyxHQUFLSCxNQUFPb0MsRUFBTXFILGlCQUVwRHRKLEdBQUttQixHQUFHYixJQUFRc0wsR0FBVTVKLGlCQUMxQmhDLEdBQUttQixHQUFHYixJQUFNa0MsWUFBY29KLEdBRTVCNUwsR0FBS21CLEdBQUdiLElBQU1tQyxXQUFhLFdBRXpCLE9BREF6QyxHQUFLbUIsR0FBR2IsSUFBUUMsR0FDVHFMLEdBQVU1SixrQkFHWjRKLElBR1R0TSxFQUFRNEUsS0FBT0EsRUFDZjVFLEVBQVFtQixlQUFpQkEsRUFDekJuQixFQUFRa0IsY0FBZ0JBLEVBQ3hCbEIsRUFBUWlJLFVBQVlBLEVBQ3BCakksRUFBUW9NLFNBQVdBLEdBQ25CcE0sRUFBUWtqQixzQkFBd0JBLEdBQ2hDbGpCLEVBQVFzTSxVQUFZQSxHQUVwQjNJLE9BQU9DLGVBQWU1RCxFQUFTLGFBQWMsQ0FBRTBFLE9BQU8iLCJmaWxlIjoibWF0ZXJpYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIERhZW1vbml0ZSBNYXRlcmlhbCB2NC4xLjEgKGh0dHA6Ly9kYWVtb25pdGUuZ2l0aHViLmlvL21hdGVyaWFsLylcbiAqIENvcHlyaWdodCAyMDExLTIwMTggRGFlbW9uIFB0eSBMdGRcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL0RhZW1vbml0ZS9tYXRlcmlhbC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cywgcmVxdWlyZSgnanF1ZXJ5JykpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdqcXVlcnknXSwgZmFjdG9yeSkgOlxuICAoZmFjdG9yeSgoZ2xvYmFsLm1hdGVyaWFsID0ge30pLGdsb2JhbC5qUXVlcnkpKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzLCQpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICQgPSAkICYmICQuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHQnKSA/ICRbJ2RlZmF1bHQnXSA6ICQ7XG5cbiAgLypcbiAgICogRXhwYW5zaW9uIHBhbmVsIHBsdWdpbnMgZXhwYW5kcyBhIGNvbGxhcHNlZCBwYW5lbCBpbiBmdWxsIHVwb24gc2VsZWN0aW5nXG4gICAqL1xuXG4gIHZhciBFeHBhbnNpb25QYW5lbCA9IGZ1bmN0aW9uICgkJCQxKSB7XG4gICAgLy8gY29uc3RhbnRzID4+PlxuICAgIHZhciBEQVRBX0tFWSA9ICdicy5jb2xsYXBzZSc7XG4gICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICAgIFNIT1c6ICdzaG93JyxcbiAgICAgIFNIT1dfUFJFREVDRVNTT1I6ICdzaG93LXByZWRlY2Vzc29yJ1xuICAgIH07XG4gICAgdmFyIEV2ZW50ID0ge1xuICAgICAgSElERTogXCJoaWRlXCIgKyBFVkVOVF9LRVksXG4gICAgICBTSE9XOiBcInNob3dcIiArIEVWRU5UX0tFWVxuICAgIH07XG4gICAgdmFyIFNlbGVjdG9yID0ge1xuICAgICAgUEFORUw6ICcuZXhwYW5zaW9uLXBhbmVsJyxcbiAgICAgIFBBTkVMX0JPRFk6ICcuZXhwYW5zaW9uLXBhbmVsIC5jb2xsYXBzZScgLy8gPDw8IGNvbnN0YW50c1xuXG4gICAgfTtcbiAgICAkJCQxKGRvY3VtZW50KS5vbihcIlwiICsgRXZlbnQuSElERSwgU2VsZWN0b3IuUEFORUxfQk9EWSwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRhcmdldCA9ICQkJDEodGhpcykuY2xvc2VzdChTZWxlY3Rvci5QQU5FTCk7XG4gICAgICB0YXJnZXQucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuICAgICAgdmFyIHByZWRlY2Vzc29yID0gdGFyZ2V0LnByZXYoU2VsZWN0b3IuUEFORUwpO1xuXG4gICAgICBpZiAocHJlZGVjZXNzb3IubGVuZ3RoKSB7XG4gICAgICAgIHByZWRlY2Vzc29yLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XX1BSRURFQ0VTU09SKTtcbiAgICAgIH1cbiAgICB9KS5vbihcIlwiICsgRXZlbnQuU0hPVywgU2VsZWN0b3IuUEFORUxfQk9EWSwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRhcmdldCA9ICQkJDEodGhpcykuY2xvc2VzdChTZWxlY3Rvci5QQU5FTCk7XG4gICAgICB0YXJnZXQuYWRkQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuICAgICAgdmFyIHByZWRlY2Vzc29yID0gdGFyZ2V0LnByZXYoU2VsZWN0b3IuUEFORUwpO1xuXG4gICAgICBpZiAocHJlZGVjZXNzb3IubGVuZ3RoKSB7XG4gICAgICAgIHByZWRlY2Vzc29yLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XX1BSRURFQ0VTU09SKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSgkKTtcblxuICAvKlxuICAgKiBGbG9hdGluZyBsYWJlbCBwbHVnaW4gbW92ZXMgaW5saW5lIGxhYmVsIHRvIGZsb2F0IGFib3ZlIHRoZSBmaWVsZFxuICAgKiB3aGVuIGEgdXNlciBlbmdhZ2VzIHdpdGggdGhlIGFzc29zY2lhdGVkIHRleHQgaW5wdXQgZmllbGRcbiAgICovXG5cbiAgdmFyIEZsb2F0aW5nTGFiZWwgPSBmdW5jdGlvbiAoJCQkMSkge1xuICAgIC8vIGNvbnN0YW50cyA+Pj5cbiAgICB2YXIgREFUQV9LRVkgPSAnbWQuZmxvYXRpbmdsYWJlbCc7XG4gICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgdmFyIE5BTUUgPSAnZmxvYXRpbmdsYWJlbCc7XG4gICAgdmFyIE5PX0NPTkZMSUNUID0gJCQkMS5mbltOQU1FXTtcbiAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgSVNfRk9DVVNFRDogJ2lzLWZvY3VzZWQnLFxuICAgICAgSEFTX1ZBTFVFOiAnaGFzLXZhbHVlJ1xuICAgIH07XG4gICAgdmFyIEV2ZW50ID0ge1xuICAgICAgQ0hBTkdFOiBcImNoYW5nZVwiICsgRVZFTlRfS0VZLFxuICAgICAgRk9DVVNJTjogXCJmb2N1c2luXCIgKyBFVkVOVF9LRVksXG4gICAgICBGT0NVU09VVDogXCJmb2N1c291dFwiICsgRVZFTlRfS0VZXG4gICAgfTtcbiAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICBEQVRBX1BBUkVOVDogJy5mbG9hdGluZy1sYWJlbCcsXG4gICAgICBEQVRBX1RPR0dMRTogJy5mbG9hdGluZy1sYWJlbCAuY3VzdG9tLXNlbGVjdCwgLmZsb2F0aW5nLWxhYmVsIC5mb3JtLWNvbnRyb2wnIC8vIDw8PCBjb25zdGFudHNcblxuICAgIH07XG5cbiAgICB2YXIgRmxvYXRpbmdMYWJlbCA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIEZsb2F0aW5nTGFiZWwoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gJCQkMShlbGVtZW50KS5jbG9zZXN0KFNlbGVjdG9yLkRBVEFfUEFSRU5UKVswXTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IEZsb2F0aW5nTGFiZWwucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8uY2hhbmdlID0gZnVuY3Rpb24gY2hhbmdlKCkge1xuICAgICAgICBpZiAoJCQkMSh0aGlzLl9lbGVtZW50KS52YWwoKSB8fCAkJCQxKHRoaXMuX2VsZW1lbnQpLmlzKCdzZWxlY3QnKSAmJiAkJCQxKCdvcHRpb246Zmlyc3QtY2hpbGQnLCAkJCQxKHRoaXMuX2VsZW1lbnQpKS5odG1sKCkucmVwbGFjZSgnICcsICcnKSAhPT0gJycpIHtcbiAgICAgICAgICAkJCQxKHRoaXMuX3BhcmVudCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkhBU19WQUxVRSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCQkMSh0aGlzLl9wYXJlbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5IQVNfVkFMVUUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uZm9jdXNpbiA9IGZ1bmN0aW9uIGZvY3VzaW4oKSB7XG4gICAgICAgICQkJDEodGhpcy5fcGFyZW50KS5hZGRDbGFzcyhDbGFzc05hbWUuSVNfRk9DVVNFRCk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uZm9jdXNvdXQgPSBmdW5jdGlvbiBmb2N1c291dCgpIHtcbiAgICAgICAgJCQkMSh0aGlzLl9wYXJlbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5JU19GT0NVU0VEKTtcbiAgICAgIH07XG5cbiAgICAgIEZsb2F0aW5nTGFiZWwuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIF9ldmVudCA9IGV2ZW50ID8gZXZlbnQgOiAnY2hhbmdlJztcblxuICAgICAgICAgIHZhciBkYXRhID0gJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBGbG9hdGluZ0xhYmVsKHRoaXMpO1xuICAgICAgICAgICAgJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHlwZW9mIF9ldmVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtfZXZlbnRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgX2V2ZW50ICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhW19ldmVudF0oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIEZsb2F0aW5nTGFiZWw7XG4gICAgfSgpO1xuXG4gICAgJCQkMShkb2N1bWVudCkub24oRXZlbnQuQ0hBTkdFICsgXCIgXCIgKyBFdmVudC5GT0NVU0lOICsgXCIgXCIgKyBFdmVudC5GT0NVU09VVCwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgRmxvYXRpbmdMYWJlbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJCQkMSh0aGlzKSwgZXZlbnQudHlwZSk7XG4gICAgfSk7XG4gICAgJCQkMS5mbltOQU1FXSA9IEZsb2F0aW5nTGFiZWwuX2pRdWVyeUludGVyZmFjZTtcbiAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gRmxvYXRpbmdMYWJlbDtcblxuICAgICQkJDEuZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQkJDEuZm5bTkFNRV0gPSBOT19DT05GTElDVDtcbiAgICAgIHJldHVybiBGbG9hdGluZ0xhYmVsLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgfTtcblxuICAgIHJldHVybiBGbG9hdGluZ0xhYmVsO1xuICB9KCQpO1xuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuICAgICAgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgICBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgICB9KSk7XG4gICAgICB9XG5cbiAgICAgIG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIC8qXG4gICAqIEdsb2JhbCB1dGlsIGpzXG4gICAqIEJhc2VkIG9uIEJvb3RzdHJhcCdzICh2NC4xLlgpIGB1dGlsLmpzYFxuICAgKi9cblxuICB2YXIgVXRpbCA9IGZ1bmN0aW9uICgkJCQxKSB7XG4gICAgdmFyIE1BWF9VSUQgPSAxMDAwMDAwO1xuICAgIHZhciBNSUxMSVNFQ09ORFNfTVVMVElQTElFUiA9IDEwMDA7XG4gICAgdmFyIFRSQU5TSVRJT05fRU5EID0gJ3RyYW5zaXRpb25lbmQnO1xuXG4gICAgZnVuY3Rpb24gZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJpbmRUeXBlOiBUUkFOU0lUSU9OX0VORCxcbiAgICAgICAgZGVsZWdhdGVUeXBlOiBUUkFOU0lUSU9OX0VORCxcbiAgICAgICAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoJCQkMShldmVudC50YXJnZXQpLmlzKHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRyYW5zaXRpb25FbmRTdXBwb3J0KCkge1xuICAgICAgJCQkMS5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZCA9IHRyYW5zaXRpb25FbmRFbXVsYXRvcjtcbiAgICAgICQkJDEuZXZlbnQuc3BlY2lhbFtVdGlsLlRSQU5TSVRJT05fRU5EXSA9IGdldFNwZWNpYWxUcmFuc2l0aW9uRW5kRXZlbnQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b1R5cGUob2JqKSB7XG4gICAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbChvYmopLm1hdGNoKC9cXHMoW2Etel0rKS9pKVsxXS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmRFbXVsYXRvcihkdXJhdGlvbikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICAgICAgJCQkMSh0aGlzKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgICBVdGlsLnRyaWdnZXJUcmFuc2l0aW9uRW5kKF90aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIFV0aWwgPSB7XG4gICAgICBUUkFOU0lUSU9OX0VORDogJ21kVHJhbnNpdGlvbkVuZCcsXG4gICAgICBnZXRTZWxlY3RvckZyb21FbGVtZW50OiBmdW5jdGlvbiBnZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0Jyk7XG5cbiAgICAgICAgaWYgKCFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gJyMnKSB7XG4gICAgICAgICAgc2VsZWN0b3IgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgJHNlbGVjdG9yID0gJCQkMShkb2N1bWVudCkuZmluZChzZWxlY3Rvcik7XG4gICAgICAgICAgcmV0dXJuICRzZWxlY3Rvci5sZW5ndGggPiAwID8gc2VsZWN0b3IgOiBudWxsO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50OiBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9ICQkJDEoZWxlbWVudCkuY3NzKCd0cmFuc2l0aW9uLWR1cmF0aW9uJyk7XG5cbiAgICAgICAgaWYgKCF0cmFuc2l0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbi5zcGxpdCgnLCcpWzBdO1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh0cmFuc2l0aW9uRHVyYXRpb24pICogTUlMTElTRUNPTkRTX01VTFRJUExJRVI7XG4gICAgICB9LFxuICAgICAgZ2V0VUlEOiBmdW5jdGlvbiBnZXRVSUQocHJlZml4KSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgICAgICAgIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogTUFYX1VJRCk7XG4gICAgICAgIH0gd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpO1xuXG4gICAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgICB9LFxuICAgICAgaXNFbGVtZW50OiBmdW5jdGlvbiBpc0VsZW1lbnQob2JqKSB7XG4gICAgICAgIHJldHVybiAob2JqWzBdIHx8IG9iaikubm9kZVR5cGU7XG4gICAgICB9LFxuICAgICAgcmVmbG93OiBmdW5jdGlvbiByZWZsb3coZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICB9LFxuICAgICAgc3VwcG9ydHNUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiBzdXBwb3J0c1RyYW5zaXRpb25FbmQoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKFRSQU5TSVRJT05fRU5EKTtcbiAgICAgIH0sXG4gICAgICB0cmlnZ2VyVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gdHJpZ2dlclRyYW5zaXRpb25FbmQoZWxlbWVudCkge1xuICAgICAgICAkJCQxKGVsZW1lbnQpLnRyaWdnZXIoVFJBTlNJVElPTl9FTkQpO1xuICAgICAgfSxcbiAgICAgIHR5cGVDaGVja0NvbmZpZzogZnVuY3Rpb24gdHlwZUNoZWNrQ29uZmlnKGNvbXBvbmVudE5hbWUsIGNvbmZpZywgY29uZmlnVHlwZXMpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gY29uZmlnVHlwZXMpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZ1R5cGVzLCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIHZhciBleHBlY3RlZFR5cGVzID0gY29uZmlnVHlwZXNbcHJvcGVydHldO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29uZmlnW3Byb3BlcnR5XTtcbiAgICAgICAgICAgIHZhciB2YWx1ZVR5cGUgPSB2YWx1ZSAmJiBVdGlsLmlzRWxlbWVudCh2YWx1ZSkgPyAnZWxlbWVudCcgOiB0b1R5cGUodmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAoIW5ldyBSZWdFeHAoZXhwZWN0ZWRUeXBlcykudGVzdCh2YWx1ZVR5cGUpKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjb21wb25lbnROYW1lLnRvVXBwZXJDYXNlKCkgKyBcIjogXCIgKyAoXCJPcHRpb24gXFxcIlwiICsgcHJvcGVydHkgKyBcIlxcXCIgcHJvdmlkZWQgdHlwZSBcXFwiXCIgKyB2YWx1ZVR5cGUgKyBcIlxcXCIgXCIpICsgKFwiYnV0IGV4cGVjdGVkIHR5cGUgXFxcIlwiICsgZXhwZWN0ZWRUeXBlcyArIFwiXFxcIi5cIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKTtcbiAgICByZXR1cm4gVXRpbDtcbiAgfSgkKTtcblxuICAvKlxuICAgKiBOYXZpZ2F0aW9uIGRyYXdlciBwbGd1aW5cbiAgICogQmFzZWQgb24gQm9vdHN0cmFwJ3MgKHY0LjEuWCkgYG1vZGFsLmpzYFxuICAgKi9cblxuICB2YXIgTmF2RHJhd2VyID0gZnVuY3Rpb24gKCQkJDEpIHtcbiAgICAvLyBjb25zdGFudHMgPj4+XG4gICAgdmFyIERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xuICAgIHZhciBEQVRBX0tFWSA9ICdtZC5uYXZkcmF3ZXInO1xuICAgIHZhciBFU0NBUEVfS0VZQ09ERSA9IDI3O1xuICAgIHZhciBFVkVOVF9LRVkgPSBcIi5cIiArIERBVEFfS0VZO1xuICAgIHZhciBOQU1FID0gJ25hdmRyYXdlcic7XG4gICAgdmFyIE5PX0NPTkZMSUNUID0gJCQkMS5mbltOQU1FXTtcbiAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgQkFDS0RST1A6ICduYXZkcmF3ZXItYmFja2Ryb3AnLFxuICAgICAgT1BFTjogJ25hdmRyYXdlci1vcGVuJyxcbiAgICAgIFNIT1c6ICdzaG93J1xuICAgIH07XG4gICAgdmFyIERlZmF1bHQgPSB7XG4gICAgICBicmVha3BvaW50OiAnJyxcbiAgICAgIGtleWJvYXJkOiB0cnVlLFxuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIHR5cGU6ICdkZWZhdWx0J1xuICAgIH07XG4gICAgdmFyIERlZmF1bHRUeXBlID0ge1xuICAgICAga2V5Ym9hcmQ6ICdib29sZWFuJyxcbiAgICAgIHNob3c6ICdib29sZWFuJyxcbiAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfTtcbiAgICB2YXIgRXZlbnQgPSB7XG4gICAgICBDTElDS19EQVRBX0FQSTogXCJjbGlja1wiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZLFxuICAgICAgQ0xJQ0tfRElTTUlTUzogXCJjbGljay5kaXNtaXNzXCIgKyBFVkVOVF9LRVksXG4gICAgICBGT0NVU0lOOiBcImZvY3VzaW5cIiArIEVWRU5UX0tFWSxcbiAgICAgIEhJRERFTjogXCJoaWRkZW5cIiArIEVWRU5UX0tFWSxcbiAgICAgIEhJREU6IFwiaGlkZVwiICsgRVZFTlRfS0VZLFxuICAgICAgS0VZRE9XTl9ESVNNSVNTOiBcImtleWRvd24uZGlzbWlzc1wiICsgRVZFTlRfS0VZLFxuICAgICAgTU9VU0VET1dOX0RJU01JU1M6IFwibW91c2Vkb3duLmRpc21pc3NcIiArIEVWRU5UX0tFWSxcbiAgICAgIE1PVVNFVVBfRElTTUlTUzogXCJtb3VzZXVwLmRpc21pc3NcIiArIEVWRU5UX0tFWSxcbiAgICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZLFxuICAgICAgU0hPV046IFwic2hvd25cIiArIEVWRU5UX0tFWVxuICAgIH07XG4gICAgdmFyIFNlbGVjdG9yID0ge1xuICAgICAgQ09OVEVOVDogJy5uYXZkcmF3ZXItY29udGVudCcsXG4gICAgICBEQVRBX0RJU01JU1M6ICdbZGF0YS1kaXNtaXNzPVwibmF2ZHJhd2VyXCJdJyxcbiAgICAgIERBVEFfVE9HR0xFOiAnW2RhdGEtdG9nZ2xlPVwibmF2ZHJhd2VyXCJdJyAvLyA8PDwgY29uc3RhbnRzXG5cbiAgICB9O1xuXG4gICAgdmFyIE5hdkRyYXdlciA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIE5hdkRyYXdlcihlbGVtZW50LCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5fY29udGVudCA9ICQkJDEoZWxlbWVudCkuZmluZChTZWxlY3Rvci5DT05URU5UKVswXTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgICAgICB0aGlzLl90eXBlQnJlYWtwb2ludCA9IHRoaXMuX2NvbmZpZy5icmVha3BvaW50ID09PSAnJyA/ICcnIDogXCItXCIgKyB0aGlzLl9jb25maWcuYnJlYWtwb2ludDtcbiAgICAgIH1cblxuICAgICAgdmFyIF9wcm90byA9IE5hdkRyYXdlci5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5oaWRlID0gZnVuY3Rpb24gaGlkZShldmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nIHx8ICF0aGlzLl9pc1Nob3duKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhpZGVFdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuSElERSk7XG4gICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkudHJpZ2dlcihoaWRlRXZlbnQpO1xuXG4gICAgICAgIGlmICghdGhpcy5faXNTaG93biB8fCBoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcblxuICAgICAgICAkJCQxKGRvY3VtZW50KS5vZmYoRXZlbnQuRk9DVVNJTik7XG4gICAgICAgICQkJDEoZG9jdW1lbnQuYm9keSkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLk9QRU4gKyBcIi1cIiArIHRoaXMuX2NvbmZpZy50eXBlICsgdGhpcy5fdHlwZUJyZWFrcG9pbnQpO1xuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcbiAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vZmYoRXZlbnQuQ0xJQ0tfRElTTUlTUyk7XG4gICAgICAgICQkJDEodGhpcy5fY29udGVudCkub2ZmKEV2ZW50Lk1PVVNFRE9XTl9ESVNNSVNTKTtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fY29udGVudCk7XG4gICAgICAgICQkJDEodGhpcy5fY29udGVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5faGlkZU5hdmRyYXdlcihldmVudCk7XG4gICAgICAgIH0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG5cbiAgICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKCk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3cocmVsYXRlZFRhcmdldCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nIHx8IHRoaXMuX2lzU2hvd24pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgICB2YXIgc2hvd0V2ZW50ID0gJCQkMS5FdmVudChFdmVudC5TSE9XLCB7XG4gICAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldFxuICAgICAgICB9KTtcbiAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzU2hvd24gfHwgc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faXNTaG93biA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcblxuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLmFkZENsYXNzKE5BTUUgKyBcIi1cIiArIHRoaXMuX2NvbmZpZy50eXBlICsgdGhpcy5fdHlwZUJyZWFrcG9pbnQpO1xuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RJU01JU1MsIFNlbGVjdG9yLkRBVEFfRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5oaWRlKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgICQkJDEodGhpcy5fY29udGVudCkub24oRXZlbnQuTU9VU0VET1dOX0RJU01JU1MsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkJCQxKF90aGlzMi5fZWxlbWVudCkub25lKEV2ZW50Lk1PVVNFVVBfRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoJCQkMShldmVudC50YXJnZXQpLmlzKF90aGlzMi5fZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLl9pZ25vcmVCYWNrZHJvcENsaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKCk7XG5cbiAgICAgICAgdGhpcy5fc2hvd0VsZW1lbnQocmVsYXRlZFRhcmdldCk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzU2hvd24gPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdyhyZWxhdGVkVGFyZ2V0KTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5fZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gX2VuZm9yY2VGb2N1cygpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgJCQkMShkb2N1bWVudCkub2ZmKEV2ZW50LkZPQ1VTSU4pLm9uKEV2ZW50LkZPQ1VTSU4sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGlmIChkb2N1bWVudCAhPT0gZXZlbnQudGFyZ2V0ICYmIF90aGlzMy5fZWxlbWVudCAhPT0gZXZlbnQudGFyZ2V0ICYmICQkJDEoX3RoaXMzLl9lbGVtZW50KS5oYXMoZXZlbnQudGFyZ2V0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIF90aGlzMy5fZWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIERlZmF1bHQsIGNvbmZpZyk7XG4gICAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgRGVmYXVsdFR5cGUpO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLl9oaWRlTmF2ZHJhd2VyID0gZnVuY3Rpb24gX2hpZGVOYXZkcmF3ZXIoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKTtcblxuICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKEV2ZW50LkhJRERFTik7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uX3JlbW92ZUJhY2tkcm9wID0gZnVuY3Rpb24gX3JlbW92ZUJhY2tkcm9wKCkge1xuICAgICAgICBpZiAodGhpcy5fYmFja2Ryb3ApIHtcbiAgICAgICAgICAkJCQxKHRoaXMuX2JhY2tkcm9wKS5yZW1vdmUoKTtcbiAgICAgICAgICB0aGlzLl9iYWNrZHJvcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5fc2V0RXNjYXBlRXZlbnQgPSBmdW5jdGlvbiBfc2V0RXNjYXBlRXZlbnQoKSB7XG4gICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc1Nob3duICYmIHRoaXMuX2NvbmZpZy5rZXlib2FyZCkge1xuICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub24oRXZlbnQuS0VZRE9XTl9ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gRVNDQVBFX0tFWUNPREUpIHtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICBfdGhpczQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc1Nob3duKSB7XG4gICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vZmYoRXZlbnQuS0VZRE9XTl9ESVNNSVNTKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgX3Byb3RvLl9zaG93QmFja2Ryb3AgPSBmdW5jdGlvbiBfc2hvd0JhY2tkcm9wKCkge1xuICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5faXNTaG93bikge1xuICAgICAgICAgIHRoaXMuX2JhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgJCQkMSh0aGlzLl9iYWNrZHJvcCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkJBQ0tEUk9QKS5hZGRDbGFzcyhDbGFzc05hbWUuQkFDS0RST1AgKyBcIi1cIiArIHRoaXMuX2NvbmZpZy50eXBlICsgdGhpcy5fdHlwZUJyZWFrcG9pbnQpLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO1xuICAgICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub24oRXZlbnQuQ0xJQ0tfRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoX3RoaXM1Ll9pZ25vcmVCYWNrZHJvcENsaWNrKSB7XG4gICAgICAgICAgICAgIF90aGlzNS5faWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczUuaGlkZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFV0aWwucmVmbG93KHRoaXMuX2JhY2tkcm9wKTtcbiAgICAgICAgICAkJCQxKHRoaXMuX2JhY2tkcm9wKS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2lzU2hvd24gJiYgdGhpcy5fYmFja2Ryb3ApIHtcbiAgICAgICAgICAkJCQxKHRoaXMuX2JhY2tkcm9wKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgICAgICB0aGlzLl9yZW1vdmVCYWNrZHJvcCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uX3Nob3dFbGVtZW50ID0gZnVuY3Rpb24gX3Nob3dFbGVtZW50KHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUgfHwgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuXG4gICAgICAgIFV0aWwucmVmbG93KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICAkJCQxKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKENsYXNzTmFtZS5PUEVOICsgXCItXCIgKyB0aGlzLl9jb25maWcudHlwZSArIHRoaXMuX3R5cGVCcmVha3BvaW50KTtcbiAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG5cbiAgICAgICAgdGhpcy5fZW5mb3JjZUZvY3VzKCk7XG5cbiAgICAgICAgdmFyIHNob3duRXZlbnQgPSAkJCQxLkV2ZW50KEV2ZW50LlNIT1dOLCB7XG4gICAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdHJhbnNpdGlvbkNvbXBsZXRlID0gZnVuY3Rpb24gdHJhbnNpdGlvbkNvbXBsZXRlKCkge1xuICAgICAgICAgIF90aGlzNi5fZWxlbWVudC5mb2N1cygpO1xuXG4gICAgICAgICAgX3RoaXM2Ll9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgICAgICAkJCQxKF90aGlzNi5fZWxlbWVudCkudHJpZ2dlcihzaG93bkV2ZW50KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9jb250ZW50KTtcbiAgICAgICAgJCQkMSh0aGlzLl9jb250ZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgdHJhbnNpdGlvbkNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgfTtcblxuICAgICAgTmF2RHJhd2VyLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZywgcmVsYXRlZFRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgX2NvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIERlZmF1bHQsICQkJDEodGhpcykuZGF0YSgpLCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSk7XG5cbiAgICAgICAgICB2YXIgZGF0YSA9ICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgTmF2RHJhd2VyKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICAgJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YVtjb25maWddKHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoX2NvbmZpZy5zaG93KSB7XG4gICAgICAgICAgICBkYXRhLnNob3cocmVsYXRlZFRhcmdldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIF9jcmVhdGVDbGFzcyhOYXZEcmF3ZXIsIG51bGwsIFt7XG4gICAgICAgIGtleTogXCJEZWZhdWx0XCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBEZWZhdWx0O1xuICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIHJldHVybiBOYXZEcmF3ZXI7XG4gICAgfSgpO1xuXG4gICAgJCQkMShkb2N1bWVudCkub24oRXZlbnQuQ0xJQ0tfREFUQV9BUEksIFNlbGVjdG9yLkRBVEFfVE9HR0xFLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7XG4gICAgICB2YXIgdGFyZ2V0O1xuXG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgdGFyZ2V0ID0gJCQkMShzZWxlY3RvcilbMF07XG4gICAgICB9XG5cbiAgICAgIHZhciBjb25maWcgPSAkJCQxKHRhcmdldCkuZGF0YShEQVRBX0tFWSkgPyAndG9nZ2xlJyA6IF9vYmplY3RTcHJlYWQoe30sICQkJDEodGFyZ2V0KS5kYXRhKCksICQkJDEodGhpcykuZGF0YSgpKTtcblxuICAgICAgaWYgKHRoaXMudGFnTmFtZSA9PT0gJ0EnIHx8IHRoaXMudGFnTmFtZSA9PT0gJ0FSRUEnKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIHZhciAkdGFyZ2V0ID0gJCQkMSh0YXJnZXQpLm9uZShFdmVudC5TSE9XLCBmdW5jdGlvbiAoc2hvd0V2ZW50KSB7XG4gICAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkdGFyZ2V0Lm9uZShFdmVudC5ISURERU4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoJCQkMShfdGhpczcpLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgICAgICBfdGhpczcuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIE5hdkRyYXdlci5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJCQkMSh0YXJnZXQpLCBjb25maWcsIHRoaXMpO1xuICAgIH0pO1xuICAgICQkJDEuZm5bTkFNRV0gPSBOYXZEcmF3ZXIuX2pRdWVyeUludGVyZmFjZTtcbiAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gTmF2RHJhd2VyO1xuXG4gICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJCQkMS5mbltOQU1FXSA9IE5PX0NPTkZMSUNUO1xuICAgICAgcmV0dXJuIE5hdkRyYXdlci5falF1ZXJ5SW50ZXJmYWNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gTmF2RHJhd2VyO1xuICB9KCQpO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcbiAgXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG4gIH1cblxuICB2YXIgcGlja2VyID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuICAvKiFcbiAgICogcGlja2FkYXRlLmpzIHYzLjUuNiwgMjAxNS8wNC8yMFxuICAgKiBCeSBBbXN1bCwgaHR0cDovL2Ftc3VsLmNhXG4gICAqIEhvc3RlZCBvbiBodHRwOi8vYW1zdWwuZ2l0aHViLmlvL3BpY2thZGF0ZS5qc1xuICAgKiBMaWNlbnNlZCB1bmRlciBNSVRcbiAgICovXG5cbiAgKGZ1bmN0aW9uICggZmFjdG9yeSApIHtcblxuICAgICAgLy8gQU1ELlxuICAgICAgaWYgKCB0eXBlb2YgdW5kZWZpbmVkID09ICdmdW5jdGlvbicgJiYgdW5kZWZpbmVkLmFtZCApXG4gICAgICAgICAgdW5kZWZpbmVkKCAncGlja2VyJywgWydqcXVlcnknXSwgZmFjdG9yeSApO1xuXG4gICAgICAvLyBOb2RlLmpzL2Jyb3dzZXJpZnkuXG4gICAgICBlbHNlIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSggJCApO1xuXG4gIH0oZnVuY3Rpb24oICQkJDEgKSB7XG5cbiAgdmFyICR3aW5kb3cgPSAkJCQxKCB3aW5kb3cgKTtcbiAgdmFyICRkb2N1bWVudCA9ICQkJDEoIGRvY3VtZW50ICk7XG4gIHZhciAkaHRtbCA9ICQkJDEoIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCApO1xuICB2YXIgc3VwcG9ydHNUcmFuc2l0aW9ucyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS50cmFuc2l0aW9uICE9IG51bGw7XG5cblxuICAvKipcbiAgICogVGhlIHBpY2tlciBjb25zdHJ1Y3RvciB0aGF0IGNyZWF0ZXMgYSBibGFuayBwaWNrZXIuXG4gICAqL1xuICBmdW5jdGlvbiBQaWNrZXJDb25zdHJ1Y3RvciggRUxFTUVOVCwgTkFNRSwgQ09NUE9ORU5ULCBPUFRJT05TICkge1xuXG4gICAgICAvLyBJZiB0aGVyZeKAmXMgbm8gZWxlbWVudCwgcmV0dXJuIHRoZSBwaWNrZXIgY29uc3RydWN0b3IuXG4gICAgICBpZiAoICFFTEVNRU5UICkgcmV0dXJuIFBpY2tlckNvbnN0cnVjdG9yXG5cblxuICAgICAgdmFyXG4gICAgICAgICAgSVNfREVGQVVMVF9USEVNRSA9IGZhbHNlLFxuXG5cbiAgICAgICAgICAvLyBUaGUgc3RhdGUgb2YgdGhlIHBpY2tlci5cbiAgICAgICAgICBTVEFURSA9IHtcbiAgICAgICAgICAgICAgaWQ6IEVMRU1FTlQuaWQgfHwgJ1AnICsgTWF0aC5hYnMoIH5+KE1hdGgucmFuZG9tKCkgKiBuZXcgRGF0ZSgpKSApXG4gICAgICAgICAgfSxcblxuXG4gICAgICAgICAgLy8gTWVyZ2UgdGhlIGRlZmF1bHRzIGFuZCBvcHRpb25zIHBhc3NlZC5cbiAgICAgICAgICBTRVRUSU5HUyA9IENPTVBPTkVOVCA/ICQkJDEuZXh0ZW5kKCB0cnVlLCB7fSwgQ09NUE9ORU5ULmRlZmF1bHRzLCBPUFRJT05TICkgOiBPUFRJT05TIHx8IHt9LFxuXG5cbiAgICAgICAgICAvLyBNZXJnZSB0aGUgZGVmYXVsdCBjbGFzc2VzIHdpdGggdGhlIHNldHRpbmdzIGNsYXNzZXMuXG4gICAgICAgICAgQ0xBU1NFUyA9ICQkJDEuZXh0ZW5kKCB7fSwgUGlja2VyQ29uc3RydWN0b3Iua2xhc3NlcygpLCBTRVRUSU5HUy5rbGFzcyApLFxuXG5cbiAgICAgICAgICAvLyBUaGUgZWxlbWVudCBub2RlIHdyYXBwZXIgaW50byBhIGpRdWVyeSBvYmplY3QuXG4gICAgICAgICAgJEVMRU1FTlQgPSAkJCQxKCBFTEVNRU5UICksXG5cblxuICAgICAgICAgIC8vIFBzZXVkbyBwaWNrZXIgY29uc3RydWN0b3IuXG4gICAgICAgICAgUGlja2VySW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQoKVxuICAgICAgICAgIH0sXG5cblxuICAgICAgICAgIC8vIFRoZSBwaWNrZXIgcHJvdG90eXBlLlxuICAgICAgICAgIFAgPSBQaWNrZXJJbnN0YW5jZS5wcm90b3R5cGUgPSB7XG5cbiAgICAgICAgICAgICAgY29uc3RydWN0b3I6IFBpY2tlckluc3RhbmNlLFxuXG4gICAgICAgICAgICAgICRub2RlOiAkRUxFTUVOVCxcblxuXG4gICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgKiBJbml0aWFsaXplIGV2ZXJ5dGhpbmdcbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgLy8gSWYgaXTigJlzIGFscmVhZHkgc3RhcnRlZCwgZG8gbm90aGluZy5cbiAgICAgICAgICAgICAgICAgIGlmICggU1RBVEUgJiYgU1RBVEUuc3RhcnQgKSByZXR1cm4gUFxuXG5cbiAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcGlja2VyIHN0YXRlcy5cbiAgICAgICAgICAgICAgICAgIFNUQVRFLm1ldGhvZHMgPSB7fTtcbiAgICAgICAgICAgICAgICAgIFNUQVRFLnN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIFNUQVRFLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIFNUQVRFLnR5cGUgPSBFTEVNRU5ULnR5cGU7XG5cblxuICAgICAgICAgICAgICAgICAgLy8gQ29uZmlybSBmb2N1cyBzdGF0ZSwgY29udmVydCBpbnRvIHRleHQgaW5wdXQgdG8gcmVtb3ZlIFVBIHN0eWxpbmdzLFxuICAgICAgICAgICAgICAgICAgLy8gYW5kIHNldCBhcyByZWFkb25seSB0byBwcmV2ZW50IGtleWJvYXJkIHBvcHVwLlxuICAgICAgICAgICAgICAgICAgRUxFTUVOVC5hdXRvZm9jdXMgPSBFTEVNRU5UID09IGdldEFjdGl2ZUVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgIEVMRU1FTlQucmVhZE9ubHkgPSAhU0VUVElOR1MuZWRpdGFibGU7XG4gICAgICAgICAgICAgICAgICBFTEVNRU5ULmlkID0gRUxFTUVOVC5pZCB8fCBTVEFURS5pZDtcbiAgICAgICAgICAgICAgICAgIGlmICggRUxFTUVOVC50eXBlICE9ICd0ZXh0JyApIHtcbiAgICAgICAgICAgICAgICAgICAgICBFTEVNRU5ULnR5cGUgPSAndGV4dCc7XG4gICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBpY2tlciBjb21wb25lbnQgd2l0aCB0aGUgc2V0dGluZ3MuXG4gICAgICAgICAgICAgICAgICBQLmNvbXBvbmVudCA9IG5ldyBDT01QT05FTlQoUCwgU0VUVElOR1MpO1xuXG5cbiAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgcGlja2VyIHJvb3QgYW5kIHRoZW4gcHJlcGFyZSBpdC5cbiAgICAgICAgICAgICAgICAgIFAuJHJvb3QgPSAkJCQxKCAnPGRpdiBjbGFzcz1cIicgKyBDTEFTU0VTLnBpY2tlciArICdcIiBpZD1cIicgKyBFTEVNRU5ULmlkICsgJ19yb290XCIgLz4nICk7XG4gICAgICAgICAgICAgICAgICBwcmVwYXJlRWxlbWVudFJvb3QoKTtcblxuXG4gICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHBpY2tlciBob2xkZXIgYW5kIHRoZW4gcHJlcGFyZSBpdC5cbiAgICAgICAgICAgICAgICAgIFAuJGhvbGRlciA9ICQkJDEoIGNyZWF0ZVdyYXBwZWRDb21wb25lbnQoKSApLmFwcGVuZFRvKCBQLiRyb290ICk7XG4gICAgICAgICAgICAgICAgICBwcmVwYXJlRWxlbWVudEhvbGRlcigpO1xuXG5cbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJl4oCZcyBhIGZvcm1hdCBmb3IgdGhlIGhpZGRlbiBpbnB1dCBlbGVtZW50LCBjcmVhdGUgdGhlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICBpZiAoIFNFVFRJTkdTLmZvcm1hdFN1Ym1pdCApIHtcbiAgICAgICAgICAgICAgICAgICAgICBwcmVwYXJlRWxlbWVudEhpZGRlbigpO1xuICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgIC8vIFByZXBhcmUgdGhlIGlucHV0IGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICBwcmVwYXJlRWxlbWVudCgpO1xuXG5cbiAgICAgICAgICAgICAgICAgIC8vIEluc2VydCB0aGUgaGlkZGVuIGlucHV0IGFzIHNwZWNpZmllZCBpbiB0aGUgc2V0dGluZ3MuXG4gICAgICAgICAgICAgICAgICBpZiAoIFNFVFRJTkdTLmNvbnRhaW5lckhpZGRlbiApICQkJDEoIFNFVFRJTkdTLmNvbnRhaW5lckhpZGRlbiApLmFwcGVuZCggUC5faGlkZGVuICk7XG4gICAgICAgICAgICAgICAgICBlbHNlICRFTEVNRU5ULmFmdGVyKCBQLl9oaWRkZW4gKTtcblxuXG4gICAgICAgICAgICAgICAgICAvLyBJbnNlcnQgdGhlIHJvb3QgYXMgc3BlY2lmaWVkIGluIHRoZSBzZXR0aW5ncy5cbiAgICAgICAgICAgICAgICAgIGlmICggU0VUVElOR1MuY29udGFpbmVyICkgJCQkMSggU0VUVElOR1MuY29udGFpbmVyICkuYXBwZW5kKCBQLiRyb290ICk7XG4gICAgICAgICAgICAgICAgICBlbHNlICRFTEVNRU5ULmFmdGVyKCBQLiRyb290ICk7XG5cblxuICAgICAgICAgICAgICAgICAgLy8gQmluZCB0aGUgZGVmYXVsdCBjb21wb25lbnQgYW5kIHNldHRpbmdzIGV2ZW50cy5cbiAgICAgICAgICAgICAgICAgIFAub24oe1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBQLmNvbXBvbmVudC5vblN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcjogUC5jb21wb25lbnQub25SZW5kZXIsXG4gICAgICAgICAgICAgICAgICAgICAgc3RvcDogUC5jb21wb25lbnQub25TdG9wLFxuICAgICAgICAgICAgICAgICAgICAgIG9wZW46IFAuY29tcG9uZW50Lm9uT3BlbixcbiAgICAgICAgICAgICAgICAgICAgICBjbG9zZTogUC5jb21wb25lbnQub25DbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXQ6IFAuY29tcG9uZW50Lm9uU2V0XG4gICAgICAgICAgICAgICAgICB9KS5vbih7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFNFVFRJTkdTLm9uU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgcmVuZGVyOiBTRVRUSU5HUy5vblJlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgICBzdG9wOiBTRVRUSU5HUy5vblN0b3AsXG4gICAgICAgICAgICAgICAgICAgICAgb3BlbjogU0VUVElOR1Mub25PcGVuLFxuICAgICAgICAgICAgICAgICAgICAgIGNsb3NlOiBTRVRUSU5HUy5vbkNsb3NlLFxuICAgICAgICAgICAgICAgICAgICAgIHNldDogU0VUVElOR1Mub25TZXRcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICAgIC8vIE9uY2Ugd2XigJlyZSBhbGwgc2V0LCBjaGVjayB0aGUgdGhlbWUgaW4gdXNlLlxuICAgICAgICAgICAgICAgICAgSVNfREVGQVVMVF9USEVNRSA9IGlzVXNpbmdEZWZhdWx0VGhlbWUoIFAuJGhvbGRlclswXSApO1xuXG5cbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGhhcyBhdXRvZm9jdXMsIG9wZW4gdGhlIHBpY2tlci5cbiAgICAgICAgICAgICAgICAgIGlmICggRUxFTUVOVC5hdXRvZm9jdXMgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgUC5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBxdWV1ZWQgdGhlIOKAnHN0YXJ04oCdIGFuZCDigJxyZW5kZXLigJ0gZXZlbnRzLlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFAudHJpZ2dlciggJ3N0YXJ0JyApLnRyaWdnZXIoICdyZW5kZXInIClcbiAgICAgICAgICAgICAgfSwgLy9zdGFydFxuXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIFJlbmRlciBhIG5ldyBwaWNrZXJcbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24oIGVudGlyZUNvbXBvbmVudCApIHtcblxuICAgICAgICAgICAgICAgICAgLy8gSW5zZXJ0IGEgbmV3IGNvbXBvbmVudCBob2xkZXIgaW4gdGhlIHJvb3Qgb3IgYm94LlxuICAgICAgICAgICAgICAgICAgaWYgKCBlbnRpcmVDb21wb25lbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgUC4kaG9sZGVyID0gJCQkMSggY3JlYXRlV3JhcHBlZENvbXBvbmVudCgpICk7XG4gICAgICAgICAgICAgICAgICAgICAgcHJlcGFyZUVsZW1lbnRIb2xkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICBQLiRyb290Lmh0bWwoIFAuJGhvbGRlciApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZWxzZSBQLiRyb290LmZpbmQoICcuJyArIENMQVNTRVMuYm94ICkuaHRtbCggUC5jb21wb25lbnQubm9kZXMoIFNUQVRFLm9wZW4gKSApO1xuXG4gICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBxdWV1ZWQg4oCccmVuZGVy4oCdIGV2ZW50cy5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBQLnRyaWdnZXIoICdyZW5kZXInIClcbiAgICAgICAgICAgICAgfSwgLy9yZW5kZXJcblxuXG4gICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgKiBEZXN0cm95IGV2ZXJ5dGhpbmdcbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAvLyBJZiBpdOKAmXMgYWxyZWFkeSBzdG9wcGVkLCBkbyBub3RoaW5nLlxuICAgICAgICAgICAgICAgICAgaWYgKCAhU1RBVEUuc3RhcnQgKSByZXR1cm4gUFxuXG4gICAgICAgICAgICAgICAgICAvLyBUaGVuIGNsb3NlIHRoZSBwaWNrZXIuXG4gICAgICAgICAgICAgICAgICBQLmNsb3NlKCk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgaGlkZGVuIGZpZWxkLlxuICAgICAgICAgICAgICAgICAgaWYgKCBQLl9oaWRkZW4gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgUC5faGlkZGVuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIFAuX2hpZGRlbiApO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHJvb3QuXG4gICAgICAgICAgICAgICAgICBQLiRyb290LnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGlucHV0IGNsYXNzLCByZW1vdmUgdGhlIHN0b3JlZCBkYXRhLCBhbmQgdW5iaW5kXG4gICAgICAgICAgICAgICAgICAvLyB0aGUgZXZlbnRzIChhZnRlciBhIHRpY2sgZm9yIElFIC0gc2VlIGBQLmNsb3NlYCkuXG4gICAgICAgICAgICAgICAgICAkRUxFTUVOVC5yZW1vdmVDbGFzcyggQ0xBU1NFUy5pbnB1dCApLnJlbW92ZURhdGEoIE5BTUUgKTtcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICRFTEVNRU5ULm9mZiggJy4nICsgU1RBVEUuaWQgKTtcbiAgICAgICAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgICAgICAgICAgICAvLyBSZXN0b3JlIHRoZSBlbGVtZW50IHN0YXRlXG4gICAgICAgICAgICAgICAgICBFTEVNRU5ULnR5cGUgPSBTVEFURS50eXBlO1xuICAgICAgICAgICAgICAgICAgRUxFTUVOVC5yZWFkT25seSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBxdWV1ZWQg4oCcc3RvcOKAnSBldmVudHMuXG4gICAgICAgICAgICAgICAgICBQLnRyaWdnZXIoICdzdG9wJyApO1xuXG4gICAgICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgcGlja2VyIHN0YXRlcy5cbiAgICAgICAgICAgICAgICAgIFNUQVRFLm1ldGhvZHMgPSB7fTtcbiAgICAgICAgICAgICAgICAgIFNUQVRFLnN0YXJ0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBQXG4gICAgICAgICAgICAgIH0sIC8vc3RvcFxuXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIE9wZW4gdXAgdGhlIHBpY2tlclxuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgb3BlbjogZnVuY3Rpb24oIGRvbnRHaXZlRm9jdXMgKSB7XG5cbiAgICAgICAgICAgICAgICAgIC8vIElmIGl04oCZcyBhbHJlYWR5IG9wZW4sIGRvIG5vdGhpbmcuXG4gICAgICAgICAgICAgICAgICBpZiAoIFNUQVRFLm9wZW4gKSByZXR1cm4gUFxuXG4gICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIOKAnGFjdGl2ZeKAnSBjbGFzcy5cbiAgICAgICAgICAgICAgICAgICRFTEVNRU5ULmFkZENsYXNzKCBDTEFTU0VTLmFjdGl2ZSApO1xuICAgICAgICAgICAgICAgICAgYXJpYSggRUxFTUVOVCwgJ2V4cGFuZGVkJywgdHJ1ZSApO1xuXG4gICAgICAgICAgICAgICAgICAvLyAqIEEgRmlyZWZveCBidWcsIHdoZW4gYGh0bWxgIGhhcyBgb3ZlcmZsb3c6aGlkZGVuYCwgcmVzdWx0cyBpblxuICAgICAgICAgICAgICAgICAgLy8gICBraWxsaW5nIHRyYW5zaXRpb25zIDooLiBTbyBhZGQgdGhlIOKAnG9wZW5lZOKAnSBzdGF0ZSBvbiB0aGUgbmV4dCB0aWNrLlxuICAgICAgICAgICAgICAgICAgLy8gICBCdWc6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTYyNTI4OVxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIOKAnG9wZW5lZOKAnSBjbGFzcyB0byB0aGUgcGlja2VyIHJvb3QuXG4gICAgICAgICAgICAgICAgICAgICAgUC4kcm9vdC5hZGRDbGFzcyggQ0xBU1NFUy5vcGVuZWQgKTtcbiAgICAgICAgICAgICAgICAgICAgICBhcmlhKCBQLiRyb290WzBdLCAnaGlkZGVuJywgZmFsc2UgKTtcblxuICAgICAgICAgICAgICAgICAgfSwgMCApO1xuXG4gICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIHRvIGdpdmUgZm9jdXMsIGJpbmQgdGhlIGVsZW1lbnQgYW5kIGRvYyBldmVudHMuXG4gICAgICAgICAgICAgICAgICBpZiAoIGRvbnRHaXZlRm9jdXMgIT09IGZhbHNlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGl0IGFzIG9wZW4uXG4gICAgICAgICAgICAgICAgICAgICAgU1RBVEUub3BlbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSBwYWdlIGZyb20gc2Nyb2xsaW5nLlxuICAgICAgICAgICAgICAgICAgICAgIGlmICggSVNfREVGQVVMVF9USEVNRSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0bWwuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3MoICdvdmVyZmxvdycsICdoaWRkZW4nICkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3MoICdwYWRkaW5nLXJpZ2h0JywgJys9JyArIGdldFNjcm9sbGJhcldpZHRoKCkgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIGZvY3VzIHRvIHRoZSByb290IGVsZW1lbnTigJlzIGpRdWVyeSBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgICAgZm9jdXNQaWNrZXJPbmNlT3BlbmVkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBCaW5kIHRoZSBkb2N1bWVudCBldmVudHMuXG4gICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50Lm9uKCAnY2xpY2suJyArIFNUQVRFLmlkICsgJyBmb2N1c2luLicgKyBTVEFURS5pZCwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRhcmdldCBvZiB0aGUgZXZlbnQgaXMgbm90IHRoZSBlbGVtZW50LCBjbG9zZSB0aGUgcGlja2VyIHBpY2tlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKiBEb27igJl0IHdvcnJ5IGFib3V0IGNsaWNrcyBvciBmb2N1c2lucyBvbiB0aGUgcm9vdCBiZWNhdXNlIHRob3NlIGRvbuKAmXQgYnViYmxlIHVwLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIEFsc28sIGZvciBGaXJlZm94LCBhIGNsaWNrIG9uIGFuIGBvcHRpb25gIGVsZW1lbnQgYnViYmxlcyB1cCBkaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHRvIHRoZSBkb2MuIFNvIG1ha2Ugc3VyZSB0aGUgdGFyZ2V0IHdhc24ndCB0aGUgZG9jLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAqIEluIEZpcmVmb3ggc3RvcFByb3BhZ2F0aW9uKCkgZG9lc27igJl0IHByZXZlbnQgcmlnaHQtY2xpY2sgZXZlbnRzIGZyb20gYnViYmxpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgd2hpY2ggY2F1c2VzIHRoZSBwaWNrZXIgdG8gdW5leHBlY3RlZGx5IGNsb3NlIHdoZW4gcmlnaHQtY2xpY2tpbmcgaXQuIFNvIG1ha2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBzdXJlIHRoZSBldmVudCB3YXNu4oCZdCBhIHJpZ2h0LWNsaWNrLlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHRhcmdldCAhPSBFTEVNRU5UICYmIHRhcmdldCAhPSBkb2N1bWVudCAmJiBldmVudC53aGljaCAhPSAzICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdGFyZ2V0IHdhcyB0aGUgaG9sZGVyIHRoYXQgY292ZXJzIHRoZSBzY3JlZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIHRoZSBlbGVtZW50IGZvY3VzZWQgdG8gbWFpbnRhaW4gdGFiaW5kZXguXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQLmNsb3NlKCB0YXJnZXQgPT09IFAuJGhvbGRlclswXSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICB9KS5vbiggJ2tleWRvd24uJyArIFNUQVRFLmlkLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGtleWNvZGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXljb2RlID0gZXZlbnQua2V5Q29kZSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhbnNsYXRlIHRoYXQgdG8gYSBzZWxlY3Rpb24gY2hhbmdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5Y29kZVRvTW92ZSA9IFAuY29tcG9uZW50LmtleVsga2V5Y29kZSBdLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHcmFiIHRoZSB0YXJnZXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbiBlc2NhcGUsIGNsb3NlIHRoZSBwaWNrZXIgYW5kIGdpdmUgZm9jdXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgga2V5Y29kZSA9PSAyNyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuY2xvc2UoIHRydWUgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBrZXkgbW92ZW1lbnQgb3Ig4oCcZW50ZXLigJ0ga2V5cHJlc3Mgb24gdGhlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCB0YXJnZXQgPT0gUC4kaG9sZGVyWzBdICYmICgga2V5Y29kZVRvTW92ZSB8fCBrZXljb2RlID09IDEzICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uIHRvIHN0b3AgcGFnZSBtb3ZlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIGtleSBtb3ZlbWVudCBhY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGtleWNvZGVUb01vdmUgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKCBQLmNvbXBvbmVudC5rZXkuZ28sIFAsIFsgUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKCBrZXljb2RlVG9Nb3ZlICkgXSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbiDigJxlbnRlcuKAnSwgaWYgdGhlIGhpZ2hsaWdodGVkIGl0ZW0gaXNu4oCZdCBkaXNhYmxlZCwgc2V0IHRoZSB2YWx1ZSBhbmQgY2xvc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICggIVAuJHJvb3QuZmluZCggJy4nICsgQ0xBU1NFUy5oaWdobGlnaHRlZCApLmhhc0NsYXNzKCBDTEFTU0VTLmRpc2FibGVkICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5zZXQoICdzZWxlY3QnLCBQLmNvbXBvbmVudC5pdGVtLmhpZ2hsaWdodCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggU0VUVElOR1MuY2xvc2VPblNlbGVjdCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jbG9zZSggdHJ1ZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRhcmdldCBpcyB3aXRoaW4gdGhlIHJvb3QgYW5kIOKAnGVudGVy4oCdIGlzIHByZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uIGFuZCB0cmlnZ2VyIGEgY2xpY2sgb24gdGhlIHRhcmdldCBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICggJCQkMS5jb250YWlucyggUC4kcm9vdFswXSwgdGFyZ2V0ICkgJiYga2V5Y29kZSA9PSAxMyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBxdWV1ZWQg4oCcb3BlbuKAnSBldmVudHMuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gUC50cmlnZ2VyKCAnb3BlbicgKVxuICAgICAgICAgICAgICB9LCAvL29wZW5cblxuXG4gICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgKiBDbG9zZSB0aGUgcGlja2VyXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24oIGdpdmVGb2N1cyApIHtcblxuICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgbmVlZCB0byBnaXZlIGZvY3VzLCBkbyBpdCBiZWZvcmUgY2hhbmdpbmcgc3RhdGVzLlxuICAgICAgICAgICAgICAgICAgaWYgKCBnaXZlRm9jdXMgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCBTRVRUSU5HUy5lZGl0YWJsZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgRUxFTUVOVC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi4uLmFoIHllcyEgSXQgd291bGTigJl2ZSBiZWVuIGluY29tcGxldGUgd2l0aG91dCBhIGNyYXp5IHdvcmthcm91bmQgZm9yIElFIDp8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBmb2N1cyBpcyB0cmlnZ2VyZWQgKmFmdGVyKiB0aGUgY2xvc2UgaGFzIGNvbXBsZXRlZCAtIGNhdXNpbmcgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gb3BlbiBhZ2Fpbi4gU28gdW5iaW5kIGFuZCByZWJpbmQgdGhlIGV2ZW50IGF0IHRoZSBuZXh0IHRpY2suXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFAuJGhvbGRlci5vZmYoICdmb2N1cy50b09wZW4nICkuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQLiRob2xkZXIub24oICdmb2N1cy50b09wZW4nLCBoYW5kbGVGb2N1c1RvT3BlbkV2ZW50ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUg4oCcYWN0aXZl4oCdIGNsYXNzLlxuICAgICAgICAgICAgICAgICAgJEVMRU1FTlQucmVtb3ZlQ2xhc3MoIENMQVNTRVMuYWN0aXZlICk7XG4gICAgICAgICAgICAgICAgICBhcmlhKCBFTEVNRU5ULCAnZXhwYW5kZWQnLCBmYWxzZSApO1xuXG4gICAgICAgICAgICAgICAgICAvLyAqIEEgRmlyZWZveCBidWcsIHdoZW4gYGh0bWxgIGhhcyBgb3ZlcmZsb3c6aGlkZGVuYCwgcmVzdWx0cyBpblxuICAgICAgICAgICAgICAgICAgLy8gICBraWxsaW5nIHRyYW5zaXRpb25zIDooLiBTbyByZW1vdmUgdGhlIOKAnG9wZW5lZOKAnSBzdGF0ZSBvbiB0aGUgbmV4dCB0aWNrLlxuICAgICAgICAgICAgICAgICAgLy8gICBCdWc6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTYyNTI4OVxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIOKAnG9wZW5lZOKAnSBhbmQg4oCcZm9jdXNlZOKAnSBjbGFzcyBmcm9tIHRoZSBwaWNrZXIgcm9vdC5cbiAgICAgICAgICAgICAgICAgICAgICBQLiRyb290LnJlbW92ZUNsYXNzKCBDTEFTU0VTLm9wZW5lZCArICcgJyArIENMQVNTRVMuZm9jdXNlZCApO1xuICAgICAgICAgICAgICAgICAgICAgIGFyaWEoIFAuJHJvb3RbMF0sICdoaWRkZW4nLCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICAgIH0sIDAgKTtcblxuICAgICAgICAgICAgICAgICAgLy8gSWYgaXTigJlzIGFscmVhZHkgY2xvc2VkLCBkbyBub3RoaW5nIG1vcmUuXG4gICAgICAgICAgICAgICAgICBpZiAoICFTVEFURS5vcGVuICkgcmV0dXJuIFBcblxuICAgICAgICAgICAgICAgICAgLy8gU2V0IGl0IGFzIGNsb3NlZC5cbiAgICAgICAgICAgICAgICAgIFNUQVRFLm9wZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgdGhlIHBhZ2UgdG8gc2Nyb2xsLlxuICAgICAgICAgICAgICAgICAgaWYgKCBJU19ERUZBVUxUX1RIRU1FICkge1xuICAgICAgICAgICAgICAgICAgICAgICRodG1sLlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjc3MoICdvdmVyZmxvdycsICcnICkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNzcyggJ3BhZGRpbmctcmlnaHQnLCAnLT0nICsgZ2V0U2Nyb2xsYmFyV2lkdGgoKSApO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBVbmJpbmQgdGhlIGRvY3VtZW50IGV2ZW50cy5cbiAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5vZmYoICcuJyArIFNUQVRFLmlkICk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIHF1ZXVlZCDigJxjbG9zZeKAnSBldmVudHMuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gUC50cmlnZ2VyKCAnY2xvc2UnIClcbiAgICAgICAgICAgICAgfSwgLy9jbG9zZVxuXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIENsZWFyIHRoZSB2YWx1ZXNcbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQLnNldCggJ2NsZWFyJywgbnVsbCwgb3B0aW9ucyApXG4gICAgICAgICAgICAgIH0sIC8vY2xlYXJcblxuXG4gICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgKiBTZXQgc29tZXRoaW5nXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKCB0aGluZywgdmFsdWUsIG9wdGlvbnMgKSB7XG5cbiAgICAgICAgICAgICAgICAgIHZhciB0aGluZ0l0ZW0sIHRoaW5nVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgdGhpbmdJc09iamVjdCA9ICQkJDEuaXNQbGFpbk9iamVjdCggdGhpbmcgKSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGluZ09iamVjdCA9IHRoaW5nSXNPYmplY3QgPyB0aGluZyA6IHt9O1xuXG4gICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSB1c2FibGUgb3B0aW9ucy5cbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB0aGluZ0lzT2JqZWN0ICYmICQkJDEuaXNQbGFpbk9iamVjdCggdmFsdWUgKSA/IHZhbHVlIDogb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAgICAgICAgICAgaWYgKCB0aGluZyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0aGluZyBpc27igJl0IGFuIG9iamVjdCwgbWFrZSBpdCBvbmUuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCAhdGhpbmdJc09iamVjdCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpbmdPYmplY3RbIHRoaW5nIF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSB0aGluZ3Mgb2YgaXRlbXMgdG8gc2V0LlxuICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHRoaW5nSXRlbSBpbiB0aGluZ09iamVjdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHcmFiIHRoZSB2YWx1ZSBvZiB0aGUgdGhpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaW5nVmFsdWUgPSB0aGluZ09iamVjdFsgdGhpbmdJdGVtIF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3QsIGlmIHRoZSBpdGVtIGV4aXN0cyBhbmQgdGhlcmXigJlzIGEgdmFsdWUsIHNldCBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGluZ0l0ZW0gaW4gUC5jb21wb25lbnQuaXRlbSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdGhpbmdWYWx1ZSA9PT0gdW5kZWZpbmVkICkgdGhpbmdWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQLmNvbXBvbmVudC5zZXQoIHRoaW5nSXRlbSwgdGhpbmdWYWx1ZSwgb3B0aW9ucyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlbiwgY2hlY2sgdG8gdXBkYXRlIHRoZSBlbGVtZW50IHZhbHVlIGFuZCBicm9hZGNhc3QgYSBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdGhpbmdJdGVtID09ICdzZWxlY3QnIHx8IHRoaW5nSXRlbSA9PSAnY2xlYXInICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEVMRU1FTlQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsKCB0aGluZ0l0ZW0gPT0gJ2NsZWFyJyA/ICcnIDogUC5nZXQoIHRoaW5nSXRlbSwgU0VUVElOR1MuZm9ybWF0ICkgKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyKCAnY2hhbmdlJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyIGEgbmV3IHBpY2tlci5cbiAgICAgICAgICAgICAgICAgICAgICBQLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBtZXRob2QgaXNu4oCZdCBtdXRlZCwgdHJpZ2dlciBxdWV1ZWQg4oCcc2V04oCdIGV2ZW50cyBhbmQgcGFzcyB0aGUgYHRoaW5nT2JqZWN0YC5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm11dGVkID8gUCA6IFAudHJpZ2dlciggJ3NldCcsIHRoaW5nT2JqZWN0IClcbiAgICAgICAgICAgICAgfSwgLy9zZXRcblxuXG4gICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgKiBHZXQgc29tZXRoaW5nXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCB0aGluZywgZm9ybWF0ICkge1xuXG4gICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlcmXigJlzIHNvbWV0aGluZyB0byBnZXQuXG4gICAgICAgICAgICAgICAgICB0aGluZyA9IHRoaW5nIHx8ICd2YWx1ZSc7XG5cbiAgICAgICAgICAgICAgICAgIC8vIElmIGEgcGlja2VyIHN0YXRlIGV4aXN0cywgcmV0dXJuIHRoYXQuXG4gICAgICAgICAgICAgICAgICBpZiAoIFNUQVRFWyB0aGluZyBdICE9IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFWyB0aGluZyBdXG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgc3VibWlzc2lvbiB2YWx1ZSwgaWYgdGhhdC5cbiAgICAgICAgICAgICAgICAgIGlmICggdGhpbmcgPT0gJ3ZhbHVlU3VibWl0JyApIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIFAuX2hpZGRlbiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFAuX2hpZGRlbi52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB0aGluZyA9ICd2YWx1ZSc7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUsIGlmIHRoYXQuXG4gICAgICAgICAgICAgICAgICBpZiAoIHRoaW5nID09ICd2YWx1ZScgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVMRU1FTlQudmFsdWVcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYSBjb21wb25lbnQgaXRlbSBleGlzdHMsIHJldHVybiB0aGF0LlxuICAgICAgICAgICAgICAgICAgaWYgKCB0aGluZyBpbiBQLmNvbXBvbmVudC5pdGVtICkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICggdHlwZW9mIGZvcm1hdCA9PSAnc3RyaW5nJyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaW5nVmFsdWUgPSBQLmNvbXBvbmVudC5nZXQoIHRoaW5nICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGluZ1ZhbHVlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBpY2tlckNvbnN0cnVjdG9yLl8udHJpZ2dlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQLmNvbXBvbmVudC5mb3JtYXRzLnRvU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsgZm9ybWF0LCB0aGluZ1ZhbHVlIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUC5jb21wb25lbnQuZ2V0KCB0aGluZyApXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIC8vZ2V0XG5cblxuXG4gICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgKiBCaW5kIGV2ZW50cyBvbiB0aGUgdGhpbmdzLlxuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgb246IGZ1bmN0aW9uKCB0aGluZywgbWV0aG9kLCBpbnRlcm5hbCApIHtcblxuICAgICAgICAgICAgICAgICAgdmFyIHRoaW5nTmFtZSwgdGhpbmdNZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgdGhpbmdJc09iamVjdCA9ICQkJDEuaXNQbGFpbk9iamVjdCggdGhpbmcgKSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGluZ09iamVjdCA9IHRoaW5nSXNPYmplY3QgPyB0aGluZyA6IHt9O1xuXG4gICAgICAgICAgICAgICAgICBpZiAoIHRoaW5nICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRoaW5nIGlzbuKAmXQgYW4gb2JqZWN0LCBtYWtlIGl0IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoICF0aGluZ0lzT2JqZWN0ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGluZ09iamVjdFsgdGhpbmcgXSA9IG1ldGhvZDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSB0aGluZ3MgdG8gYmluZCB0by5cbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKCB0aGluZ05hbWUgaW4gdGhpbmdPYmplY3QgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR3JhYiB0aGUgbWV0aG9kIG9mIHRoZSB0aGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpbmdNZXRob2QgPSB0aGluZ09iamVjdFsgdGhpbmdOYW1lIF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQgd2FzIGFuIGludGVybmFsIGJpbmRpbmcsIHByZWZpeCBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpbnRlcm5hbCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaW5nTmFtZSA9ICdfJyArIHRoaW5nTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdGhpbmcgbWV0aG9kcyBjb2xsZWN0aW9uIGV4aXN0cy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgU1RBVEUubWV0aG9kc1sgdGhpbmdOYW1lIF0gPSBTVEFURS5tZXRob2RzWyB0aGluZ05hbWUgXSB8fCBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIG1ldGhvZCB0byB0aGUgcmVsYXRpdmUgbWV0aG9kIGNvbGxlY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFNUQVRFLm1ldGhvZHNbIHRoaW5nTmFtZSBdLnB1c2goIHRoaW5nTWV0aG9kICk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gUFxuICAgICAgICAgICAgICB9LCAvL29uXG5cblxuXG4gICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgKiBVbmJpbmQgZXZlbnRzIG9uIHRoZSB0aGluZ3MuXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBvZmY6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGksIHRoaW5nTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lcyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAgIGZvciAoIGkgPSAwLCBuYW1lc0NvdW50ID0gbmFtZXMubGVuZ3RoOyBpIDwgbmFtZXNDb3VudDsgaSArPSAxICkge1xuICAgICAgICAgICAgICAgICAgICAgIHRoaW5nTmFtZSA9IG5hbWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICggdGhpbmdOYW1lIGluIFNUQVRFLm1ldGhvZHMgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBTVEFURS5tZXRob2RzW3RoaW5nTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFBcbiAgICAgICAgICAgICAgfSxcblxuXG4gICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgKiBGaXJlIG9mZiBtZXRob2QgZXZlbnRzLlxuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24oIG5hbWUsIGRhdGEgKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgX3RyaWdnZXIgPSBmdW5jdGlvbiggbmFtZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbWV0aG9kTGlzdCA9IFNUQVRFLm1ldGhvZHNbIG5hbWUgXTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIG1ldGhvZExpc3QgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZExpc3QubWFwKCBmdW5jdGlvbiggbWV0aG9kICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKCBtZXRob2QsIFAsIFsgZGF0YSBdICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICBfdHJpZ2dlciggJ18nICsgbmFtZSApO1xuICAgICAgICAgICAgICAgICAgX3RyaWdnZXIoIG5hbWUgKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQXG4gICAgICAgICAgICAgIH0gLy90cmlnZ2VyXG4gICAgICAgICAgfTsgLy9QaWNrZXJJbnN0YW5jZS5wcm90b3R5cGVcblxuXG4gICAgICAvKipcbiAgICAgICAqIFdyYXAgdGhlIHBpY2tlciBob2xkZXIgY29tcG9uZW50cyB0b2dldGhlci5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gY3JlYXRlV3JhcHBlZENvbXBvbmVudCgpIHtcblxuICAgICAgICAgIC8vIENyZWF0ZSBhIHBpY2tlciB3cmFwcGVyIGhvbGRlclxuICAgICAgICAgIHJldHVybiBQaWNrZXJDb25zdHJ1Y3Rvci5fLm5vZGUoICdkaXYnLFxuXG4gICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHBpY2tlciB3cmFwcGVyIG5vZGVcbiAgICAgICAgICAgICAgUGlja2VyQ29uc3RydWN0b3IuXy5ub2RlKCAnZGl2JyxcblxuICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgcGlja2VyIGZyYW1lXG4gICAgICAgICAgICAgICAgICBQaWNrZXJDb25zdHJ1Y3Rvci5fLm5vZGUoICdkaXYnLFxuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgcGlja2VyIGJveCBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgUGlja2VyQ29uc3RydWN0b3IuXy5ub2RlKCAnZGl2JyxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNvbXBvbmVudHMgbm9kZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFAuY29tcG9uZW50Lm5vZGVzKCBTVEFURS5vcGVuICksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHBpY2tlciBib3ggY2xhc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgQ0xBU1NFUy5ib3hcbiAgICAgICAgICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gUGlja2VyIHdyYXAgY2xhc3NcbiAgICAgICAgICAgICAgICAgICAgICBDTEFTU0VTLndyYXBcbiAgICAgICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgICAgIC8vIFBpY2tlciBmcmFtZSBjbGFzc1xuICAgICAgICAgICAgICAgICAgQ0xBU1NFUy5mcmFtZVxuICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgIC8vIFBpY2tlciBob2xkZXIgY2xhc3NcbiAgICAgICAgICAgICAgQ0xBU1NFUy5ob2xkZXIsXG5cbiAgICAgICAgICAgICAgJ3RhYmluZGV4PVwiLTFcIidcbiAgICAgICAgICApIC8vZW5kcmV0dXJuXG4gICAgICB9IC8vY3JlYXRlV3JhcHBlZENvbXBvbmVudFxuXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBQcmVwYXJlIHRoZSBpbnB1dCBlbGVtZW50IHdpdGggYWxsIGJpbmRpbmdzLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBwcmVwYXJlRWxlbWVudCgpIHtcblxuICAgICAgICAgICRFTEVNRU5ULlxuXG4gICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBwaWNrZXIgZGF0YSBieSBjb21wb25lbnQgbmFtZS5cbiAgICAgICAgICAgICAgZGF0YShOQU1FLCBQKS5cblxuICAgICAgICAgICAgICAvLyBBZGQgdGhlIOKAnGlucHV04oCdIGNsYXNzIG5hbWUuXG4gICAgICAgICAgICAgIGFkZENsYXNzKENMQVNTRVMuaW5wdXQpLlxuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJl4oCZcyBhIGBkYXRhLXZhbHVlYCwgdXBkYXRlIHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudC5cbiAgICAgICAgICAgICAgdmFsKCAkRUxFTUVOVC5kYXRhKCd2YWx1ZScpID9cbiAgICAgICAgICAgICAgICAgIFAuZ2V0KCdzZWxlY3QnLCBTRVRUSU5HUy5mb3JtYXQpIDpcbiAgICAgICAgICAgICAgICAgIEVMRU1FTlQudmFsdWVcbiAgICAgICAgICAgICAgKTtcblxuXG4gICAgICAgICAgLy8gT25seSBiaW5kIGtleWRvd24gZXZlbnRzIGlmIHRoZSBlbGVtZW50IGlzbuKAmXQgZWRpdGFibGUuXG4gICAgICAgICAgaWYgKCAhU0VUVElOR1MuZWRpdGFibGUgKSB7XG5cbiAgICAgICAgICAgICAgJEVMRU1FTlQuXG5cbiAgICAgICAgICAgICAgICAgIC8vIE9uIGZvY3VzL2NsaWNrLCBvcGVuIHRoZSBwaWNrZXIuXG4gICAgICAgICAgICAgICAgICBvbiggJ2ZvY3VzLicgKyBTVEFURS5pZCArICcgY2xpY2suJyArIFNUQVRFLmlkLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgUC5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICB9KS5cblxuICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGtleWJvYXJkIGV2ZW50IGJhc2VkIG9uIHRoZSBwaWNrZXIgYmVpbmcgb3BlbmVkIG9yIG5vdC5cbiAgICAgICAgICAgICAgICAgIG9uKCAna2V5ZG93bi4nICsgU1RBVEUuaWQsIGhhbmRsZUtleWRvd25FdmVudCApO1xuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBhcmlhIGF0dHJpYnV0ZXMuXG4gICAgICAgICAgYXJpYShFTEVNRU5ULCB7XG4gICAgICAgICAgICAgIGhhc3BvcHVwOiB0cnVlLFxuICAgICAgICAgICAgICBleHBhbmRlZDogZmFsc2UsXG4gICAgICAgICAgICAgIHJlYWRvbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgb3duczogRUxFTUVOVC5pZCArICdfcm9vdCdcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuXG4gICAgICAvKipcbiAgICAgICAqIFByZXBhcmUgdGhlIHJvb3QgcGlja2VyIGVsZW1lbnQgd2l0aCBhbGwgYmluZGluZ3MuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVFbGVtZW50Um9vdCgpIHtcbiAgICAgICAgICBhcmlhKCBQLiRyb290WzBdLCAnaGlkZGVuJywgdHJ1ZSApO1xuICAgICAgfVxuXG5cbiAgICAgICAvKipcbiAgICAgICAgKiBQcmVwYXJlIHRoZSBob2xkZXIgcGlja2VyIGVsZW1lbnQgd2l0aCBhbGwgYmluZGluZ3MuXG4gICAgICAgICovXG4gICAgICBmdW5jdGlvbiBwcmVwYXJlRWxlbWVudEhvbGRlcigpIHtcblxuICAgICAgICAgIFAuJGhvbGRlci5cblxuICAgICAgICAgICAgICBvbih7XG5cbiAgICAgICAgICAgICAgICAgIC8vIEZvciBpT1M4LlxuICAgICAgICAgICAgICAgICAga2V5ZG93bjogaGFuZGxlS2V5ZG93bkV2ZW50LFxuXG4gICAgICAgICAgICAgICAgICAnZm9jdXMudG9PcGVuJzogaGFuZGxlRm9jdXNUb09wZW5FdmVudCxcblxuICAgICAgICAgICAgICAgICAgYmx1cjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSDigJx0YXJnZXTigJ0gY2xhc3MuXG4gICAgICAgICAgICAgICAgICAgICAgJEVMRU1FTlQucmVtb3ZlQ2xhc3MoIENMQVNTRVMudGFyZ2V0ICk7XG4gICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAvLyBXaGVuIHNvbWV0aGluZyB3aXRoaW4gdGhlIGhvbGRlciBpcyBmb2N1c2VkLCBzdG9wIGZyb20gYnViYmxpbmdcbiAgICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBkb2MgYW5kIHJlbW92ZSB0aGUg4oCcZm9jdXNlZOKAnSBzdGF0ZSBmcm9tIHRoZSByb290LlxuICAgICAgICAgICAgICAgICAgZm9jdXNpbjogZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgICAgICAgIFAuJHJvb3QucmVtb3ZlQ2xhc3MoIENMQVNTRVMuZm9jdXNlZCApO1xuICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgLy8gV2hlbiBzb21ldGhpbmcgd2l0aGluIHRoZSBob2xkZXIgaXMgY2xpY2tlZCwgc3RvcCBpdFxuICAgICAgICAgICAgICAgICAgLy8gZnJvbSBidWJibGluZyB0byB0aGUgZG9jLlxuICAgICAgICAgICAgICAgICAgJ21vdXNlZG93biBjbGljayc6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHRhcmdldCBpc27igJl0IHRoZSByb290IGhvbGRlciBzbyBpdCBjYW4gYnViYmxlIHVwLlxuICAgICAgICAgICAgICAgICAgICAgIGlmICggdGFyZ2V0ICE9IFAuJGhvbGRlclswXSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAqIEZvciBtb3VzZWRvd24gZXZlbnRzLCBjYW5jZWwgdGhlIGRlZmF1bHQgYWN0aW9uIGluIG9yZGVyIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgcHJldmVudCBjYXNlcyB3aGVyZSBmb2N1cyBpcyBzaGlmdGVkIG9udG8gZXh0ZXJuYWwgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICB3aGVuIHVzaW5nIHRoaW5ncyBsaWtlIGpRdWVyeSBtb2JpbGUgb3IgTWFnbmlmaWNQb3B1cCAocmVmOiAjMjQ5ICYgIzEyMCkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgQWxzbywgZm9yIEZpcmVmb3gsIGRvbuKAmXQgcHJldmVudCBhY3Rpb24gb24gdGhlIGBvcHRpb25gIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZXZlbnQudHlwZSA9PSAnbW91c2Vkb3duJyAmJiAhJCQkMSggdGFyZ2V0ICkuaXMoICdpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYnV0dG9uLCBvcHRpb24nICkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmUtZm9jdXMgb250byB0aGUgaG9sZGVyIHNvIHRoYXQgdXNlcnMgY2FuIGNsaWNrIGF3YXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZyb20gZWxlbWVudHMgZm9jdXNlZCB3aXRoaW4gdGhlIHBpY2tlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuJGhvbGRlclswXS5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIH0pLlxuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJl4oCZcyBhIGNsaWNrIG9uIGFuIGFjdGlvbmFibGUgZWxlbWVudCwgY2Fycnkgb3V0IHRoZSBhY3Rpb25zLlxuICAgICAgICAgICAgICBvbiggJ2NsaWNrJywgJ1tkYXRhLXBpY2tdLCBbZGF0YS1uYXZdLCBbZGF0YS1jbGVhcl0sIFtkYXRhLWNsb3NlXScsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICB2YXIgJHRhcmdldCA9ICQkJDEoIHRoaXMgKSxcbiAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREYXRhID0gJHRhcmdldC5kYXRhKCksXG4gICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGlzYWJsZWQgPSAkdGFyZ2V0Lmhhc0NsYXNzKCBDTEFTU0VTLm5hdkRpc2FibGVkICkgfHwgJHRhcmdldC5oYXNDbGFzcyggQ0xBU1NFUy5kaXNhYmxlZCApLFxuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gKiBGb3IgSUUsIG5vbi1mb2N1c2FibGUgZWxlbWVudHMgY2FuIGJlIGFjdGl2ZSBlbGVtZW50cyBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgICAgICAgLy8gICAoaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY4NDU2MSkuXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudCA9IGdldEFjdGl2ZUVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gYWN0aXZlRWxlbWVudCAmJiAoIGFjdGl2ZUVsZW1lbnQudHlwZSB8fCBhY3RpdmVFbGVtZW50LmhyZWYgKTtcblxuICAgICAgICAgICAgICAgICAgLy8gSWYgaXTigJlzIGRpc2FibGVkIG9yIG5vdGhpbmcgaW5zaWRlIGlzIGFjdGl2ZWx5IGZvY3VzZWQsIHJlLWZvY3VzIHRoZSBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgaWYgKCB0YXJnZXREaXNhYmxlZCB8fCBhY3RpdmVFbGVtZW50ICYmICEkJCQxLmNvbnRhaW5zKCBQLiRyb290WzBdLCBhY3RpdmVFbGVtZW50ICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgUC4kaG9sZGVyWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIElmIHNvbWV0aGluZyBpcyBzdXBlcmZpY2lhbGx5IGNoYW5nZWQsIHVwZGF0ZSB0aGUgYGhpZ2hsaWdodGAgYmFzZWQgb24gdGhlIGBuYXZgLlxuICAgICAgICAgICAgICAgICAgaWYgKCAhdGFyZ2V0RGlzYWJsZWQgJiYgdGFyZ2V0RGF0YS5uYXYgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgUC5zZXQoICdoaWdobGlnaHQnLCBQLmNvbXBvbmVudC5pdGVtLmhpZ2hsaWdodCwgeyBuYXY6IHRhcmdldERhdGEubmF2IH0gKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gSWYgc29tZXRoaW5nIGlzIHBpY2tlZCwgc2V0IGBzZWxlY3RgIHRoZW4gY2xvc2Ugd2l0aCBmb2N1cy5cbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCAhdGFyZ2V0RGlzYWJsZWQgJiYgJ3BpY2snIGluIHRhcmdldERhdGEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgUC5zZXQoICdzZWxlY3QnLCB0YXJnZXREYXRhLnBpY2sgKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIFNFVFRJTkdTLmNsb3NlT25TZWxlY3QgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFAuY2xvc2UoIHRydWUgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIElmIGEg4oCcY2xlYXLigJ0gYnV0dG9uIGlzIHByZXNzZWQsIGVtcHR5IHRoZSB2YWx1ZXMgYW5kIGNsb3NlIHdpdGggZm9jdXMuXG4gICAgICAgICAgICAgICAgICBlbHNlIGlmICggdGFyZ2V0RGF0YS5jbGVhciApIHtcbiAgICAgICAgICAgICAgICAgICAgICBQLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCBTRVRUSU5HUy5jbG9zZU9uQ2xlYXIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFAuY2xvc2UoIHRydWUgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCB0YXJnZXREYXRhLmNsb3NlICkge1xuICAgICAgICAgICAgICAgICAgICAgIFAuY2xvc2UoIHRydWUgKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9KTsgLy9QLiRob2xkZXJcblxuICAgICAgfVxuXG5cbiAgICAgICAvKipcbiAgICAgICAgKiBQcmVwYXJlIHRoZSBoaWRkZW4gaW5wdXQgZWxlbWVudCBhbG9uZyB3aXRoIGFsbCBiaW5kaW5ncy5cbiAgICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVFbGVtZW50SGlkZGVuKCkge1xuXG4gICAgICAgICAgdmFyIG5hbWU7XG5cbiAgICAgICAgICBpZiAoIFNFVFRJTkdTLmhpZGRlbk5hbWUgPT09IHRydWUgKSB7XG4gICAgICAgICAgICAgIG5hbWUgPSBFTEVNRU5ULm5hbWU7XG4gICAgICAgICAgICAgIEVMRU1FTlQubmFtZSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgbmFtZSA9IFtcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBTRVRUSU5HUy5oaWRkZW5QcmVmaXggPT0gJ3N0cmluZycgPyBTRVRUSU5HUy5oaWRkZW5QcmVmaXggOiAnJyxcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBTRVRUSU5HUy5oaWRkZW5TdWZmaXggPT0gJ3N0cmluZycgPyBTRVRUSU5HUy5oaWRkZW5TdWZmaXggOiAnX3N1Ym1pdCdcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgbmFtZSA9IG5hbWVbMF0gKyBFTEVNRU5ULm5hbWUgKyBuYW1lWzFdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIFAuX2hpZGRlbiA9ICQkJDEoXG4gICAgICAgICAgICAgICc8aW5wdXQgJyArXG4gICAgICAgICAgICAgICd0eXBlPWhpZGRlbiAnICtcblxuICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG5hbWUgdXNpbmcgdGhlIG9yaWdpbmFsIGlucHV04oCZcyB3aXRoIGEgcHJlZml4IGFuZCBzdWZmaXguXG4gICAgICAgICAgICAgICduYW1lPVwiJyArIG5hbWUgKyAnXCInICtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBoYXMgYSB2YWx1ZSwgc2V0IHRoZSBoaWRkZW4gdmFsdWUgYXMgd2VsbC5cbiAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgJEVMRU1FTlQuZGF0YSgndmFsdWUnKSB8fCBFTEVNRU5ULnZhbHVlID9cbiAgICAgICAgICAgICAgICAgICAgICAnIHZhbHVlPVwiJyArIFAuZ2V0KCdzZWxlY3QnLCBTRVRUSU5HUy5mb3JtYXRTdWJtaXQpICsgJ1wiJyA6XG4gICAgICAgICAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgICAgKSArXG4gICAgICAgICAgICAgICc+J1xuICAgICAgICAgIClbMF07XG5cbiAgICAgICAgICAkRUxFTUVOVC5cblxuICAgICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgY2hhbmdlcywgdXBkYXRlIHRoZSBoaWRkZW4gaW5wdXQgd2l0aCB0aGUgY29ycmVjdCBmb3JtYXQuXG4gICAgICAgICAgICAgIG9uKCdjaGFuZ2UuJyArIFNUQVRFLmlkLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIFAuX2hpZGRlbi52YWx1ZSA9IEVMRU1FTlQudmFsdWUgP1xuICAgICAgICAgICAgICAgICAgICAgIFAuZ2V0KCdzZWxlY3QnLCBTRVRUSU5HUy5mb3JtYXRTdWJtaXQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICB9XG5cblxuICAgICAgLy8gV2FpdCBmb3IgdHJhbnNpdGlvbnMgdG8gZW5kIGJlZm9yZSBmb2N1c2luZyB0aGUgaG9sZGVyLiBPdGhlcndpc2UsIHdoaWxlXG4gICAgICAvLyB1c2luZyB0aGUgYGNvbnRhaW5lcmAgb3B0aW9uLCB0aGUgdmlldyBqdW1wcyB0byB0aGUgY29udGFpbmVyLlxuICAgICAgZnVuY3Rpb24gZm9jdXNQaWNrZXJPbmNlT3BlbmVkKCkge1xuXG4gICAgICAgICAgaWYgKElTX0RFRkFVTFRfVEhFTUUgJiYgc3VwcG9ydHNUcmFuc2l0aW9ucykge1xuICAgICAgICAgICAgICBQLiRob2xkZXIuZmluZCgnLicgKyBDTEFTU0VTLmZyYW1lKS5vbmUoJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIFAuJGhvbGRlclswXS5mb2N1cygpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIFAuJGhvbGRlclswXS5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVGb2N1c1RvT3BlbkV2ZW50KGV2ZW50KSB7XG5cbiAgICAgICAgICAvLyBTdG9wIHRoZSBldmVudCBmcm9tIHByb3BhZ2F0aW5nIHRvIHRoZSBkb2MuXG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAvLyBBZGQgdGhlIOKAnHRhcmdldOKAnSBjbGFzcy5cbiAgICAgICAgICAkRUxFTUVOVC5hZGRDbGFzcyggQ0xBU1NFUy50YXJnZXQgKTtcblxuICAgICAgICAgIC8vIEFkZCB0aGUg4oCcZm9jdXNlZOKAnSBjbGFzcyB0byB0aGUgcm9vdC5cbiAgICAgICAgICBQLiRyb290LmFkZENsYXNzKCBDTEFTU0VTLmZvY3VzZWQgKTtcblxuICAgICAgICAgIC8vIEFuZCB0aGVuIGZpbmFsbHkgb3BlbiB0aGUgcGlja2VyLlxuICAgICAgICAgIFAub3BlbigpO1xuICAgICAgfVxuXG5cbiAgICAgIC8vIEZvciBpT1M4LlxuICAgICAgZnVuY3Rpb24gaGFuZGxlS2V5ZG93bkV2ZW50KCBldmVudCApIHtcblxuICAgICAgICAgIHZhciBrZXljb2RlID0gZXZlbnQua2V5Q29kZSxcblxuICAgICAgICAgICAgICAvLyBDaGVjayBpZiBvbmUgb2YgdGhlIGRlbGV0ZSBrZXlzIHdhcyBwcmVzc2VkLlxuICAgICAgICAgICAgICBpc0tleWNvZGVEZWxldGUgPSAvXig4fDQ2KSQvLnRlc3Qoa2V5Y29kZSk7XG5cbiAgICAgICAgICAvLyBGb3Igc29tZSByZWFzb24gSUUgY2xlYXJzIHRoZSBpbnB1dCB2YWx1ZSBvbiDigJxlc2NhcGXigJ0uXG4gICAgICAgICAgaWYgKCBrZXljb2RlID09IDI3ICkge1xuICAgICAgICAgICAgICBQLmNsb3NlKCB0cnVlICk7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENoZWNrIGlmIGBzcGFjZWAgb3IgYGRlbGV0ZWAgd2FzIHByZXNzZWQgb3IgdGhlIHBpY2tlciBpcyBjbG9zZWQgd2l0aCBhIGtleSBtb3ZlbWVudC5cbiAgICAgICAgICBpZiAoIGtleWNvZGUgPT0gMzIgfHwgaXNLZXljb2RlRGVsZXRlIHx8ICFTVEFURS5vcGVuICYmIFAuY29tcG9uZW50LmtleVtrZXljb2RlXSApIHtcblxuICAgICAgICAgICAgICAvLyBQcmV2ZW50IGl0IGZyb20gbW92aW5nIHRoZSBwYWdlIGFuZCBidWJibGluZyB0byBkb2MuXG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgIC8vIElmIGBkZWxldGVgIHdhcyBwcmVzc2VkLCBjbGVhciB0aGUgdmFsdWVzIGFuZCBjbG9zZSB0aGUgcGlja2VyLlxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2Ugb3BlbiB0aGUgcGlja2VyLlxuICAgICAgICAgICAgICBpZiAoIGlzS2V5Y29kZURlbGV0ZSApIHsgUC5jbGVhcigpLmNsb3NlKCk7IH1cbiAgICAgICAgICAgICAgZWxzZSB7IFAub3BlbigpOyB9XG4gICAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIC8vIFJldHVybiBhIG5ldyBwaWNrZXIgaW5zdGFuY2UuXG4gICAgICByZXR1cm4gbmV3IFBpY2tlckluc3RhbmNlKClcbiAgfSAvL1BpY2tlckNvbnN0cnVjdG9yXG5cblxuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBjbGFzc2VzIGFuZCBwcmVmaXggdG8gdXNlIGZvciB0aGUgSFRNTCBjbGFzc2VzLlxuICAgKi9cbiAgUGlja2VyQ29uc3RydWN0b3Iua2xhc3NlcyA9IGZ1bmN0aW9uKCBwcmVmaXggKSB7XG4gICAgICBwcmVmaXggPSBwcmVmaXggfHwgJ3BpY2tlcic7XG4gICAgICByZXR1cm4ge1xuXG4gICAgICAgICAgcGlja2VyOiBwcmVmaXgsXG4gICAgICAgICAgb3BlbmVkOiBwcmVmaXggKyAnLS1vcGVuZWQnLFxuICAgICAgICAgIGZvY3VzZWQ6IHByZWZpeCArICctLWZvY3VzZWQnLFxuXG4gICAgICAgICAgaW5wdXQ6IHByZWZpeCArICdfX2lucHV0JyxcbiAgICAgICAgICBhY3RpdmU6IHByZWZpeCArICdfX2lucHV0LS1hY3RpdmUnLFxuICAgICAgICAgIHRhcmdldDogcHJlZml4ICsgJ19faW5wdXQtLXRhcmdldCcsXG5cbiAgICAgICAgICBob2xkZXI6IHByZWZpeCArICdfX2hvbGRlcicsXG5cbiAgICAgICAgICBmcmFtZTogcHJlZml4ICsgJ19fZnJhbWUnLFxuICAgICAgICAgIHdyYXA6IHByZWZpeCArICdfX3dyYXAnLFxuXG4gICAgICAgICAgYm94OiBwcmVmaXggKyAnX19ib3gnXG4gICAgICB9XG4gIH07IC8vUGlja2VyQ29uc3RydWN0b3Iua2xhc3Nlc1xuXG5cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGRlZmF1bHQgdGhlbWUgaXMgYmVpbmcgdXNlZC5cbiAgICovXG4gIGZ1bmN0aW9uIGlzVXNpbmdEZWZhdWx0VGhlbWUoIGVsZW1lbnQgKSB7XG5cbiAgICAgIHZhciB0aGVtZSxcbiAgICAgICAgICBwcm9wID0gJ3Bvc2l0aW9uJztcblxuICAgICAgLy8gRm9yIElFLlxuICAgICAgaWYgKCBlbGVtZW50LmN1cnJlbnRTdHlsZSApIHtcbiAgICAgICAgICB0aGVtZSA9IGVsZW1lbnQuY3VycmVudFN0eWxlW3Byb3BdO1xuICAgICAgfVxuXG4gICAgICAvLyBGb3Igbm9ybWFsIGJyb3dzZXJzLlxuICAgICAgZWxzZSBpZiAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlICkge1xuICAgICAgICAgIHRoZW1lID0gZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbWVudCApW3Byb3BdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhlbWUgPT0gJ2ZpeGVkJ1xuICB9XG5cblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHdpZHRoIG9mIHRoZSBicm93c2Vy4oCZcyBzY3JvbGxiYXIuXG4gICAqIFRha2VuIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9Wb2RrYUJlYXJzL1JlbW9kYWwvYmxvYi9tYXN0ZXIvc3JjL2pxdWVyeS5yZW1vZGFsLmpzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTY3JvbGxiYXJXaWR0aCgpIHtcblxuICAgICAgaWYgKCAkaHRtbC5oZWlnaHQoKSA8PSAkd2luZG93LmhlaWdodCgpICkge1xuICAgICAgICAgIHJldHVybiAwXG4gICAgICB9XG5cbiAgICAgIHZhciAkb3V0ZXIgPSAkJCQxKCAnPGRpdiBzdHlsZT1cInZpc2liaWxpdHk6aGlkZGVuO3dpZHRoOjEwMHB4XCIgLz4nICkuXG4gICAgICAgICAgYXBwZW5kVG8oICdib2R5JyApO1xuXG4gICAgICAvLyBHZXQgdGhlIHdpZHRoIHdpdGhvdXQgc2Nyb2xsYmFycy5cbiAgICAgIHZhciB3aWR0aFdpdGhvdXRTY3JvbGwgPSAkb3V0ZXJbMF0ub2Zmc2V0V2lkdGg7XG5cbiAgICAgIC8vIEZvcmNlIGFkZGluZyBzY3JvbGxiYXJzLlxuICAgICAgJG91dGVyLmNzcyggJ292ZXJmbG93JywgJ3Njcm9sbCcgKTtcblxuICAgICAgLy8gQWRkIHRoZSBpbm5lciBkaXYuXG4gICAgICB2YXIgJGlubmVyID0gJCQkMSggJzxkaXYgc3R5bGU9XCJ3aWR0aDoxMDAlXCIgLz4nICkuYXBwZW5kVG8oICRvdXRlciApO1xuXG4gICAgICAvLyBHZXQgdGhlIHdpZHRoIHdpdGggc2Nyb2xsYmFycy5cbiAgICAgIHZhciB3aWR0aFdpdGhTY3JvbGwgPSAkaW5uZXJbMF0ub2Zmc2V0V2lkdGg7XG5cbiAgICAgIC8vIFJlbW92ZSB0aGUgZGl2cy5cbiAgICAgICRvdXRlci5yZW1vdmUoKTtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHdpZHRocy5cbiAgICAgIHJldHVybiB3aWR0aFdpdGhvdXRTY3JvbGwgLSB3aWR0aFdpdGhTY3JvbGxcbiAgfVxuXG5cblxuICAvKipcbiAgICogUGlja2VyQ29uc3RydWN0b3IgaGVscGVyIG1ldGhvZHMuXG4gICAqL1xuICBQaWNrZXJDb25zdHJ1Y3Rvci5fID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZSBhIGdyb3VwIG9mIG5vZGVzLiBFeHBlY3RzOlxuICAgICAgICogYFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbWluOiAgICB7SW50ZWdlcn0sXG4gICAgICAgICAgICAgIG1heDogICAge0ludGVnZXJ9LFxuICAgICAgICAgICAgICBpOiAgICAgIHtJbnRlZ2VyfSxcbiAgICAgICAgICAgICAgbm9kZTogICB7U3RyaW5nfSxcbiAgICAgICAgICAgICAgaXRlbTogICB7RnVuY3Rpb259XG4gICAgICAgICAgfVxuICAgICAgICogYFxuICAgICAgICovXG4gICAgICBncm91cDogZnVuY3Rpb24oIGdyb3VwT2JqZWN0ICkge1xuXG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICAgIC8vIFNjb3BlIGZvciB0aGUgbG9vcGVkIG9iamVjdFxuICAgICAgICAgICAgICBsb29wT2JqZWN0U2NvcGUsXG5cbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBub2RlcyBsaXN0XG4gICAgICAgICAgICAgIG5vZGVzTGlzdCA9ICcnLFxuXG4gICAgICAgICAgICAgIC8vIFRoZSBjb3VudGVyIHN0YXJ0cyBmcm9tIHRoZSBgbWluYFxuICAgICAgICAgICAgICBjb3VudGVyID0gUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKCBncm91cE9iamVjdC5taW4sIGdyb3VwT2JqZWN0ICk7XG5cblxuICAgICAgICAgIC8vIExvb3AgZnJvbSB0aGUgYG1pbmAgdG8gYG1heGAsIGluY3JlbWVudGluZyBieSBgaWBcbiAgICAgICAgICBmb3IgKCA7IGNvdW50ZXIgPD0gUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKCBncm91cE9iamVjdC5tYXgsIGdyb3VwT2JqZWN0LCBbIGNvdW50ZXIgXSApOyBjb3VudGVyICs9IGdyb3VwT2JqZWN0LmkgKSB7XG5cbiAgICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgYGl0ZW1gIGZ1bmN0aW9uIHdpdGhpbiBzY29wZSBvZiB0aGUgb2JqZWN0XG4gICAgICAgICAgICAgIGxvb3BPYmplY3RTY29wZSA9IFBpY2tlckNvbnN0cnVjdG9yLl8udHJpZ2dlciggZ3JvdXBPYmplY3QuaXRlbSwgZ3JvdXBPYmplY3QsIFsgY291bnRlciBdICk7XG5cbiAgICAgICAgICAgICAgLy8gU3BsaWNlIHRoZSBzdWJncm91cCBhbmQgY3JlYXRlIG5vZGVzIG91dCBvZiB0aGUgc3ViIG5vZGVzXG4gICAgICAgICAgICAgIG5vZGVzTGlzdCArPSBQaWNrZXJDb25zdHJ1Y3Rvci5fLm5vZGUoXG4gICAgICAgICAgICAgICAgICBncm91cE9iamVjdC5ub2RlLFxuICAgICAgICAgICAgICAgICAgbG9vcE9iamVjdFNjb3BlWyAwIF0sICAgLy8gdGhlIG5vZGVcbiAgICAgICAgICAgICAgICAgIGxvb3BPYmplY3RTY29wZVsgMSBdLCAgIC8vIHRoZSBjbGFzc2VzXG4gICAgICAgICAgICAgICAgICBsb29wT2JqZWN0U2NvcGVbIDIgXSAgICAvLyB0aGUgYXR0cmlidXRlc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJldHVybiB0aGUgbGlzdCBvZiBub2Rlc1xuICAgICAgICAgIHJldHVybiBub2Rlc0xpc3RcbiAgICAgIH0sIC8vZ3JvdXBcblxuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZSBhIGRvbSBub2RlIHN0cmluZ1xuICAgICAgICovXG4gICAgICBub2RlOiBmdW5jdGlvbiggd3JhcHBlciwgaXRlbSwga2xhc3MsIGF0dHJpYnV0ZSApIHtcblxuICAgICAgICAgIC8vIElmIHRoZSBpdGVtIGlzIGZhbHNlLXksIGp1c3QgcmV0dXJuIGFuIGVtcHR5IHN0cmluZ1xuICAgICAgICAgIGlmICggIWl0ZW0gKSByZXR1cm4gJydcblxuICAgICAgICAgIC8vIElmIHRoZSBpdGVtIGlzIGFuIGFycmF5LCBkbyBhIGpvaW5cbiAgICAgICAgICBpdGVtID0gJCQkMS5pc0FycmF5KCBpdGVtICkgPyBpdGVtLmpvaW4oICcnICkgOiBpdGVtO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBjbGFzc1xuICAgICAgICAgIGtsYXNzID0ga2xhc3MgPyAnIGNsYXNzPVwiJyArIGtsYXNzICsgJ1wiJyA6ICcnO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIGFueSBhdHRyaWJ1dGVzXG4gICAgICAgICAgYXR0cmlidXRlID0gYXR0cmlidXRlID8gJyAnICsgYXR0cmlidXRlIDogJyc7XG5cbiAgICAgICAgICAvLyBSZXR1cm4gdGhlIHdyYXBwZWQgaXRlbVxuICAgICAgICAgIHJldHVybiAnPCcgKyB3cmFwcGVyICsga2xhc3MgKyBhdHRyaWJ1dGUgKyAnPicgKyBpdGVtICsgJzwvJyArIHdyYXBwZXIgKyAnPidcbiAgICAgIH0sIC8vbm9kZVxuXG5cbiAgICAgIC8qKlxuICAgICAgICogTGVhZCBudW1iZXJzIGJlbG93IDEwIHdpdGggYSB6ZXJvLlxuICAgICAgICovXG4gICAgICBsZWFkOiBmdW5jdGlvbiggbnVtYmVyICkge1xuICAgICAgICAgIHJldHVybiAoIG51bWJlciA8IDEwID8gJzAnOiAnJyApICsgbnVtYmVyXG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVHJpZ2dlciBhIGZ1bmN0aW9uIG90aGVyd2lzZSByZXR1cm4gdGhlIHZhbHVlLlxuICAgICAgICovXG4gICAgICB0cmlnZ2VyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHNjb3BlLCBhcmdzICkge1xuICAgICAgICAgIHJldHVybiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrLmFwcGx5KCBzY29wZSwgYXJncyB8fCBbXSApIDogY2FsbGJhY2tcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBJZiB0aGUgc2Vjb25kIGNoYXJhY3RlciBpcyBhIGRpZ2l0LCBsZW5ndGggaXMgMiBvdGhlcndpc2UgMS5cbiAgICAgICAqL1xuICAgICAgZGlnaXRzOiBmdW5jdGlvbiggc3RyaW5nICkge1xuICAgICAgICAgIHJldHVybiAoIC9cXGQvICkudGVzdCggc3RyaW5nWyAxIF0gKSA/IDIgOiAxXG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogVGVsbCBpZiBzb21ldGhpbmcgaXMgYSBkYXRlIG9iamVjdC5cbiAgICAgICAqL1xuICAgICAgaXNEYXRlOiBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwoIHZhbHVlICkuaW5kZXhPZiggJ0RhdGUnICkgPiAtMSAmJiB0aGlzLmlzSW50ZWdlciggdmFsdWUuZ2V0RGF0ZSgpIClcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWxsIGlmIHNvbWV0aGluZyBpcyBhbiBpbnRlZ2VyLlxuICAgICAgICovXG4gICAgICBpc0ludGVnZXI6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbCggdmFsdWUgKS5pbmRleE9mKCAnTnVtYmVyJyApID4gLTEgJiYgdmFsdWUgJSAxID09PSAwXG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlIEFSSUEgYXR0cmlidXRlIHN0cmluZ3MuXG4gICAgICAgKi9cbiAgICAgIGFyaWFBdHRyOiBhcmlhQXR0clxuICB9OyAvL1BpY2tlckNvbnN0cnVjdG9yLl9cblxuXG5cbiAgLyoqXG4gICAqIEV4dGVuZCB0aGUgcGlja2VyIHdpdGggYSBjb21wb25lbnQgYW5kIGRlZmF1bHRzLlxuICAgKi9cbiAgUGlja2VyQ29uc3RydWN0b3IuZXh0ZW5kID0gZnVuY3Rpb24oIG5hbWUsIENvbXBvbmVudCApIHtcblxuICAgICAgLy8gRXh0ZW5kIGpRdWVyeS5cbiAgICAgICQkJDEuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zLCBhY3Rpb24gKSB7XG5cbiAgICAgICAgICAvLyBHcmFiIHRoZSBjb21wb25lbnQgZGF0YS5cbiAgICAgICAgICB2YXIgY29tcG9uZW50RGF0YSA9IHRoaXMuZGF0YSggbmFtZSApO1xuXG4gICAgICAgICAgLy8gSWYgdGhlIHBpY2tlciBpcyByZXF1ZXN0ZWQsIHJldHVybiB0aGUgZGF0YSBvYmplY3QuXG4gICAgICAgICAgaWYgKCBvcHRpb25zID09ICdwaWNrZXInICkge1xuICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50RGF0YVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHRoZSBjb21wb25lbnQgZGF0YSBleGlzdHMgYW5kIGBvcHRpb25zYCBpcyBhIHN0cmluZywgY2Fycnkgb3V0IHRoZSBhY3Rpb24uXG4gICAgICAgICAgaWYgKCBjb21wb25lbnREYXRhICYmIHR5cGVvZiBvcHRpb25zID09ICdzdHJpbmcnICkge1xuICAgICAgICAgICAgICByZXR1cm4gUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKCBjb21wb25lbnREYXRhWyBvcHRpb25zIF0sIGNvbXBvbmVudERhdGEsIFsgYWN0aW9uIF0gKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE90aGVyd2lzZSBnbyB0aHJvdWdoIGVhY2ggbWF0Y2hlZCBlbGVtZW50IGFuZCBpZiB0aGUgY29tcG9uZW50XG4gICAgICAgICAgLy8gZG9lc27igJl0IGV4aXN0LCBjcmVhdGUgYSBuZXcgcGlja2VyIHVzaW5nIGB0aGlzYCBlbGVtZW50XG4gICAgICAgICAgLy8gYW5kIG1lcmdpbmcgdGhlIGRlZmF1bHRzIGFuZCBvcHRpb25zIHdpdGggYSBkZWVwIGNvcHkuXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQkJDEoIHRoaXMgKTtcbiAgICAgICAgICAgICAgaWYgKCAhJHRoaXMuZGF0YSggbmFtZSApICkge1xuICAgICAgICAgICAgICAgICAgbmV3IFBpY2tlckNvbnN0cnVjdG9yKCB0aGlzLCBuYW1lLCBDb21wb25lbnQsIG9wdGlvbnMgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICB9O1xuXG4gICAgICAvLyBTZXQgdGhlIGRlZmF1bHRzLlxuICAgICAgJCQkMS5mblsgbmFtZSBdLmRlZmF1bHRzID0gQ29tcG9uZW50LmRlZmF1bHRzO1xuICB9OyAvL1BpY2tlckNvbnN0cnVjdG9yLmV4dGVuZFxuXG5cblxuICBmdW5jdGlvbiBhcmlhKGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICAgIGlmICggJCQkMS5pc1BsYWluT2JqZWN0KGF0dHJpYnV0ZSkgKSB7XG4gICAgICAgICAgZm9yICggdmFyIGtleSBpbiBhdHRyaWJ1dGUgKSB7XG4gICAgICAgICAgICAgIGFyaWFTZXQoZWxlbWVudCwga2V5LCBhdHRyaWJ1dGVba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgICAgYXJpYVNldChlbGVtZW50LCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhcmlhU2V0KGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgICAgIChhdHRyaWJ1dGUgPT0gJ3JvbGUnID8gJycgOiAnYXJpYS0nKSArIGF0dHJpYnV0ZSxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgKTtcbiAgfVxuICBmdW5jdGlvbiBhcmlhQXR0cihhdHRyaWJ1dGUsIGRhdGEpIHtcbiAgICAgIGlmICggISQkJDEuaXNQbGFpbk9iamVjdChhdHRyaWJ1dGUpICkge1xuICAgICAgICAgIGF0dHJpYnV0ZSA9IHsgYXR0cmlidXRlOiBkYXRhIH07XG4gICAgICB9XG4gICAgICBkYXRhID0gJyc7XG4gICAgICBmb3IgKCB2YXIga2V5IGluIGF0dHJpYnV0ZSApIHtcbiAgICAgICAgICB2YXIgYXR0ciA9IChrZXkgPT0gJ3JvbGUnID8gJycgOiAnYXJpYS0nKSArIGtleSxcbiAgICAgICAgICAgICAgYXR0clZhbCA9IGF0dHJpYnV0ZVtrZXldO1xuICAgICAgICAgIGRhdGEgKz0gYXR0clZhbCA9PSBudWxsID8gJycgOiBhdHRyICsgJz1cIicgKyBhdHRyaWJ1dGVba2V5XSArICdcIic7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgLy8gSUU4IGJ1ZyB0aHJvd3MgYW4gZXJyb3IgZm9yIGFjdGl2ZUVsZW1lbnRzIHdpdGhpbiBpZnJhbWVzLlxuICBmdW5jdGlvbiBnZXRBY3RpdmVFbGVtZW50KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxuICAgICAgfSBjYXRjaCAoIGVyciApIHsgfVxuICB9XG5cblxuXG4gIC8vIEV4cG9zZSB0aGUgcGlja2VyIGNvbnN0cnVjdG9yLlxuICByZXR1cm4gUGlja2VyQ29uc3RydWN0b3JcblxuXG4gIH0pKTtcbiAgfSk7XG5cbiAgdmFyIHBpY2tlciQxID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIGRlZmF1bHQ6IHBpY2tlcixcbiAgICBfX21vZHVsZUV4cG9ydHM6IHBpY2tlclxuICB9KTtcblxuICB2YXIgcmVxdWlyZSQkMCA9ICggcGlja2VyJDEgJiYgcGlja2VyICkgfHwgcGlja2VyJDE7XG5cbiAgdmFyIHBpY2tlcl9kYXRlID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuICAvKiFcbiAgICogRGF0ZSBwaWNrZXIgZm9yIHBpY2thZGF0ZS5qcyB2My41LjZcbiAgICogaHR0cDovL2Ftc3VsLmdpdGh1Yi5pby9waWNrYWRhdGUuanMvZGF0ZS5odG1cbiAgICovXG5cbiAgKGZ1bmN0aW9uICggZmFjdG9yeSApIHtcblxuICAgICAgLy8gQU1ELlxuICAgICAgaWYgKCB0eXBlb2YgdW5kZWZpbmVkID09ICdmdW5jdGlvbicgJiYgdW5kZWZpbmVkLmFtZCApXG4gICAgICAgICAgdW5kZWZpbmVkKCBbJ3BpY2tlcicsICdqcXVlcnknXSwgZmFjdG9yeSApO1xuXG4gICAgICAvLyBOb2RlLmpzL2Jyb3dzZXJpZnkuXG4gICAgICBlbHNlIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSggcmVxdWlyZSQkMCwgJCApO1xuXG4gIH0oZnVuY3Rpb24oIFBpY2tlciwgJCQkMSApIHtcblxuXG4gIC8qKlxuICAgKiBHbG9iYWxzIGFuZCBjb25zdGFudHNcbiAgICovXG4gIHZhciBEQVlTX0lOX1dFRUsgPSA3LFxuICAgICAgV0VFS1NfSU5fQ0FMRU5EQVIgPSA2LFxuICAgICAgXyA9IFBpY2tlci5fO1xuXG5cblxuICAvKipcbiAgICogVGhlIGRhdGUgcGlja2VyIGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBEYXRlUGlja2VyKCBwaWNrZXIsIHNldHRpbmdzICkge1xuXG4gICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzLFxuICAgICAgICAgIGVsZW1lbnQgPSBwaWNrZXIuJG5vZGVbIDAgXSxcbiAgICAgICAgICBlbGVtZW50VmFsdWUgPSBlbGVtZW50LnZhbHVlLFxuICAgICAgICAgIGVsZW1lbnREYXRhVmFsdWUgPSBwaWNrZXIuJG5vZGUuZGF0YSggJ3ZhbHVlJyApLFxuICAgICAgICAgIHZhbHVlU3RyaW5nID0gZWxlbWVudERhdGFWYWx1ZSB8fCBlbGVtZW50VmFsdWUsXG4gICAgICAgICAgZm9ybWF0U3RyaW5nID0gZWxlbWVudERhdGFWYWx1ZSA/IHNldHRpbmdzLmZvcm1hdFN1Ym1pdCA6IHNldHRpbmdzLmZvcm1hdCxcbiAgICAgICAgICBpc1JUTCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmN1cnJlbnRTdHlsZSA/XG5cbiAgICAgICAgICAgICAgICAgIC8vIEZvciBJRS5cbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY3VycmVudFN0eWxlLmRpcmVjdGlvbiA9PSAncnRsJyA6XG5cbiAgICAgICAgICAgICAgICAgIC8vIEZvciBub3JtYWwgYnJvd3NlcnMuXG4gICAgICAgICAgICAgICAgICBnZXRDb21wdXRlZFN0eWxlKCBwaWNrZXIuJHJvb3RbMF0gKS5kaXJlY3Rpb24gPT0gJ3J0bCdcbiAgICAgICAgICB9O1xuXG4gICAgICBjYWxlbmRhci5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgY2FsZW5kYXIuJG5vZGUgPSBwaWNrZXIuJG5vZGU7XG5cbiAgICAgIC8vIFRoZSBxdWV1ZSBvZiBtZXRob2RzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGJ1aWxkIGl0ZW0gb2JqZWN0cy5cbiAgICAgIGNhbGVuZGFyLnF1ZXVlID0ge1xuICAgICAgICAgIG1pbjogJ21lYXN1cmUgY3JlYXRlJyxcbiAgICAgICAgICBtYXg6ICdtZWFzdXJlIGNyZWF0ZScsXG4gICAgICAgICAgbm93OiAnbm93IGNyZWF0ZScsXG4gICAgICAgICAgc2VsZWN0OiAncGFyc2UgY3JlYXRlIHZhbGlkYXRlJyxcbiAgICAgICAgICBoaWdobGlnaHQ6ICdwYXJzZSBuYXZpZ2F0ZSBjcmVhdGUgdmFsaWRhdGUnLFxuICAgICAgICAgIHZpZXc6ICdwYXJzZSBjcmVhdGUgdmFsaWRhdGUgdmlld3NldCcsXG4gICAgICAgICAgZGlzYWJsZTogJ2RlYWN0aXZhdGUnLFxuICAgICAgICAgIGVuYWJsZTogJ2FjdGl2YXRlJ1xuICAgICAgfTtcblxuICAgICAgLy8gVGhlIGNvbXBvbmVudCdzIGl0ZW0gb2JqZWN0LlxuICAgICAgY2FsZW5kYXIuaXRlbSA9IHt9O1xuXG4gICAgICBjYWxlbmRhci5pdGVtLmNsZWFyID0gbnVsbDtcbiAgICAgIGNhbGVuZGFyLml0ZW0uZGlzYWJsZSA9ICggc2V0dGluZ3MuZGlzYWJsZSB8fCBbXSApLnNsaWNlKCAwICk7XG4gICAgICBjYWxlbmRhci5pdGVtLmVuYWJsZSA9IC0oZnVuY3Rpb24oIGNvbGxlY3Rpb25EaXNhYmxlZCApIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbkRpc2FibGVkWyAwIF0gPT09IHRydWUgPyBjb2xsZWN0aW9uRGlzYWJsZWQuc2hpZnQoKSA6IC0xXG4gICAgICB9KSggY2FsZW5kYXIuaXRlbS5kaXNhYmxlICk7XG5cbiAgICAgIGNhbGVuZGFyLlxuICAgICAgICAgIHNldCggJ21pbicsIHNldHRpbmdzLm1pbiApLlxuICAgICAgICAgIHNldCggJ21heCcsIHNldHRpbmdzLm1heCApLlxuICAgICAgICAgIHNldCggJ25vdycgKTtcblxuICAgICAgLy8gV2hlbiB0aGVyZeKAmXMgYSB2YWx1ZSwgc2V0IHRoZSBgc2VsZWN0YCwgd2hpY2ggaW4gdHVyblxuICAgICAgLy8gYWxzbyBzZXRzIHRoZSBgaGlnaGxpZ2h0YCBhbmQgYHZpZXdgLlxuICAgICAgaWYgKCB2YWx1ZVN0cmluZyApIHtcbiAgICAgICAgICBjYWxlbmRhci5zZXQoICdzZWxlY3QnLCB2YWx1ZVN0cmluZywge1xuICAgICAgICAgICAgICBmb3JtYXQ6IGZvcm1hdFN0cmluZyxcbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZXJl4oCZcyBubyB2YWx1ZSwgZGVmYXVsdCB0byBoaWdobGlnaHRpbmcg4oCcdG9kYXnigJ0uXG4gICAgICBlbHNlIHtcbiAgICAgICAgICBjYWxlbmRhci5cbiAgICAgICAgICAgICAgc2V0KCAnc2VsZWN0JywgbnVsbCApLlxuICAgICAgICAgICAgICBzZXQoICdoaWdobGlnaHQnLCBjYWxlbmRhci5pdGVtLm5vdyApO1xuICAgICAgfVxuXG5cbiAgICAgIC8vIFRoZSBrZXljb2RlIHRvIG1vdmVtZW50IG1hcHBpbmcuXG4gICAgICBjYWxlbmRhci5rZXkgPSB7XG4gICAgICAgICAgNDA6IDcsIC8vIERvd25cbiAgICAgICAgICAzODogLTcsIC8vIFVwXG4gICAgICAgICAgMzk6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNSVEwoKSA/IC0xIDogMSB9LCAvLyBSaWdodFxuICAgICAgICAgIDM3OiBmdW5jdGlvbigpIHsgcmV0dXJuIGlzUlRMKCkgPyAxIDogLTEgfSwgLy8gTGVmdFxuICAgICAgICAgIGdvOiBmdW5jdGlvbiggdGltZUNoYW5nZSApIHtcbiAgICAgICAgICAgICAgdmFyIGhpZ2hsaWdodGVkT2JqZWN0ID0gY2FsZW5kYXIuaXRlbS5oaWdobGlnaHQsXG4gICAgICAgICAgICAgICAgICB0YXJnZXREYXRlID0gbmV3IERhdGUoIGhpZ2hsaWdodGVkT2JqZWN0LnllYXIsIGhpZ2hsaWdodGVkT2JqZWN0Lm1vbnRoLCBoaWdobGlnaHRlZE9iamVjdC5kYXRlICsgdGltZUNoYW5nZSApO1xuICAgICAgICAgICAgICBjYWxlbmRhci5zZXQoXG4gICAgICAgICAgICAgICAgICAnaGlnaGxpZ2h0JyxcbiAgICAgICAgICAgICAgICAgIHRhcmdldERhdGUsXG4gICAgICAgICAgICAgICAgICB7IGludGVydmFsOiB0aW1lQ2hhbmdlIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICB9XG4gICAgICB9O1xuXG5cbiAgICAgIC8vIEJpbmQgc29tZSBwaWNrZXIgZXZlbnRzLlxuICAgICAgcGlja2VyLlxuICAgICAgICAgIG9uKCAncmVuZGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHBpY2tlci4kcm9vdC5maW5kKCAnLicgKyBzZXR0aW5ncy5rbGFzcy5zZWxlY3RNb250aCApLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICBwaWNrZXIuc2V0KCAnaGlnaGxpZ2h0JywgWyBwaWNrZXIuZ2V0KCAndmlldycgKS55ZWFyLCB2YWx1ZSwgcGlja2VyLmdldCggJ2hpZ2hsaWdodCcgKS5kYXRlIF0gKTtcbiAgICAgICAgICAgICAgICAgICAgICBwaWNrZXIuJHJvb3QuZmluZCggJy4nICsgc2V0dGluZ3Mua2xhc3Muc2VsZWN0TW9udGggKS50cmlnZ2VyKCAnZm9jdXMnICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBwaWNrZXIuJHJvb3QuZmluZCggJy4nICsgc2V0dGluZ3Mua2xhc3Muc2VsZWN0WWVhciApLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICBwaWNrZXIuc2V0KCAnaGlnaGxpZ2h0JywgWyB2YWx1ZSwgcGlja2VyLmdldCggJ3ZpZXcnICkubW9udGgsIHBpY2tlci5nZXQoICdoaWdobGlnaHQnICkuZGF0ZSBdICk7XG4gICAgICAgICAgICAgICAgICAgICAgcGlja2VyLiRyb290LmZpbmQoICcuJyArIHNldHRpbmdzLmtsYXNzLnNlbGVjdFllYXIgKS50cmlnZ2VyKCAnZm9jdXMnICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDEgKS5cbiAgICAgICAgICBvbiggJ29wZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdmFyIGluY2x1ZGVUb2RheSA9ICcnO1xuICAgICAgICAgICAgICBpZiAoIGNhbGVuZGFyLmRpc2FibGVkKCBjYWxlbmRhci5nZXQoJ25vdycpICkgKSB7XG4gICAgICAgICAgICAgICAgICBpbmNsdWRlVG9kYXkgPSAnOm5vdCguJyArIHNldHRpbmdzLmtsYXNzLmJ1dHRvblRvZGF5ICsgJyknO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBpY2tlci4kcm9vdC5maW5kKCAnYnV0dG9uJyArIGluY2x1ZGVUb2RheSArICcsIHNlbGVjdCcgKS5hdHRyKCAnZGlzYWJsZWQnLCBmYWxzZSApO1xuICAgICAgICAgIH0sIDEgKS5cbiAgICAgICAgICBvbiggJ2Nsb3NlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHBpY2tlci4kcm9vdC5maW5kKCAnYnV0dG9uLCBzZWxlY3QnICkuYXR0ciggJ2Rpc2FibGVkJywgdHJ1ZSApO1xuICAgICAgICAgIH0sIDEgKTtcblxuICB9IC8vRGF0ZVBpY2tlclxuXG5cbiAgLyoqXG4gICAqIFNldCBhIGRhdGVwaWNrZXIgaXRlbSBvYmplY3QuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiggdHlwZSwgdmFsdWUsIG9wdGlvbnMgKSB7XG5cbiAgICAgIHZhciBjYWxlbmRhciA9IHRoaXMsXG4gICAgICAgICAgY2FsZW5kYXJJdGVtID0gY2FsZW5kYXIuaXRlbTtcblxuICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGBudWxsYCBqdXN0IHNldCBpdCBpbW1lZGlhdGVseS5cbiAgICAgIGlmICggdmFsdWUgPT09IG51bGwgKSB7XG4gICAgICAgICAgaWYgKCB0eXBlID09ICdjbGVhcicgKSB0eXBlID0gJ3NlbGVjdCc7XG4gICAgICAgICAgY2FsZW5kYXJJdGVtWyB0eXBlIF0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gY2FsZW5kYXJcbiAgICAgIH1cblxuICAgICAgLy8gT3RoZXJ3aXNlIGdvIHRocm91Z2ggdGhlIHF1ZXVlIG9mIG1ldGhvZHMsIGFuZCBpbnZva2UgdGhlIGZ1bmN0aW9ucy5cbiAgICAgIC8vIFVwZGF0ZSB0aGlzIGFzIHRoZSB0aW1lIHVuaXQsIGFuZCBzZXQgdGhlIGZpbmFsIHZhbHVlIGFzIHRoaXMgaXRlbS5cbiAgICAgIC8vICogSW4gdGhlIGNhc2Ugb2YgYGVuYWJsZWAsIGtlZXAgdGhlIHF1ZXVlIGJ1dCBzZXQgYGRpc2FibGVgIGluc3RlYWQuXG4gICAgICAvLyAgIEFuZCBpbiB0aGUgY2FzZSBvZiBgZmxpcGAsIGtlZXAgdGhlIHF1ZXVlIGJ1dCBzZXQgYGVuYWJsZWAgaW5zdGVhZC5cbiAgICAgIGNhbGVuZGFySXRlbVsgKCB0eXBlID09ICdlbmFibGUnID8gJ2Rpc2FibGUnIDogdHlwZSA9PSAnZmxpcCcgPyAnZW5hYmxlJyA6IHR5cGUgKSBdID0gY2FsZW5kYXIucXVldWVbIHR5cGUgXS5zcGxpdCggJyAnICkubWFwKCBmdW5jdGlvbiggbWV0aG9kICkge1xuICAgICAgICAgIHZhbHVlID0gY2FsZW5kYXJbIG1ldGhvZCBdKCB0eXBlLCB2YWx1ZSwgb3B0aW9ucyApO1xuICAgICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgfSkucG9wKCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gY2FzY2FkZSB0aHJvdWdoIG1vcmUgdXBkYXRlcy5cbiAgICAgIGlmICggdHlwZSA9PSAnc2VsZWN0JyApIHtcbiAgICAgICAgICBjYWxlbmRhci5zZXQoICdoaWdobGlnaHQnLCBjYWxlbmRhckl0ZW0uc2VsZWN0LCBvcHRpb25zICk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICggdHlwZSA9PSAnaGlnaGxpZ2h0JyApIHtcbiAgICAgICAgICBjYWxlbmRhci5zZXQoICd2aWV3JywgY2FsZW5kYXJJdGVtLmhpZ2hsaWdodCwgb3B0aW9ucyApO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIHR5cGUubWF0Y2goIC9eKGZsaXB8bWlufG1heHxkaXNhYmxlfGVuYWJsZSkkLyApICkge1xuICAgICAgICAgIGlmICggY2FsZW5kYXJJdGVtLnNlbGVjdCAmJiBjYWxlbmRhci5kaXNhYmxlZCggY2FsZW5kYXJJdGVtLnNlbGVjdCApICkge1xuICAgICAgICAgICAgICBjYWxlbmRhci5zZXQoICdzZWxlY3QnLCBjYWxlbmRhckl0ZW0uc2VsZWN0LCBvcHRpb25zICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICggY2FsZW5kYXJJdGVtLmhpZ2hsaWdodCAmJiBjYWxlbmRhci5kaXNhYmxlZCggY2FsZW5kYXJJdGVtLmhpZ2hsaWdodCApICkge1xuICAgICAgICAgICAgICBjYWxlbmRhci5zZXQoICdoaWdobGlnaHQnLCBjYWxlbmRhckl0ZW0uaGlnaGxpZ2h0LCBvcHRpb25zICk7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2FsZW5kYXJcbiAgfTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5zZXRcblxuXG4gIC8qKlxuICAgKiBHZXQgYSBkYXRlcGlja2VyIGl0ZW0gb2JqZWN0LlxuICAgKi9cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oIHR5cGUgKSB7XG4gICAgICByZXR1cm4gdGhpcy5pdGVtWyB0eXBlIF1cbiAgfTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5nZXRcblxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBwaWNrZXIgZGF0ZSBvYmplY3QuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiggdHlwZSwgdmFsdWUsIG9wdGlvbnMgKSB7XG5cbiAgICAgIHZhciBpc0luZmluaXRlVmFsdWUsXG4gICAgICAgICAgY2FsZW5kYXIgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGVyZeKAmXMgbm8gdmFsdWUsIHVzZSB0aGUgdHlwZSBhcyB0aGUgdmFsdWUuXG4gICAgICB2YWx1ZSA9IHZhbHVlID09PSB1bmRlZmluZWQgPyB0eXBlIDogdmFsdWU7XG5cblxuICAgICAgLy8gSWYgaXTigJlzIGluZmluaXR5LCB1cGRhdGUgdGhlIHZhbHVlLlxuICAgICAgaWYgKCB2YWx1ZSA9PSAtSW5maW5pdHkgfHwgdmFsdWUgPT0gSW5maW5pdHkgKSB7XG4gICAgICAgICAgaXNJbmZpbml0ZVZhbHVlID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGl04oCZcyBhbiBvYmplY3QsIHVzZSB0aGUgbmF0aXZlIGRhdGUgb2JqZWN0LlxuICAgICAgZWxzZSBpZiAoICQkJDEuaXNQbGFpbk9iamVjdCggdmFsdWUgKSAmJiBfLmlzSW50ZWdlciggdmFsdWUucGljayApICkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUub2JqO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBpdOKAmXMgYW4gYXJyYXksIGNvbnZlcnQgaXQgaW50byBhIGRhdGUgYW5kIG1ha2Ugc3VyZVxuICAgICAgLy8gdGhhdCBpdOKAmXMgYSB2YWxpZCBkYXRlIOKAkyBvdGhlcndpc2UgZGVmYXVsdCB0byB0b2RheS5cbiAgICAgIGVsc2UgaWYgKCAkJCQxLmlzQXJyYXkoIHZhbHVlICkgKSB7XG4gICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSggdmFsdWVbIDAgXSwgdmFsdWVbIDEgXSwgdmFsdWVbIDIgXSApO1xuICAgICAgICAgIHZhbHVlID0gXy5pc0RhdGUoIHZhbHVlICkgPyB2YWx1ZSA6IGNhbGVuZGFyLmNyZWF0ZSgpLm9iajtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgaXTigJlzIGEgbnVtYmVyIG9yIGRhdGUgb2JqZWN0LCBtYWtlIGEgbm9ybWFsaXplZCBkYXRlLlxuICAgICAgZWxzZSBpZiAoIF8uaXNJbnRlZ2VyKCB2YWx1ZSApIHx8IF8uaXNEYXRlKCB2YWx1ZSApICkge1xuICAgICAgICAgIHZhbHVlID0gY2FsZW5kYXIubm9ybWFsaXplKCBuZXcgRGF0ZSggdmFsdWUgKSwgb3B0aW9ucyApO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBpdOKAmXMgYSBsaXRlcmFsIHRydWUgb3IgYW55IG90aGVyIGNhc2UsIHNldCBpdCB0byBub3cuXG4gICAgICBlbHNlIC8qaWYgKCB2YWx1ZSA9PT0gdHJ1ZSApKi8ge1xuICAgICAgICAgIHZhbHVlID0gY2FsZW5kYXIubm93KCB0eXBlLCB2YWx1ZSwgb3B0aW9ucyApO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm4gdGhlIGNvbXBpbGVkIG9iamVjdC5cbiAgICAgIHJldHVybiB7XG4gICAgICAgICAgeWVhcjogaXNJbmZpbml0ZVZhbHVlIHx8IHZhbHVlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgbW9udGg6IGlzSW5maW5pdGVWYWx1ZSB8fCB2YWx1ZS5nZXRNb250aCgpLFxuICAgICAgICAgIGRhdGU6IGlzSW5maW5pdGVWYWx1ZSB8fCB2YWx1ZS5nZXREYXRlKCksXG4gICAgICAgICAgZGF5OiBpc0luZmluaXRlVmFsdWUgfHwgdmFsdWUuZ2V0RGF5KCksXG4gICAgICAgICAgb2JqOiBpc0luZmluaXRlVmFsdWUgfHwgdmFsdWUsXG4gICAgICAgICAgcGljazogaXNJbmZpbml0ZVZhbHVlIHx8IHZhbHVlLmdldFRpbWUoKVxuICAgICAgfVxuICB9OyAvL0RhdGVQaWNrZXIucHJvdG90eXBlLmNyZWF0ZVxuXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHJhbmdlIGxpbWl0IG9iamVjdCB1c2luZyBhbiBhcnJheSwgZGF0ZSBvYmplY3QsXG4gICAqIGxpdGVyYWwg4oCcdHJ1ZeKAnSwgb3IgaW50ZWdlciByZWxhdGl2ZSB0byBhbm90aGVyIHRpbWUuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5jcmVhdGVSYW5nZSA9IGZ1bmN0aW9uKCBmcm9tLCB0byApIHtcblxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcbiAgICAgICAgICBjcmVhdGVEYXRlID0gZnVuY3Rpb24oIGRhdGUgKSB7XG4gICAgICAgICAgICAgIGlmICggZGF0ZSA9PT0gdHJ1ZSB8fCAkJCQxLmlzQXJyYXkoIGRhdGUgKSB8fCBfLmlzRGF0ZSggZGF0ZSApICkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGVuZGFyLmNyZWF0ZSggZGF0ZSApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGRhdGVcbiAgICAgICAgICB9O1xuXG4gICAgICAvLyBDcmVhdGUgb2JqZWN0cyBpZiBwb3NzaWJsZS5cbiAgICAgIGlmICggIV8uaXNJbnRlZ2VyKCBmcm9tICkgKSB7XG4gICAgICAgICAgZnJvbSA9IGNyZWF0ZURhdGUoIGZyb20gKTtcbiAgICAgIH1cbiAgICAgIGlmICggIV8uaXNJbnRlZ2VyKCB0byApICkge1xuICAgICAgICAgIHRvID0gY3JlYXRlRGF0ZSggdG8gKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIHJlbGF0aXZlIGRhdGVzLlxuICAgICAgaWYgKCBfLmlzSW50ZWdlciggZnJvbSApICYmICQkJDEuaXNQbGFpbk9iamVjdCggdG8gKSApIHtcbiAgICAgICAgICBmcm9tID0gWyB0by55ZWFyLCB0by5tb250aCwgdG8uZGF0ZSArIGZyb20gXTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCBfLmlzSW50ZWdlciggdG8gKSAmJiAkJCQxLmlzUGxhaW5PYmplY3QoIGZyb20gKSApIHtcbiAgICAgICAgICB0byA9IFsgZnJvbS55ZWFyLCBmcm9tLm1vbnRoLCBmcm9tLmRhdGUgKyB0byBdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAgIGZyb206IGNyZWF0ZURhdGUoIGZyb20gKSxcbiAgICAgICAgICB0bzogY3JlYXRlRGF0ZSggdG8gKVxuICAgICAgfVxuICB9OyAvL0RhdGVQaWNrZXIucHJvdG90eXBlLmNyZWF0ZVJhbmdlXG5cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBkYXRlIHVuaXQgZmFsbHMgd2l0aGluIGEgZGF0ZSByYW5nZSBvYmplY3QuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS53aXRoaW5SYW5nZSA9IGZ1bmN0aW9uKCByYW5nZSwgZGF0ZVVuaXQgKSB7XG4gICAgICByYW5nZSA9IHRoaXMuY3JlYXRlUmFuZ2UocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xuICAgICAgcmV0dXJuIGRhdGVVbml0LnBpY2sgPj0gcmFuZ2UuZnJvbS5waWNrICYmIGRhdGVVbml0LnBpY2sgPD0gcmFuZ2UudG8ucGlja1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHR3byBkYXRlIHJhbmdlIG9iamVjdHMgb3ZlcmxhcC5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLm92ZXJsYXBSYW5nZXMgPSBmdW5jdGlvbiggb25lLCB0d28gKSB7XG5cbiAgICAgIHZhciBjYWxlbmRhciA9IHRoaXM7XG5cbiAgICAgIC8vIENvbnZlcnQgdGhlIHJhbmdlcyBpbnRvIGNvbXBhcmFibGUgZGF0ZXMuXG4gICAgICBvbmUgPSBjYWxlbmRhci5jcmVhdGVSYW5nZSggb25lLmZyb20sIG9uZS50byApO1xuICAgICAgdHdvID0gY2FsZW5kYXIuY3JlYXRlUmFuZ2UoIHR3by5mcm9tLCB0d28udG8gKTtcblxuICAgICAgcmV0dXJuIGNhbGVuZGFyLndpdGhpblJhbmdlKCBvbmUsIHR3by5mcm9tICkgfHwgY2FsZW5kYXIud2l0aGluUmFuZ2UoIG9uZSwgdHdvLnRvICkgfHxcbiAgICAgICAgICBjYWxlbmRhci53aXRoaW5SYW5nZSggdHdvLCBvbmUuZnJvbSApIHx8IGNhbGVuZGFyLndpdGhpblJhbmdlKCB0d28sIG9uZS50byApXG4gIH07XG5cblxuICAvKipcbiAgICogR2V0IHRoZSBkYXRlIHRvZGF5LlxuICAgKi9cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUubm93ID0gZnVuY3Rpb24oIHR5cGUsIHZhbHVlLCBvcHRpb25zICkge1xuICAgICAgdmFsdWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgaWYgKCBvcHRpb25zICYmIG9wdGlvbnMucmVsICkge1xuICAgICAgICAgIHZhbHVlLnNldERhdGUoIHZhbHVlLmdldERhdGUoKSArIG9wdGlvbnMucmVsICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUoIHZhbHVlLCBvcHRpb25zIClcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBOYXZpZ2F0ZSB0byBuZXh0L3ByZXYgbW9udGguXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5uYXZpZ2F0ZSA9IGZ1bmN0aW9uKCB0eXBlLCB2YWx1ZSwgb3B0aW9ucyApIHtcblxuICAgICAgdmFyIHRhcmdldERhdGVPYmplY3QsXG4gICAgICAgICAgdGFyZ2V0WWVhcixcbiAgICAgICAgICB0YXJnZXRNb250aCxcbiAgICAgICAgICB0YXJnZXREYXRlLFxuICAgICAgICAgIGlzVGFyZ2V0QXJyYXkgPSAkJCQxLmlzQXJyYXkoIHZhbHVlICksXG4gICAgICAgICAgaXNUYXJnZXRPYmplY3QgPSAkJCQxLmlzUGxhaW5PYmplY3QoIHZhbHVlICksXG4gICAgICAgICAgdmlld3NldE9iamVjdCA9IHRoaXMuaXRlbS52aWV3Oy8qLFxuICAgICAgICAgIHNhZmV0eSA9IDEwMCovXG5cblxuICAgICAgaWYgKCBpc1RhcmdldEFycmF5IHx8IGlzVGFyZ2V0T2JqZWN0ICkge1xuXG4gICAgICAgICAgaWYgKCBpc1RhcmdldE9iamVjdCApIHtcbiAgICAgICAgICAgICAgdGFyZ2V0WWVhciA9IHZhbHVlLnllYXI7XG4gICAgICAgICAgICAgIHRhcmdldE1vbnRoID0gdmFsdWUubW9udGg7XG4gICAgICAgICAgICAgIHRhcmdldERhdGUgPSB2YWx1ZS5kYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGFyZ2V0WWVhciA9ICt2YWx1ZVswXTtcbiAgICAgICAgICAgICAgdGFyZ2V0TW9udGggPSArdmFsdWVbMV07XG4gICAgICAgICAgICAgIHRhcmdldERhdGUgPSArdmFsdWVbMl07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSWYgd2XigJlyZSBuYXZpZ2F0aW5nIG1vbnRocyBidXQgdGhlIHZpZXcgaXMgaW4gYSBkaWZmZXJlbnRcbiAgICAgICAgICAvLyBtb250aCwgbmF2aWdhdGUgdG8gdGhlIHZpZXfigJlzIHllYXIgYW5kIG1vbnRoLlxuICAgICAgICAgIGlmICggb3B0aW9ucyAmJiBvcHRpb25zLm5hdiAmJiB2aWV3c2V0T2JqZWN0ICYmIHZpZXdzZXRPYmplY3QubW9udGggIT09IHRhcmdldE1vbnRoICkge1xuICAgICAgICAgICAgICB0YXJnZXRZZWFyID0gdmlld3NldE9iamVjdC55ZWFyO1xuICAgICAgICAgICAgICB0YXJnZXRNb250aCA9IHZpZXdzZXRPYmplY3QubW9udGg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRmlndXJlIG91dCB0aGUgZXhwZWN0ZWQgdGFyZ2V0IHllYXIgYW5kIG1vbnRoLlxuICAgICAgICAgIHRhcmdldERhdGVPYmplY3QgPSBuZXcgRGF0ZSggdGFyZ2V0WWVhciwgdGFyZ2V0TW9udGggKyAoIG9wdGlvbnMgJiYgb3B0aW9ucy5uYXYgPyBvcHRpb25zLm5hdiA6IDAgKSwgMSApO1xuICAgICAgICAgIHRhcmdldFllYXIgPSB0YXJnZXREYXRlT2JqZWN0LmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgdGFyZ2V0TW9udGggPSB0YXJnZXREYXRlT2JqZWN0LmdldE1vbnRoKCk7XG5cbiAgICAgICAgICAvLyBJZiB0aGUgbW9udGggd2XigJlyZSBnb2luZyB0byBkb2VzbuKAmXQgaGF2ZSBlbm91Z2ggZGF5cyxcbiAgICAgICAgICAvLyBrZWVwIGRlY3JlYXNpbmcgdGhlIGRhdGUgdW50aWwgd2UgcmVhY2ggdGhlIG1vbnRo4oCZcyBsYXN0IGRhdGUuXG4gICAgICAgICAgd2hpbGUgKCAvKnNhZmV0eSAmJiovIG5ldyBEYXRlKCB0YXJnZXRZZWFyLCB0YXJnZXRNb250aCwgdGFyZ2V0RGF0ZSApLmdldE1vbnRoKCkgIT09IHRhcmdldE1vbnRoICkge1xuICAgICAgICAgICAgICB0YXJnZXREYXRlIC09IDE7XG4gICAgICAgICAgICAgIC8qc2FmZXR5IC09IDFcbiAgICAgICAgICAgICAgaWYgKCAhc2FmZXR5ICkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgJ0ZlbGwgaW50byBhbiBpbmZpbml0ZSBsb29wIHdoaWxlIG5hdmlnYXRpbmcgdG8gJyArIG5ldyBEYXRlKCB0YXJnZXRZZWFyLCB0YXJnZXRNb250aCwgdGFyZ2V0RGF0ZSApICsgJy4nXG4gICAgICAgICAgICAgIH0qL1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhbHVlID0gWyB0YXJnZXRZZWFyLCB0YXJnZXRNb250aCwgdGFyZ2V0RGF0ZSBdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWVcbiAgfTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5uYXZpZ2F0ZVxuXG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBhIGRhdGUgYnkgc2V0dGluZyB0aGUgaG91cnMgdG8gbWlkbmlnaHQuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5ub3JtYWxpemUgPSBmdW5jdGlvbiggdmFsdWUvKiwgb3B0aW9ucyovICkge1xuICAgICAgdmFsdWUuc2V0SG91cnMoIDAsIDAsIDAsIDAgKTtcbiAgICAgIHJldHVybiB2YWx1ZVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIE1lYXN1cmUgdGhlIHJhbmdlIG9mIGRhdGVzLlxuICAgKi9cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUubWVhc3VyZSA9IGZ1bmN0aW9uKCB0eXBlLCB2YWx1ZS8qLCBvcHRpb25zKi8gKSB7XG5cbiAgICAgIHZhciBjYWxlbmRhciA9IHRoaXM7XG5cbiAgICAgIC8vIElmIGl04oCZcyBhbnl0aGluZyBmYWxzZS15LCByZW1vdmUgdGhlIGxpbWl0cy5cbiAgICAgIGlmICggIXZhbHVlICkge1xuICAgICAgICAgIHZhbHVlID0gdHlwZSA9PSAnbWluJyA/IC1JbmZpbml0eSA6IEluZmluaXR5O1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBpdOKAmXMgYSBzdHJpbmcsIHBhcnNlIGl0LlxuICAgICAgZWxzZSBpZiAoIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyApIHtcbiAgICAgICAgICB2YWx1ZSA9IGNhbGVuZGFyLnBhcnNlKCB0eXBlLCB2YWx1ZSApO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBpdCdzIGFuIGludGVnZXIsIGdldCBhIGRhdGUgcmVsYXRpdmUgdG8gdG9kYXkuXG4gICAgICBlbHNlIGlmICggXy5pc0ludGVnZXIoIHZhbHVlICkgKSB7XG4gICAgICAgICAgdmFsdWUgPSBjYWxlbmRhci5ub3coIHR5cGUsIHZhbHVlLCB7IHJlbDogdmFsdWUgfSApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWVcbiAgfTsgLy8vRGF0ZVBpY2tlci5wcm90b3R5cGUubWVhc3VyZVxuXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHZpZXdzZXQgb2JqZWN0IGJhc2VkIG9uIG5hdmlnYXRpb24uXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS52aWV3c2V0ID0gZnVuY3Rpb24oIHR5cGUsIGRhdGVPYmplY3QvKiwgb3B0aW9ucyovICkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKFsgZGF0ZU9iamVjdC55ZWFyLCBkYXRlT2JqZWN0Lm1vbnRoLCAxIF0pXG4gIH07XG5cblxuICAvKipcbiAgICogVmFsaWRhdGUgYSBkYXRlIGFzIGVuYWJsZWQgYW5kIHNoaWZ0IGlmIG5lZWRlZC5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oIHR5cGUsIGRhdGVPYmplY3QsIG9wdGlvbnMgKSB7XG5cbiAgICAgIHZhciBjYWxlbmRhciA9IHRoaXMsXG5cbiAgICAgICAgICAvLyBLZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBkYXRlLlxuICAgICAgICAgIG9yaWdpbmFsRGF0ZU9iamVjdCA9IGRhdGVPYmplY3QsXG5cbiAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhbiBpbnRlcnZhbC5cbiAgICAgICAgICBpbnRlcnZhbCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbnRlcnZhbCA/IG9wdGlvbnMuaW50ZXJ2YWwgOiAxLFxuXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNhbGVuZGFyIGVuYWJsZWQgZGF0ZXMgYXJlIGludmVydGVkLlxuICAgICAgICAgIGlzRmxpcHBlZEJhc2UgPSBjYWxlbmRhci5pdGVtLmVuYWJsZSA9PT0gLTEsXG5cbiAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGFueSBlbmFibGVkIGRhdGVzIGFmdGVyL2JlZm9yZSBub3cuXG4gICAgICAgICAgaGFzRW5hYmxlZEJlZm9yZVRhcmdldCwgaGFzRW5hYmxlZEFmdGVyVGFyZ2V0LFxuXG4gICAgICAgICAgLy8gVGhlIG1pbiAmIG1heCBsaW1pdHMuXG4gICAgICAgICAgbWluTGltaXRPYmplY3QgPSBjYWxlbmRhci5pdGVtLm1pbixcbiAgICAgICAgICBtYXhMaW1pdE9iamVjdCA9IGNhbGVuZGFyLml0ZW0ubWF4LFxuXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgd2XigJl2ZSByZWFjaGVkIHRoZSBsaW1pdCBkdXJpbmcgc2hpZnRpbmcuXG4gICAgICAgICAgcmVhY2hlZE1pbiwgcmVhY2hlZE1heCxcblxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBjYWxlbmRhciBpcyBpbnZlcnRlZCBhbmQgYXQgbGVhc3Qgb25lIHdlZWtkYXkgaXMgZW5hYmxlZC5cbiAgICAgICAgICBoYXNFbmFibGVkV2Vla2RheXMgPSBpc0ZsaXBwZWRCYXNlICYmIGNhbGVuZGFyLml0ZW0uZGlzYWJsZS5maWx0ZXIoIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZeKAmXMgYSBkYXRlLCBjaGVjayB3aGVyZSBpdCBpcyByZWxhdGl2ZSB0byB0aGUgdGFyZ2V0LlxuICAgICAgICAgICAgICBpZiAoICQkJDEuaXNBcnJheSggdmFsdWUgKSApIHtcbiAgICAgICAgICAgICAgICAgIHZhciBkYXRlVGltZSA9IGNhbGVuZGFyLmNyZWF0ZSggdmFsdWUgKS5waWNrO1xuICAgICAgICAgICAgICAgICAgaWYgKCBkYXRlVGltZSA8IGRhdGVPYmplY3QucGljayApIGhhc0VuYWJsZWRCZWZvcmVUYXJnZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIGRhdGVUaW1lID4gZGF0ZU9iamVjdC5waWNrICkgaGFzRW5hYmxlZEFmdGVyVGFyZ2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIFJldHVybiBvbmx5IGludGVnZXJzIGZvciBlbmFibGVkIHdlZWtkYXlzLlxuICAgICAgICAgICAgICByZXR1cm4gXy5pc0ludGVnZXIoIHZhbHVlIClcbiAgICAgICAgICB9KS5sZW5ndGg7LyosXG5cbiAgICAgICAgICBzYWZldHkgPSAxMDAqL1xuXG5cblxuICAgICAgLy8gQ2FzZXMgdG8gdmFsaWRhdGUgZm9yOlxuICAgICAgLy8gWzFdIE5vdCBpbnZlcnRlZCBhbmQgZGF0ZSBkaXNhYmxlZC5cbiAgICAgIC8vIFsyXSBJbnZlcnRlZCBhbmQgc29tZSBkYXRlcyBlbmFibGVkLlxuICAgICAgLy8gWzNdIE5vdCBpbnZlcnRlZCBhbmQgb3V0IG9mIHJhbmdlLlxuICAgICAgLy9cbiAgICAgIC8vIENhc2VzIHRvICoqbm90KiogdmFsaWRhdGUgZm9yOlxuICAgICAgLy8g4oCiIE5hdmlnYXRpbmcgbW9udGhzLlxuICAgICAgLy8g4oCiIE5vdCBpbnZlcnRlZCBhbmQgZGF0ZSBlbmFibGVkLlxuICAgICAgLy8g4oCiIEludmVydGVkIGFuZCBhbGwgZGF0ZXMgZGlzYWJsZWQuXG4gICAgICAvLyDigKIgLi5hbmQgYW55dGhpbmcgZWxzZS5cbiAgICAgIGlmICggIW9wdGlvbnMgfHwgKCFvcHRpb25zLm5hdiAmJiAhb3B0aW9ucy5kZWZhdWx0VmFsdWUpICkgaWYgKFxuICAgICAgICAgIC8qIDEgKi8gKCAhaXNGbGlwcGVkQmFzZSAmJiBjYWxlbmRhci5kaXNhYmxlZCggZGF0ZU9iamVjdCApICkgfHxcbiAgICAgICAgICAvKiAyICovICggaXNGbGlwcGVkQmFzZSAmJiBjYWxlbmRhci5kaXNhYmxlZCggZGF0ZU9iamVjdCApICYmICggaGFzRW5hYmxlZFdlZWtkYXlzIHx8IGhhc0VuYWJsZWRCZWZvcmVUYXJnZXQgfHwgaGFzRW5hYmxlZEFmdGVyVGFyZ2V0ICkgKSB8fFxuICAgICAgICAgIC8qIDMgKi8gKCAhaXNGbGlwcGVkQmFzZSAmJiAoZGF0ZU9iamVjdC5waWNrIDw9IG1pbkxpbWl0T2JqZWN0LnBpY2sgfHwgZGF0ZU9iamVjdC5waWNrID49IG1heExpbWl0T2JqZWN0LnBpY2spIClcbiAgICAgICkge1xuXG5cbiAgICAgICAgICAvLyBXaGVuIGludmVydGVkLCBmbGlwIHRoZSBkaXJlY3Rpb24gaWYgdGhlcmUgYXJlbuKAmXQgYW55IGVuYWJsZWQgd2Vla2RheXNcbiAgICAgICAgICAvLyBhbmQgdGhlcmUgYXJlIG5vIGVuYWJsZWQgZGF0ZXMgaW4gdGhlIGRpcmVjdGlvbiBvZiB0aGUgaW50ZXJ2YWwuXG4gICAgICAgICAgaWYgKCBpc0ZsaXBwZWRCYXNlICYmICFoYXNFbmFibGVkV2Vla2RheXMgJiYgKCAoICFoYXNFbmFibGVkQWZ0ZXJUYXJnZXQgJiYgaW50ZXJ2YWwgPiAwICkgfHwgKCAhaGFzRW5hYmxlZEJlZm9yZVRhcmdldCAmJiBpbnRlcnZhbCA8IDAgKSApICkge1xuICAgICAgICAgICAgICBpbnRlcnZhbCAqPSAtMTtcbiAgICAgICAgICB9XG5cblxuICAgICAgICAgIC8vIEtlZXAgbG9vcGluZyB1bnRpbCB3ZSByZWFjaCBhbiBlbmFibGVkIGRhdGUuXG4gICAgICAgICAgd2hpbGUgKCAvKnNhZmV0eSAmJiovIGNhbGVuZGFyLmRpc2FibGVkKCBkYXRlT2JqZWN0ICkgKSB7XG5cbiAgICAgICAgICAgICAgLypzYWZldHkgLT0gMVxuICAgICAgICAgICAgICBpZiAoICFzYWZldHkgKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyAnRmVsbCBpbnRvIGFuIGluZmluaXRlIGxvb3Agd2hpbGUgdmFsaWRhdGluZyAnICsgZGF0ZU9iamVjdC5vYmogKyAnLidcbiAgICAgICAgICAgICAgfSovXG5cblxuICAgICAgICAgICAgICAvLyBJZiB3ZeKAmXZlIGxvb3BlZCBpbnRvIHRoZSBuZXh0L3ByZXYgbW9udGggd2l0aCBhIGxhcmdlIGludGVydmFsLCByZXR1cm4gdG8gdGhlIG9yaWdpbmFsIGRhdGUgYW5kIGZsYXR0ZW4gdGhlIGludGVydmFsLlxuICAgICAgICAgICAgICBpZiAoIE1hdGguYWJzKCBpbnRlcnZhbCApID4gMSAmJiAoIGRhdGVPYmplY3QubW9udGggPCBvcmlnaW5hbERhdGVPYmplY3QubW9udGggfHwgZGF0ZU9iamVjdC5tb250aCA+IG9yaWdpbmFsRGF0ZU9iamVjdC5tb250aCApICkge1xuICAgICAgICAgICAgICAgICAgZGF0ZU9iamVjdCA9IG9yaWdpbmFsRGF0ZU9iamVjdDtcbiAgICAgICAgICAgICAgICAgIGludGVydmFsID0gaW50ZXJ2YWwgPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAvLyBJZiB3ZeKAmXZlIHJlYWNoZWQgdGhlIG1pbi9tYXggbGltaXQsIHJldmVyc2UgdGhlIGRpcmVjdGlvbiwgZmxhdHRlbiB0aGUgaW50ZXJ2YWwgYW5kIHNldCBpdCB0byB0aGUgbGltaXQuXG4gICAgICAgICAgICAgIGlmICggZGF0ZU9iamVjdC5waWNrIDw9IG1pbkxpbWl0T2JqZWN0LnBpY2sgKSB7XG4gICAgICAgICAgICAgICAgICByZWFjaGVkTWluID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIGludGVydmFsID0gMTtcbiAgICAgICAgICAgICAgICAgIGRhdGVPYmplY3QgPSBjYWxlbmRhci5jcmVhdGUoW1xuICAgICAgICAgICAgICAgICAgICAgIG1pbkxpbWl0T2JqZWN0LnllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgbWluTGltaXRPYmplY3QubW9udGgsXG4gICAgICAgICAgICAgICAgICAgICAgbWluTGltaXRPYmplY3QuZGF0ZSArIChkYXRlT2JqZWN0LnBpY2sgPT09IG1pbkxpbWl0T2JqZWN0LnBpY2sgPyAwIDogLTEpXG4gICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmICggZGF0ZU9iamVjdC5waWNrID49IG1heExpbWl0T2JqZWN0LnBpY2sgKSB7XG4gICAgICAgICAgICAgICAgICByZWFjaGVkTWF4ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIGludGVydmFsID0gLTE7XG4gICAgICAgICAgICAgICAgICBkYXRlT2JqZWN0ID0gY2FsZW5kYXIuY3JlYXRlKFtcbiAgICAgICAgICAgICAgICAgICAgICBtYXhMaW1pdE9iamVjdC55ZWFyLFxuICAgICAgICAgICAgICAgICAgICAgIG1heExpbWl0T2JqZWN0Lm1vbnRoLFxuICAgICAgICAgICAgICAgICAgICAgIG1heExpbWl0T2JqZWN0LmRhdGUgKyAoZGF0ZU9iamVjdC5waWNrID09PSBtYXhMaW1pdE9iamVjdC5waWNrID8gMCA6IDEpXG4gICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgLy8gSWYgd2XigJl2ZSByZWFjaGVkIGJvdGggbGltaXRzLCBqdXN0IGJyZWFrIG91dCBvZiB0aGUgbG9vcC5cbiAgICAgICAgICAgICAgaWYgKCByZWFjaGVkTWluICYmIHJlYWNoZWRNYXggKSB7XG4gICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAvLyBGaW5hbGx5LCBjcmVhdGUgdGhlIHNoaWZ0ZWQgZGF0ZSB1c2luZyB0aGUgaW50ZXJ2YWwgYW5kIGtlZXAgbG9vcGluZy5cbiAgICAgICAgICAgICAgZGF0ZU9iamVjdCA9IGNhbGVuZGFyLmNyZWF0ZShbIGRhdGVPYmplY3QueWVhciwgZGF0ZU9iamVjdC5tb250aCwgZGF0ZU9iamVjdC5kYXRlICsgaW50ZXJ2YWwgXSk7XG4gICAgICAgICAgfVxuXG4gICAgICB9IC8vZW5kaWZcblxuXG4gICAgICAvLyBSZXR1cm4gdGhlIGRhdGUgb2JqZWN0IHNldHRsZWQgb24uXG4gICAgICByZXR1cm4gZGF0ZU9iamVjdFxuICB9OyAvL0RhdGVQaWNrZXIucHJvdG90eXBlLnZhbGlkYXRlXG5cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBkYXRlIGlzIGRpc2FibGVkLlxuICAgKi9cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUuZGlzYWJsZWQgPSBmdW5jdGlvbiggZGF0ZVRvVmVyaWZ5ICkge1xuXG4gICAgICB2YXJcbiAgICAgICAgICBjYWxlbmRhciA9IHRoaXMsXG5cbiAgICAgICAgICAvLyBGaWx0ZXIgdGhyb3VnaCB0aGUgZGlzYWJsZWQgZGF0ZXMgdG8gY2hlY2sgaWYgdGhpcyBpcyBvbmUuXG4gICAgICAgICAgaXNEaXNhYmxlZE1hdGNoID0gY2FsZW5kYXIuaXRlbS5kaXNhYmxlLmZpbHRlciggZnVuY3Rpb24oIGRhdGVUb0Rpc2FibGUgKSB7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGRhdGUgaXMgYSBudW1iZXIsIG1hdGNoIHRoZSB3ZWVrZGF5IHdpdGggMGluZGV4IGFuZCBgZmlyc3REYXlgIGNoZWNrLlxuICAgICAgICAgICAgICBpZiAoIF8uaXNJbnRlZ2VyKCBkYXRlVG9EaXNhYmxlICkgKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZVRvVmVyaWZ5LmRheSA9PT0gKCBjYWxlbmRhci5zZXR0aW5ncy5maXJzdERheSA/IGRhdGVUb0Rpc2FibGUgOiBkYXRlVG9EaXNhYmxlIC0gMSApICUgN1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gSWYgaXTigJlzIGFuIGFycmF5IG9yIGEgbmF0aXZlIEpTIGRhdGUsIGNyZWF0ZSBhbmQgbWF0Y2ggdGhlIGV4YWN0IGRhdGUuXG4gICAgICAgICAgICAgIGlmICggJCQkMS5pc0FycmF5KCBkYXRlVG9EaXNhYmxlICkgfHwgXy5pc0RhdGUoIGRhdGVUb0Rpc2FibGUgKSApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlVG9WZXJpZnkucGljayA9PT0gY2FsZW5kYXIuY3JlYXRlKCBkYXRlVG9EaXNhYmxlICkucGlja1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gSWYgaXTigJlzIGFuIG9iamVjdCwgbWF0Y2ggYSBkYXRlIHdpdGhpbiB0aGUg4oCcZnJvbeKAnSBhbmQg4oCcdG/igJ0gcmFuZ2UuXG4gICAgICAgICAgICAgIGlmICggJCQkMS5pc1BsYWluT2JqZWN0KCBkYXRlVG9EaXNhYmxlICkgKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FsZW5kYXIud2l0aGluUmFuZ2UoIGRhdGVUb0Rpc2FibGUsIGRhdGVUb1ZlcmlmeSApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgLy8gSWYgdGhpcyBkYXRlIG1hdGNoZXMgYSBkaXNhYmxlZCBkYXRlLCBjb25maXJtIGl04oCZcyBub3QgaW52ZXJ0ZWQuXG4gICAgICBpc0Rpc2FibGVkTWF0Y2ggPSBpc0Rpc2FibGVkTWF0Y2gubGVuZ3RoICYmICFpc0Rpc2FibGVkTWF0Y2guZmlsdGVyKGZ1bmN0aW9uKCBkYXRlVG9EaXNhYmxlICkge1xuICAgICAgICAgIHJldHVybiAkJCQxLmlzQXJyYXkoIGRhdGVUb0Rpc2FibGUgKSAmJiBkYXRlVG9EaXNhYmxlWzNdID09ICdpbnZlcnRlZCcgfHxcbiAgICAgICAgICAgICAgJCQkMS5pc1BsYWluT2JqZWN0KCBkYXRlVG9EaXNhYmxlICkgJiYgZGF0ZVRvRGlzYWJsZS5pbnZlcnRlZFxuICAgICAgfSkubGVuZ3RoO1xuXG4gICAgICAvLyBDaGVjayB0aGUgY2FsZW5kYXIg4oCcZW5hYmxlZOKAnSBmbGFnIGFuZCByZXNwZWN0aXZlbHkgZmxpcCB0aGVcbiAgICAgIC8vIGRpc2FibGVkIHN0YXRlLiBUaGVuIGFsc28gY2hlY2sgaWYgaXTigJlzIGJleW9uZCB0aGUgbWluL21heCBsaW1pdHMuXG4gICAgICByZXR1cm4gY2FsZW5kYXIuaXRlbS5lbmFibGUgPT09IC0xID8gIWlzRGlzYWJsZWRNYXRjaCA6IGlzRGlzYWJsZWRNYXRjaCB8fFxuICAgICAgICAgIGRhdGVUb1ZlcmlmeS5waWNrIDwgY2FsZW5kYXIuaXRlbS5taW4ucGljayB8fFxuICAgICAgICAgIGRhdGVUb1ZlcmlmeS5waWNrID4gY2FsZW5kYXIuaXRlbS5tYXgucGlja1xuXG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUuZGlzYWJsZWRcblxuXG4gIC8qKlxuICAgKiBQYXJzZSBhIHN0cmluZyBpbnRvIGEgdXNhYmxlIHR5cGUuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKCB0eXBlLCB2YWx1ZSwgb3B0aW9ucyApIHtcblxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcbiAgICAgICAgICBwYXJzaW5nT2JqZWN0ID0ge307XG5cbiAgICAgIC8vIElmIGl04oCZcyBhbHJlYWR5IHBhcnNlZCwgd2XigJlyZSBnb29kLlxuICAgICAgaWYgKCAhdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnICkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgfVxuXG4gICAgICAvLyBXZSBuZWVkIGEgYC5mb3JtYXRgIHRvIHBhcnNlIHRoZSB2YWx1ZSB3aXRoLlxuICAgICAgaWYgKCAhKCBvcHRpb25zICYmIG9wdGlvbnMuZm9ybWF0ICkgKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgb3B0aW9ucy5mb3JtYXQgPSBjYWxlbmRhci5zZXR0aW5ncy5mb3JtYXQ7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnQgdGhlIGZvcm1hdCBpbnRvIGFuIGFycmF5IGFuZCB0aGVuIG1hcCB0aHJvdWdoIGl0LlxuICAgICAgY2FsZW5kYXIuZm9ybWF0cy50b0FycmF5KCBvcHRpb25zLmZvcm1hdCApLm1hcCggZnVuY3Rpb24oIGxhYmVsICkge1xuXG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICAgIC8vIEdyYWIgdGhlIGZvcm1hdHRpbmcgbGFiZWwuXG4gICAgICAgICAgICAgIGZvcm1hdHRpbmdMYWJlbCA9IGNhbGVuZGFyLmZvcm1hdHNbIGxhYmVsIF0sXG5cbiAgICAgICAgICAgICAgLy8gVGhlIGZvcm1hdCBsZW5ndGggaXMgZnJvbSB0aGUgZm9ybWF0dGluZyBsYWJlbCBmdW5jdGlvbiBvciB0aGVcbiAgICAgICAgICAgICAgLy8gbGFiZWwgbGVuZ3RoIHdpdGhvdXQgdGhlIGVzY2FwaW5nIGV4Y2xhbWF0aW9uICghKSBtYXJrLlxuICAgICAgICAgICAgICBmb3JtYXRMZW5ndGggPSBmb3JtYXR0aW5nTGFiZWwgPyBfLnRyaWdnZXIoIGZvcm1hdHRpbmdMYWJlbCwgY2FsZW5kYXIsIFsgdmFsdWUsIHBhcnNpbmdPYmplY3QgXSApIDogbGFiZWwucmVwbGFjZSggL14hLywgJycgKS5sZW5ndGg7XG5cbiAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgZm9ybWF0IGxhYmVsLCBzcGxpdCB0aGUgdmFsdWUgdXAgdG8gdGhlIGZvcm1hdCBsZW5ndGguXG4gICAgICAgICAgLy8gVGhlbiBhZGQgaXQgdG8gdGhlIHBhcnNpbmcgb2JqZWN0IHdpdGggYXBwcm9wcmlhdGUgbGFiZWwuXG4gICAgICAgICAgaWYgKCBmb3JtYXR0aW5nTGFiZWwgKSB7XG4gICAgICAgICAgICAgIHBhcnNpbmdPYmplY3RbIGxhYmVsIF0gPSB2YWx1ZS5zdWJzdHIoIDAsIGZvcm1hdExlbmd0aCApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWUgYXMgdGhlIHN1YnN0cmluZyBmcm9tIGZvcm1hdCBsZW5ndGggdG8gZW5kLlxuICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyKCBmb3JtYXRMZW5ndGggKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb21wZW5zYXRlIGZvciBtb250aCAwaW5kZXguXG4gICAgICByZXR1cm4gW1xuICAgICAgICAgIHBhcnNpbmdPYmplY3QueXl5eSB8fCBwYXJzaW5nT2JqZWN0Lnl5LFxuICAgICAgICAgICsoIHBhcnNpbmdPYmplY3QubW0gfHwgcGFyc2luZ09iamVjdC5tICkgLSAxLFxuICAgICAgICAgIHBhcnNpbmdPYmplY3QuZGQgfHwgcGFyc2luZ09iamVjdC5kXG4gICAgICBdXG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUucGFyc2VcblxuXG4gIC8qKlxuICAgKiBWYXJpb3VzIGZvcm1hdHMgdG8gZGlzcGxheSB0aGUgb2JqZWN0IGluLlxuICAgKi9cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUuZm9ybWF0cyA9IChmdW5jdGlvbigpIHtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IHdvcmQgaW4gYSBjb2xsZWN0aW9uLlxuICAgICAgZnVuY3Rpb24gZ2V0V29yZExlbmd0aEZyb21Db2xsZWN0aW9uKCBzdHJpbmcsIGNvbGxlY3Rpb24sIGRhdGVPYmplY3QgKSB7XG5cbiAgICAgICAgICAvLyBHcmFiIHRoZSBmaXJzdCB3b3JkIGZyb20gdGhlIHN0cmluZy5cbiAgICAgICAgICAvLyBSZWdleCBwYXR0ZXJuIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMTUwMDMzXG4gICAgICAgICAgdmFyIHdvcmQgPSBzdHJpbmcubWF0Y2goIC9bXlxceDAwLVxceDdGXSt8XFx3Ky8gKVsgMCBdO1xuXG4gICAgICAgICAgLy8gSWYgdGhlcmUncyBubyBtb250aCBpbmRleCwgYWRkIGl0IHRvIHRoZSBkYXRlIG9iamVjdFxuICAgICAgICAgIGlmICggIWRhdGVPYmplY3QubW0gJiYgIWRhdGVPYmplY3QubSApIHtcbiAgICAgICAgICAgICAgZGF0ZU9iamVjdC5tID0gY29sbGVjdGlvbi5pbmRleE9mKCB3b3JkICkgKyAxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSB3b3JkLlxuICAgICAgICAgIHJldHVybiB3b3JkLmxlbmd0aFxuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3Qgd29yZCBpbiBhIHN0cmluZy5cbiAgICAgIGZ1bmN0aW9uIGdldEZpcnN0V29yZExlbmd0aCggc3RyaW5nICkge1xuICAgICAgICAgIHJldHVybiBzdHJpbmcubWF0Y2goIC9cXHcrLyApWyAwIF0ubGVuZ3RoXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG5cbiAgICAgICAgICBkOiBmdW5jdGlvbiggc3RyaW5nLCBkYXRlT2JqZWN0ICkge1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgc3RyaW5nLCB0aGVuIGdldCB0aGUgZGlnaXRzIGxlbmd0aC5cbiAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJldHVybiB0aGUgc2VsZWN0ZWQgZGF0ZS5cbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IF8uZGlnaXRzKCBzdHJpbmcgKSA6IGRhdGVPYmplY3QuZGF0ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGQ6IGZ1bmN0aW9uKCBzdHJpbmcsIGRhdGVPYmplY3QgKSB7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgdGhlbiB0aGUgbGVuZ3RoIGlzIGFsd2F5cyAyLlxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSBzZWxlY3RlZCBkYXRlIHdpdGggYSBsZWFkaW5nIHplcm8uXG4gICAgICAgICAgICAgIHJldHVybiBzdHJpbmcgPyAyIDogXy5sZWFkKCBkYXRlT2JqZWN0LmRhdGUgKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGRkOiBmdW5jdGlvbiggc3RyaW5nLCBkYXRlT2JqZWN0ICkge1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBzdHJpbmcsIHRoZW4gZ2V0IHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IHdvcmQuXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSByZXR1cm4gdGhlIHNob3J0IHNlbGVjdGVkIHdlZWtkYXkuXG4gICAgICAgICAgICAgIHJldHVybiBzdHJpbmcgPyBnZXRGaXJzdFdvcmRMZW5ndGgoIHN0cmluZyApIDogdGhpcy5zZXR0aW5ncy53ZWVrZGF5c1Nob3J0WyBkYXRlT2JqZWN0LmRheSBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZGRkOiBmdW5jdGlvbiggc3RyaW5nLCBkYXRlT2JqZWN0ICkge1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBzdHJpbmcsIHRoZW4gZ2V0IHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IHdvcmQuXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSByZXR1cm4gdGhlIGZ1bGwgc2VsZWN0ZWQgd2Vla2RheS5cbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IGdldEZpcnN0V29yZExlbmd0aCggc3RyaW5nICkgOiB0aGlzLnNldHRpbmdzLndlZWtkYXlzRnVsbFsgZGF0ZU9iamVjdC5kYXkgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbTogZnVuY3Rpb24oIHN0cmluZywgZGF0ZU9iamVjdCApIHtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgc3RyaW5nLCB0aGVuIGdldCB0aGUgbGVuZ3RoIG9mIHRoZSBkaWdpdHNcbiAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJldHVybiB0aGUgc2VsZWN0ZWQgbW9udGggd2l0aCAwaW5kZXggY29tcGVuc2F0aW9uLlxuICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nID8gXy5kaWdpdHMoIHN0cmluZyApIDogZGF0ZU9iamVjdC5tb250aCArIDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1tOiBmdW5jdGlvbiggc3RyaW5nLCBkYXRlT2JqZWN0ICkge1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBzdHJpbmcsIHRoZW4gdGhlIGxlbmd0aCBpcyBhbHdheXMgMi5cbiAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJldHVybiB0aGUgc2VsZWN0ZWQgbW9udGggd2l0aCAwaW5kZXggYW5kIGxlYWRpbmcgemVyby5cbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IDIgOiBfLmxlYWQoIGRhdGVPYmplY3QubW9udGggKyAxIClcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1tbTogZnVuY3Rpb24oIHN0cmluZywgZGF0ZU9iamVjdCApIHtcblxuICAgICAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXMuc2V0dGluZ3MubW9udGhzU2hvcnQ7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgZ2V0IGxlbmd0aCBvZiB0aGUgcmVsZXZhbnQgbW9udGggZnJvbSB0aGUgc2hvcnRcbiAgICAgICAgICAgICAgLy8gbW9udGhzIGNvbGxlY3Rpb24uIE90aGVyd2lzZSByZXR1cm4gdGhlIHNlbGVjdGVkIG1vbnRoIGZyb20gdGhhdCBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nID8gZ2V0V29yZExlbmd0aEZyb21Db2xsZWN0aW9uKCBzdHJpbmcsIGNvbGxlY3Rpb24sIGRhdGVPYmplY3QgKSA6IGNvbGxlY3Rpb25bIGRhdGVPYmplY3QubW9udGggXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbW1tbTogZnVuY3Rpb24oIHN0cmluZywgZGF0ZU9iamVjdCApIHtcblxuICAgICAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXMuc2V0dGluZ3MubW9udGhzRnVsbDtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgc3RyaW5nLCBnZXQgbGVuZ3RoIG9mIHRoZSByZWxldmFudCBtb250aCBmcm9tIHRoZSBmdWxsXG4gICAgICAgICAgICAgIC8vIG1vbnRocyBjb2xsZWN0aW9uLiBPdGhlcndpc2UgcmV0dXJuIHRoZSBzZWxlY3RlZCBtb250aCBmcm9tIHRoYXQgY29sbGVjdGlvbi5cbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IGdldFdvcmRMZW5ndGhGcm9tQ29sbGVjdGlvbiggc3RyaW5nLCBjb2xsZWN0aW9uLCBkYXRlT2JqZWN0ICkgOiBjb2xsZWN0aW9uWyBkYXRlT2JqZWN0Lm1vbnRoIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHl5OiBmdW5jdGlvbiggc3RyaW5nLCBkYXRlT2JqZWN0ICkge1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBzdHJpbmcsIHRoZW4gdGhlIGxlbmd0aCBpcyBhbHdheXMgMi5cbiAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJldHVybiB0aGUgc2VsZWN0ZWQgeWVhciBieSBzbGljaW5nIG91dCB0aGUgZmlyc3QgMiBkaWdpdHMuXG4gICAgICAgICAgICAgIHJldHVybiBzdHJpbmcgPyAyIDogKCAnJyArIGRhdGVPYmplY3QueWVhciApLnNsaWNlKCAyIClcbiAgICAgICAgICB9LFxuICAgICAgICAgIHl5eXk6IGZ1bmN0aW9uKCBzdHJpbmcsIGRhdGVPYmplY3QgKSB7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgdGhlbiB0aGUgbGVuZ3RoIGlzIGFsd2F5cyA0LlxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSBzZWxlY3RlZCB5ZWFyLlxuICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nID8gNCA6IGRhdGVPYmplY3QueWVhclxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvLyBDcmVhdGUgYW4gYXJyYXkgYnkgc3BsaXR0aW5nIHRoZSBmb3JtYXR0aW5nIHN0cmluZyBwYXNzZWQuXG4gICAgICAgICAgdG9BcnJheTogZnVuY3Rpb24oIGZvcm1hdFN0cmluZyApIHsgcmV0dXJuIGZvcm1hdFN0cmluZy5zcGxpdCggLyhkezEsNH18bXsxLDR9fHl7NH18eXl8IS4pL2cgKSB9LFxuXG4gICAgICAgICAgLy8gRm9ybWF0IGFuIG9iamVjdCBpbnRvIGEgc3RyaW5nIHVzaW5nIHRoZSBmb3JtYXR0aW5nIG9wdGlvbnMuXG4gICAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICggZm9ybWF0U3RyaW5nLCBpdGVtT2JqZWN0ICkge1xuICAgICAgICAgICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzO1xuICAgICAgICAgICAgICByZXR1cm4gY2FsZW5kYXIuZm9ybWF0cy50b0FycmF5KCBmb3JtYXRTdHJpbmcgKS5tYXAoIGZ1bmN0aW9uKCBsYWJlbCApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfLnRyaWdnZXIoIGNhbGVuZGFyLmZvcm1hdHNbIGxhYmVsIF0sIGNhbGVuZGFyLCBbIDAsIGl0ZW1PYmplY3QgXSApIHx8IGxhYmVsLnJlcGxhY2UoIC9eIS8sICcnIClcbiAgICAgICAgICAgICAgfSkuam9pbiggJycgKVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfSkoKTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5mb3JtYXRzXG5cblxuXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHR3byBkYXRlIHVuaXRzIGFyZSB0aGUgZXhhY3QuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5pc0RhdGVFeGFjdCA9IGZ1bmN0aW9uKCBvbmUsIHR3byApIHtcblxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcztcblxuICAgICAgLy8gV2hlbiB3ZeKAmXJlIHdvcmtpbmcgd2l0aCB3ZWVrZGF5cywgZG8gYSBkaXJlY3QgY29tcGFyaXNvbi5cbiAgICAgIGlmIChcbiAgICAgICAgICAoIF8uaXNJbnRlZ2VyKCBvbmUgKSAmJiBfLmlzSW50ZWdlciggdHdvICkgKSB8fFxuICAgICAgICAgICggdHlwZW9mIG9uZSA9PSAnYm9vbGVhbicgJiYgdHlwZW9mIHR3byA9PSAnYm9vbGVhbicgKVxuICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBvbmUgPT09IHR3b1xuICAgICAgfVxuXG4gICAgICAvLyBXaGVuIHdl4oCZcmUgd29ya2luZyB3aXRoIGRhdGUgcmVwcmVzZW50YXRpb25zLCBjb21wYXJlIHRoZSDigJxwaWNr4oCdIHZhbHVlLlxuICAgICAgaWYgKFxuICAgICAgICAgICggXy5pc0RhdGUoIG9uZSApIHx8ICQkJDEuaXNBcnJheSggb25lICkgKSAmJlxuICAgICAgICAgICggXy5pc0RhdGUoIHR3byApIHx8ICQkJDEuaXNBcnJheSggdHdvICkgKVxuICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGVuZGFyLmNyZWF0ZSggb25lICkucGljayA9PT0gY2FsZW5kYXIuY3JlYXRlKCB0d28gKS5waWNrXG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gd2XigJlyZSB3b3JraW5nIHdpdGggcmFuZ2Ugb2JqZWN0cywgY29tcGFyZSB0aGUg4oCcZnJvbeKAnSBhbmQg4oCcdG/igJ0uXG4gICAgICBpZiAoICQkJDEuaXNQbGFpbk9iamVjdCggb25lICkgJiYgJCQkMS5pc1BsYWluT2JqZWN0KCB0d28gKSApIHtcbiAgICAgICAgICByZXR1cm4gY2FsZW5kYXIuaXNEYXRlRXhhY3QoIG9uZS5mcm9tLCB0d28uZnJvbSApICYmIGNhbGVuZGFyLmlzRGF0ZUV4YWN0KCBvbmUudG8sIHR3by50byApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHR3byBkYXRlIHVuaXRzIG92ZXJsYXAuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5pc0RhdGVPdmVybGFwID0gZnVuY3Rpb24oIG9uZSwgdHdvICkge1xuXG4gICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzLFxuICAgICAgICAgIGZpcnN0RGF5ID0gY2FsZW5kYXIuc2V0dGluZ3MuZmlyc3REYXkgPyAxIDogMDtcblxuICAgICAgLy8gV2hlbiB3ZeKAmXJlIHdvcmtpbmcgd2l0aCBhIHdlZWtkYXkgaW5kZXgsIGNvbXBhcmUgdGhlIGRheXMuXG4gICAgICBpZiAoIF8uaXNJbnRlZ2VyKCBvbmUgKSAmJiAoIF8uaXNEYXRlKCB0d28gKSB8fCAkJCQxLmlzQXJyYXkoIHR3byApICkgKSB7XG4gICAgICAgICAgb25lID0gb25lICUgNyArIGZpcnN0RGF5O1xuICAgICAgICAgIHJldHVybiBvbmUgPT09IGNhbGVuZGFyLmNyZWF0ZSggdHdvICkuZGF5ICsgMVxuICAgICAgfVxuICAgICAgaWYgKCBfLmlzSW50ZWdlciggdHdvICkgJiYgKCBfLmlzRGF0ZSggb25lICkgfHwgJCQkMS5pc0FycmF5KCBvbmUgKSApICkge1xuICAgICAgICAgIHR3byA9IHR3byAlIDcgKyBmaXJzdERheTtcbiAgICAgICAgICByZXR1cm4gdHdvID09PSBjYWxlbmRhci5jcmVhdGUoIG9uZSApLmRheSArIDFcbiAgICAgIH1cblxuICAgICAgLy8gV2hlbiB3ZeKAmXJlIHdvcmtpbmcgd2l0aCByYW5nZSBvYmplY3RzLCBjaGVjayBpZiB0aGUgcmFuZ2VzIG92ZXJsYXAuXG4gICAgICBpZiAoICQkJDEuaXNQbGFpbk9iamVjdCggb25lICkgJiYgJCQkMS5pc1BsYWluT2JqZWN0KCB0d28gKSApIHtcbiAgICAgICAgICByZXR1cm4gY2FsZW5kYXIub3ZlcmxhcFJhbmdlcyggb25lLCB0d28gKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2VcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBGbGlwIHRoZSDigJxlbmFibGVk4oCdIHN0YXRlLlxuICAgKi9cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUuZmxpcEVuYWJsZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFyIGl0ZW1PYmplY3QgPSB0aGlzLml0ZW07XG4gICAgICBpdGVtT2JqZWN0LmVuYWJsZSA9IHZhbCB8fCAoaXRlbU9iamVjdC5lbmFibGUgPT0gLTEgPyAxIDogLTEpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIE1hcmsgYSBjb2xsZWN0aW9uIG9mIGRhdGVzIGFzIOKAnGRpc2FibGVk4oCdLlxuICAgKi9cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uKCB0eXBlLCBkYXRlc1RvRGlzYWJsZSApIHtcblxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcbiAgICAgICAgICBkaXNhYmxlZEl0ZW1zID0gY2FsZW5kYXIuaXRlbS5kaXNhYmxlLnNsaWNlKDApO1xuXG5cbiAgICAgIC8vIElmIHdl4oCZcmUgZmxpcHBpbmcsIHRoYXTigJlzIGFsbCB3ZSBuZWVkIHRvIGRvLlxuICAgICAgaWYgKCBkYXRlc1RvRGlzYWJsZSA9PSAnZmxpcCcgKSB7XG4gICAgICAgICAgY2FsZW5kYXIuZmxpcEVuYWJsZSgpO1xuICAgICAgfVxuXG4gICAgICBlbHNlIGlmICggZGF0ZXNUb0Rpc2FibGUgPT09IGZhbHNlICkge1xuICAgICAgICAgIGNhbGVuZGFyLmZsaXBFbmFibGUoMSk7XG4gICAgICAgICAgZGlzYWJsZWRJdGVtcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBlbHNlIGlmICggZGF0ZXNUb0Rpc2FibGUgPT09IHRydWUgKSB7XG4gICAgICAgICAgY2FsZW5kYXIuZmxpcEVuYWJsZSgtMSk7XG4gICAgICAgICAgZGlzYWJsZWRJdGVtcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UgZ28gdGhyb3VnaCB0aGUgZGF0ZXMgdG8gZGlzYWJsZS5cbiAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgZGF0ZXNUb0Rpc2FibGUubWFwKGZ1bmN0aW9uKCB1bml0VG9EaXNhYmxlICkge1xuXG4gICAgICAgICAgICAgIHZhciBtYXRjaEZvdW5kO1xuXG4gICAgICAgICAgICAgIC8vIFdoZW4gd2UgaGF2ZSBkaXNhYmxlZCBpdGVtcywgY2hlY2sgZm9yIG1hdGNoZXMuXG4gICAgICAgICAgICAgIC8vIElmIHNvbWV0aGluZyBpcyBtYXRjaGVkLCBpbW1lZGlhdGVseSBicmVhayBvdXQuXG4gICAgICAgICAgICAgIGZvciAoIHZhciBpbmRleCA9IDA7IGluZGV4IDwgZGlzYWJsZWRJdGVtcy5sZW5ndGg7IGluZGV4ICs9IDEgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIGNhbGVuZGFyLmlzRGF0ZUV4YWN0KCB1bml0VG9EaXNhYmxlLCBkaXNhYmxlZEl0ZW1zW2luZGV4XSApICkge1xuICAgICAgICAgICAgICAgICAgICAgIG1hdGNoRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBJZiBub3RoaW5nIHdhcyBmb3VuZCwgYWRkIHRoZSB2YWxpZGF0ZWQgdW5pdCB0byB0aGUgY29sbGVjdGlvbi5cbiAgICAgICAgICAgICAgaWYgKCAhbWF0Y2hGb3VuZCApIHtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICBfLmlzSW50ZWdlciggdW5pdFRvRGlzYWJsZSApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgXy5pc0RhdGUoIHVuaXRUb0Rpc2FibGUgKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICQkJDEuaXNBcnJheSggdW5pdFRvRGlzYWJsZSApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKCAkJCQxLmlzUGxhaW5PYmplY3QoIHVuaXRUb0Rpc2FibGUgKSAmJiB1bml0VG9EaXNhYmxlLmZyb20gJiYgdW5pdFRvRGlzYWJsZS50byApXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZEl0ZW1zLnB1c2goIHVuaXRUb0Rpc2FibGUgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm4gdGhlIHVwZGF0ZWQgY29sbGVjdGlvbi5cbiAgICAgIHJldHVybiBkaXNhYmxlZEl0ZW1zXG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUuZGVhY3RpdmF0ZVxuXG5cbiAgLyoqXG4gICAqIE1hcmsgYSBjb2xsZWN0aW9uIG9mIGRhdGVzIGFzIOKAnGVuYWJsZWTigJ0uXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKCB0eXBlLCBkYXRlc1RvRW5hYmxlICkge1xuXG4gICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzLFxuICAgICAgICAgIGRpc2FibGVkSXRlbXMgPSBjYWxlbmRhci5pdGVtLmRpc2FibGUsXG4gICAgICAgICAgZGlzYWJsZWRJdGVtc0NvdW50ID0gZGlzYWJsZWRJdGVtcy5sZW5ndGg7XG5cbiAgICAgIC8vIElmIHdl4oCZcmUgZmxpcHBpbmcsIHRoYXTigJlzIGFsbCB3ZSBuZWVkIHRvIGRvLlxuICAgICAgaWYgKCBkYXRlc1RvRW5hYmxlID09ICdmbGlwJyApIHtcbiAgICAgICAgICBjYWxlbmRhci5mbGlwRW5hYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIGVsc2UgaWYgKCBkYXRlc1RvRW5hYmxlID09PSB0cnVlICkge1xuICAgICAgICAgIGNhbGVuZGFyLmZsaXBFbmFibGUoMSk7XG4gICAgICAgICAgZGlzYWJsZWRJdGVtcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBlbHNlIGlmICggZGF0ZXNUb0VuYWJsZSA9PT0gZmFsc2UgKSB7XG4gICAgICAgICAgY2FsZW5kYXIuZmxpcEVuYWJsZSgtMSk7XG4gICAgICAgICAgZGlzYWJsZWRJdGVtcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UgZ28gdGhyb3VnaCB0aGUgZGlzYWJsZWQgZGF0ZXMuXG4gICAgICBlbHNlIHtcblxuICAgICAgICAgIGRhdGVzVG9FbmFibGUubWFwKGZ1bmN0aW9uKCB1bml0VG9FbmFibGUgKSB7XG5cbiAgICAgICAgICAgICAgdmFyIG1hdGNoRm91bmQsXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZFVuaXQsXG4gICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgIGlzRXhhY3RSYW5nZTtcblxuICAgICAgICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSBkaXNhYmxlZCBpdGVtcyBhbmQgdHJ5IHRvIGZpbmQgYSBtYXRjaC5cbiAgICAgICAgICAgICAgZm9yICggaW5kZXggPSAwOyBpbmRleCA8IGRpc2FibGVkSXRlbXNDb3VudDsgaW5kZXggKz0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWRVbml0ID0gZGlzYWJsZWRJdGVtc1tpbmRleF07XG5cbiAgICAgICAgICAgICAgICAgIC8vIFdoZW4gYW4gZXhhY3QgbWF0Y2ggaXMgZm91bmQsIHJlbW92ZSBpdCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgaWYgKCBjYWxlbmRhci5pc0RhdGVFeGFjdCggZGlzYWJsZWRVbml0LCB1bml0VG9FbmFibGUgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICBtYXRjaEZvdW5kID0gZGlzYWJsZWRJdGVtc1tpbmRleF0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIGlzRXhhY3RSYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gV2hlbiBhbiBvdmVybGFwcGVkIG1hdGNoIGlzIGZvdW5kLCBhZGQgdGhlIOKAnGludmVydGVk4oCdIHN0YXRlIHRvIGl0LlxuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIGNhbGVuZGFyLmlzRGF0ZU92ZXJsYXAoIGRpc2FibGVkVW5pdCwgdW5pdFRvRW5hYmxlICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCAkJCQxLmlzUGxhaW5PYmplY3QoIHVuaXRUb0VuYWJsZSApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0VG9FbmFibGUuaW52ZXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEZvdW5kID0gdW5pdFRvRW5hYmxlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICggJCQkMS5pc0FycmF5KCB1bml0VG9FbmFibGUgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hGb3VuZCA9IHVuaXRUb0VuYWJsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhbWF0Y2hGb3VuZFszXSApIG1hdGNoRm91bmQucHVzaCggJ2ludmVydGVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICggXy5pc0RhdGUoIHVuaXRUb0VuYWJsZSApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEZvdW5kID0gWyB1bml0VG9FbmFibGUuZ2V0RnVsbFllYXIoKSwgdW5pdFRvRW5hYmxlLmdldE1vbnRoKCksIHVuaXRUb0VuYWJsZS5nZXREYXRlKCksICdpbnZlcnRlZCcgXTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIElmIGEgbWF0Y2ggd2FzIGZvdW5kLCByZW1vdmUgYSBwcmV2aW91cyBkdXBsaWNhdGUgZW50cnkuXG4gICAgICAgICAgICAgIGlmICggbWF0Y2hGb3VuZCApIGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBkaXNhYmxlZEl0ZW1zQ291bnQ7IGluZGV4ICs9IDEgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIGNhbGVuZGFyLmlzRGF0ZUV4YWN0KCBkaXNhYmxlZEl0ZW1zW2luZGV4XSwgdW5pdFRvRW5hYmxlICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRJdGVtc1tpbmRleF0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBJbiB0aGUgZXZlbnQgdGhhdCB3ZeKAmXJlIGRlYWxpbmcgd2l0aCBhbiBleGFjdCByYW5nZSBvZiBkYXRlcyxcbiAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZXJlIGFyZSBubyDigJxpbnZlcnRlZOKAnSBkYXRlcyBiZWNhdXNlIG9mIGl0LlxuICAgICAgICAgICAgICBpZiAoIGlzRXhhY3RSYW5nZSApIGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBkaXNhYmxlZEl0ZW1zQ291bnQ7IGluZGV4ICs9IDEgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIGNhbGVuZGFyLmlzRGF0ZU92ZXJsYXAoIGRpc2FibGVkSXRlbXNbaW5kZXhdLCB1bml0VG9FbmFibGUgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZEl0ZW1zW2luZGV4XSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIElmIHNvbWV0aGluZyBpcyBzdGlsbCBtYXRjaGVkLCBhZGQgaXQgaW50byB0aGUgY29sbGVjdGlvbi5cbiAgICAgICAgICAgICAgaWYgKCBtYXRjaEZvdW5kICkge1xuICAgICAgICAgICAgICAgICAgZGlzYWJsZWRJdGVtcy5wdXNoKCBtYXRjaEZvdW5kICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gUmV0dXJuIHRoZSB1cGRhdGVkIGNvbGxlY3Rpb24uXG4gICAgICByZXR1cm4gZGlzYWJsZWRJdGVtcy5maWx0ZXIoZnVuY3Rpb24oIHZhbCApIHsgcmV0dXJuIHZhbCAhPSBudWxsIH0pXG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUuYWN0aXZhdGVcblxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzdHJpbmcgZm9yIHRoZSBub2RlcyBpbiB0aGUgcGlja2VyLlxuICAgKi9cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUubm9kZXMgPSBmdW5jdGlvbiggaXNPcGVuICkge1xuXG4gICAgICB2YXJcbiAgICAgICAgICBjYWxlbmRhciA9IHRoaXMsXG4gICAgICAgICAgc2V0dGluZ3MgPSBjYWxlbmRhci5zZXR0aW5ncyxcbiAgICAgICAgICBjYWxlbmRhckl0ZW0gPSBjYWxlbmRhci5pdGVtLFxuICAgICAgICAgIG5vd09iamVjdCA9IGNhbGVuZGFySXRlbS5ub3csXG4gICAgICAgICAgc2VsZWN0ZWRPYmplY3QgPSBjYWxlbmRhckl0ZW0uc2VsZWN0LFxuICAgICAgICAgIGhpZ2hsaWdodGVkT2JqZWN0ID0gY2FsZW5kYXJJdGVtLmhpZ2hsaWdodCxcbiAgICAgICAgICB2aWV3c2V0T2JqZWN0ID0gY2FsZW5kYXJJdGVtLnZpZXcsXG4gICAgICAgICAgZGlzYWJsZWRDb2xsZWN0aW9uID0gY2FsZW5kYXJJdGVtLmRpc2FibGUsXG4gICAgICAgICAgbWluTGltaXRPYmplY3QgPSBjYWxlbmRhckl0ZW0ubWluLFxuICAgICAgICAgIG1heExpbWl0T2JqZWN0ID0gY2FsZW5kYXJJdGVtLm1heCxcblxuXG4gICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjYWxlbmRhciB0YWJsZSBoZWFkIHVzaW5nIGEgY29weSBvZiB3ZWVrZGF5IGxhYmVscyBjb2xsZWN0aW9uLlxuICAgICAgICAgIC8vICogV2UgZG8gYSBjb3B5IHNvIHdlIGRvbid0IG11dGF0ZSB0aGUgb3JpZ2luYWwgYXJyYXkuXG4gICAgICAgICAgdGFibGVIZWFkID0gKGZ1bmN0aW9uKCBjb2xsZWN0aW9uLCBmdWxsQ29sbGVjdGlvbiApIHtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGUgZmlyc3QgZGF5IHNob3VsZCBiZSBNb25kYXksIG1vdmUgU3VuZGF5IHRvIHRoZSBlbmQuXG4gICAgICAgICAgICAgIGlmICggc2V0dGluZ3MuZmlyc3REYXkgKSB7XG4gICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnB1c2goIGNvbGxlY3Rpb24uc2hpZnQoKSApO1xuICAgICAgICAgICAgICAgICAgZnVsbENvbGxlY3Rpb24ucHVzaCggZnVsbENvbGxlY3Rpb24uc2hpZnQoKSApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFuZCByZXR1cm4gdGhlIHRhYmxlIGhlYWQgZ3JvdXAuXG4gICAgICAgICAgICAgIHJldHVybiBfLm5vZGUoXG4gICAgICAgICAgICAgICAgICAndGhlYWQnLFxuICAgICAgICAgICAgICAgICAgXy5ub2RlKFxuICAgICAgICAgICAgICAgICAgICAgICd0cicsXG4gICAgICAgICAgICAgICAgICAgICAgXy5ncm91cCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBEQVlTX0lOX1dFRUsgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlOiAndGgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBmdW5jdGlvbiggY291bnRlciApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvblsgY291bnRlciBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmtsYXNzLndlZWtkYXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzY29wZT1jb2wgdGl0bGU9XCInICsgZnVsbENvbGxlY3Rpb25bIGNvdW50ZXIgXSArICdcIidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkgLy9lbmRyZXR1cm5cbiAgICAgICAgICB9KSggKCBzZXR0aW5ncy5zaG93V2Vla2RheXNGdWxsID8gc2V0dGluZ3Mud2Vla2RheXNGdWxsIDogc2V0dGluZ3Mud2Vla2RheXNTaG9ydCApLnNsaWNlKCAwICksIHNldHRpbmdzLndlZWtkYXlzRnVsbC5zbGljZSggMCApICksIC8vdGFibGVIZWFkXG5cblxuICAgICAgICAgIC8vIENyZWF0ZSB0aGUgbmF2IGZvciBuZXh0L3ByZXYgbW9udGguXG4gICAgICAgICAgY3JlYXRlTW9udGhOYXYgPSBmdW5jdGlvbiggbmV4dCApIHtcblxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHJldHVybiB0aGUgY3JlYXRlZCBtb250aCB0YWcuXG4gICAgICAgICAgICAgIHJldHVybiBfLm5vZGUoXG4gICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmtsYXNzWyAnbmF2JyArICggbmV4dCA/ICdOZXh0JyA6ICdQcmV2JyApIF0gKyAoXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZm9jdXNlZCBtb250aCBpcyBvdXRzaWRlIHRoZSByYW5nZSwgZGlzYWJsZWQgdGhlIGJ1dHRvbi5cbiAgICAgICAgICAgICAgICAgICAgICAoIG5leHQgJiYgdmlld3NldE9iamVjdC55ZWFyID49IG1heExpbWl0T2JqZWN0LnllYXIgJiYgdmlld3NldE9iamVjdC5tb250aCA+PSBtYXhMaW1pdE9iamVjdC5tb250aCApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKCAhbmV4dCAmJiB2aWV3c2V0T2JqZWN0LnllYXIgPD0gbWluTGltaXRPYmplY3QueWVhciAmJiB2aWV3c2V0T2JqZWN0Lm1vbnRoIDw9IG1pbkxpbWl0T2JqZWN0Lm1vbnRoICkgP1xuICAgICAgICAgICAgICAgICAgICAgICcgJyArIHNldHRpbmdzLmtsYXNzLm5hdkRpc2FibGVkIDogJydcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAnZGF0YS1uYXY9JyArICggbmV4dCB8fCAtMSApICsgJyAnICtcbiAgICAgICAgICAgICAgICAgIF8uYXJpYUF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzOiBjYWxlbmRhci4kbm9kZVswXS5pZCArICdfdGFibGUnXG4gICAgICAgICAgICAgICAgICB9KSArICcgJyArXG4gICAgICAgICAgICAgICAgICAndGl0bGU9XCInICsgKG5leHQgPyBzZXR0aW5ncy5sYWJlbE1vbnRoTmV4dCA6IHNldHRpbmdzLmxhYmVsTW9udGhQcmV2ICkgKyAnXCInXG4gICAgICAgICAgICAgICkgLy9lbmRyZXR1cm5cbiAgICAgICAgICB9LCAvL2NyZWF0ZU1vbnRoTmF2XG5cblxuICAgICAgICAgIC8vIENyZWF0ZSB0aGUgbW9udGggbGFiZWwuXG4gICAgICAgICAgY3JlYXRlTW9udGhMYWJlbCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgIHZhciBtb250aHNDb2xsZWN0aW9uID0gc2V0dGluZ3Muc2hvd01vbnRoc1Nob3J0ID8gc2V0dGluZ3MubW9udGhzU2hvcnQgOiBzZXR0aW5ncy5tb250aHNGdWxsO1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBtb250aHMgdG8gc2VsZWN0LCBhZGQgYSBkcm9wZG93biBtZW51LlxuICAgICAgICAgICAgICBpZiAoIHNldHRpbmdzLnNlbGVjdE1vbnRocyApIHtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF8ubm9kZSggJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgXy5ncm91cCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiAxMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogJ29wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGZ1bmN0aW9uKCBsb29wZWRNb250aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBsb29wZWQgbW9udGggYW5kIG5vIGNsYXNzZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhzQ29sbGVjdGlvblsgbG9vcGVkTW9udGggXSwgMCxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgdmFsdWUgYW5kIHNlbGVjdGVkIGluZGV4LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YWx1ZT0nICsgbG9vcGVkTW9udGggK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICggdmlld3NldE9iamVjdC5tb250aCA9PSBsb29wZWRNb250aCA/ICcgc2VsZWN0ZWQnIDogJycgKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIHZpZXdzZXRPYmplY3QueWVhciA9PSBtaW5MaW1pdE9iamVjdC55ZWFyICYmIGxvb3BlZE1vbnRoIDwgbWluTGltaXRPYmplY3QubW9udGggKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCB2aWV3c2V0T2JqZWN0LnllYXIgPT0gbWF4TGltaXRPYmplY3QueWVhciAmJiBsb29wZWRNb250aCA+IG1heExpbWl0T2JqZWN0Lm1vbnRoIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgZGlzYWJsZWQnIDogJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5rbGFzcy5zZWxlY3RNb250aCxcbiAgICAgICAgICAgICAgICAgICAgICAoIGlzT3BlbiA/ICcnIDogJ2Rpc2FibGVkJyApICsgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgICBfLmFyaWFBdHRyKHsgY29udHJvbHM6IGNhbGVuZGFyLiRub2RlWzBdLmlkICsgJ190YWJsZScgfSkgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgICAgICd0aXRsZT1cIicgKyBzZXR0aW5ncy5sYWJlbE1vbnRoU2VsZWN0ICsgJ1wiJ1xuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIG5lZWQgZm9yIGEgbW9udGggc2VsZWN0b3JcbiAgICAgICAgICAgICAgcmV0dXJuIF8ubm9kZSggJ2RpdicsIG1vbnRoc0NvbGxlY3Rpb25bIHZpZXdzZXRPYmplY3QubW9udGggXSwgc2V0dGluZ3Mua2xhc3MubW9udGggKVxuICAgICAgICAgIH0sIC8vY3JlYXRlTW9udGhMYWJlbFxuXG5cbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIHllYXIgbGFiZWwuXG4gICAgICAgICAgY3JlYXRlWWVhckxhYmVsID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgdmFyIGZvY3VzZWRZZWFyID0gdmlld3NldE9iamVjdC55ZWFyLFxuXG4gICAgICAgICAgICAgIC8vIElmIHllYXJzIHNlbGVjdG9yIGlzIHNldCB0byBhIGxpdGVyYWwgXCJ0cnVlXCIsIHNldCBpdCB0byA1LiBPdGhlcndpc2VcbiAgICAgICAgICAgICAgLy8gZGl2aWRlIGluIGhhbGYgdG8gZ2V0IGhhbGYgYmVmb3JlIGFuZCBoYWxmIGFmdGVyIGZvY3VzZWQgeWVhci5cbiAgICAgICAgICAgICAgbnVtYmVyWWVhcnMgPSBzZXR0aW5ncy5zZWxlY3RZZWFycyA9PT0gdHJ1ZSA/IDUgOiB+figgc2V0dGluZ3Muc2VsZWN0WWVhcnMgLyAyICk7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIHllYXJzIHRvIHNlbGVjdCwgYWRkIGEgZHJvcGRvd24gbWVudS5cbiAgICAgICAgICAgICAgaWYgKCBudW1iZXJZZWFycyApIHtcblxuICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgbWluWWVhciA9IG1pbkxpbWl0T2JqZWN0LnllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgbWF4WWVhciA9IG1heExpbWl0T2JqZWN0LnllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgbG93ZXN0WWVhciA9IGZvY3VzZWRZZWFyIC0gbnVtYmVyWWVhcnMsXG4gICAgICAgICAgICAgICAgICAgICAgaGlnaGVzdFllYXIgPSBmb2N1c2VkWWVhciArIG51bWJlclllYXJzO1xuXG4gICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbWluIHllYXIgaXMgZ3JlYXRlciB0aGFuIHRoZSBsb3dlc3QgeWVhciwgaW5jcmVhc2UgdGhlIGhpZ2hlc3QgeWVhclxuICAgICAgICAgICAgICAgICAgLy8gYnkgdGhlIGRpZmZlcmVuY2UgYW5kIHNldCB0aGUgbG93ZXN0IHllYXIgdG8gdGhlIG1pbiB5ZWFyLlxuICAgICAgICAgICAgICAgICAgaWYgKCBtaW5ZZWFyID4gbG93ZXN0WWVhciApIHtcbiAgICAgICAgICAgICAgICAgICAgICBoaWdoZXN0WWVhciArPSBtaW5ZZWFyIC0gbG93ZXN0WWVhcjtcbiAgICAgICAgICAgICAgICAgICAgICBsb3dlc3RZZWFyID0gbWluWWVhcjtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG1heCB5ZWFyIGlzIGxlc3MgdGhhbiB0aGUgaGlnaGVzdCB5ZWFyLCBkZWNyZWFzZSB0aGUgbG93ZXN0IHllYXJcbiAgICAgICAgICAgICAgICAgIC8vIGJ5IHRoZSBsb3dlciBvZiB0aGUgdHdvOiBhdmFpbGFibGUgYW5kIG5lZWRlZCB5ZWFycy4gVGhlbiBzZXQgdGhlXG4gICAgICAgICAgICAgICAgICAvLyBoaWdoZXN0IHllYXIgdG8gdGhlIG1heCB5ZWFyLlxuICAgICAgICAgICAgICAgICAgaWYgKCBtYXhZZWFyIDwgaGlnaGVzdFllYXIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgYXZhaWxhYmxlWWVhcnMgPSBsb3dlc3RZZWFyIC0gbWluWWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmVlZGVkWWVhcnMgPSBoaWdoZXN0WWVhciAtIG1heFllYXI7XG5cbiAgICAgICAgICAgICAgICAgICAgICBsb3dlc3RZZWFyIC09IGF2YWlsYWJsZVllYXJzID4gbmVlZGVkWWVhcnMgPyBuZWVkZWRZZWFycyA6IGF2YWlsYWJsZVllYXJzO1xuICAgICAgICAgICAgICAgICAgICAgIGhpZ2hlc3RZZWFyID0gbWF4WWVhcjtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF8ubm9kZSggJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgXy5ncm91cCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogbG93ZXN0WWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBoaWdoZXN0WWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogJ29wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGZ1bmN0aW9uKCBsb29wZWRZZWFyICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBsb29wZWQgeWVhciBhbmQgbm8gY2xhc3Nlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wZWRZZWFyLCAwLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSB2YWx1ZSBhbmQgc2VsZWN0ZWQgaW5kZXguXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlPScgKyBsb29wZWRZZWFyICsgKCBmb2N1c2VkWWVhciA9PSBsb29wZWRZZWFyID8gJyBzZWxlY3RlZCcgOiAnJyApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5rbGFzcy5zZWxlY3RZZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICggaXNPcGVuID8gJycgOiAnZGlzYWJsZWQnICkgKyAnICcgKyBfLmFyaWFBdHRyKHsgY29udHJvbHM6IGNhbGVuZGFyLiRub2RlWzBdLmlkICsgJ190YWJsZScgfSkgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgICAgICd0aXRsZT1cIicgKyBzZXR0aW5ncy5sYWJlbFllYXJTZWxlY3QgKyAnXCInXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UganVzdCByZXR1cm4gdGhlIHllYXIgZm9jdXNlZFxuICAgICAgICAgICAgICByZXR1cm4gXy5ub2RlKCAnZGl2JywgZm9jdXNlZFllYXIsIHNldHRpbmdzLmtsYXNzLnllYXIgKVxuICAgICAgICAgIH07IC8vY3JlYXRlWWVhckxhYmVsXG5cblxuICAgICAgLy8gQ3JlYXRlIGFuZCByZXR1cm4gdGhlIGVudGlyZSBjYWxlbmRhci5cbiAgICAgIHJldHVybiBfLm5vZGUoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgKCBzZXR0aW5ncy5zZWxlY3RZZWFycyA/IGNyZWF0ZVllYXJMYWJlbCgpICsgY3JlYXRlTW9udGhMYWJlbCgpIDogY3JlYXRlTW9udGhMYWJlbCgpICsgY3JlYXRlWWVhckxhYmVsKCkgKSArXG4gICAgICAgICAgY3JlYXRlTW9udGhOYXYoKSArIGNyZWF0ZU1vbnRoTmF2KCAxICksXG4gICAgICAgICAgc2V0dGluZ3Mua2xhc3MuaGVhZGVyXG4gICAgICApICsgXy5ub2RlKFxuICAgICAgICAgICd0YWJsZScsXG4gICAgICAgICAgdGFibGVIZWFkICtcbiAgICAgICAgICBfLm5vZGUoXG4gICAgICAgICAgICAgICd0Ym9keScsXG4gICAgICAgICAgICAgIF8uZ3JvdXAoe1xuICAgICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgICAgbWF4OiBXRUVLU19JTl9DQUxFTkRBUiAtIDEsXG4gICAgICAgICAgICAgICAgICBpOiAxLFxuICAgICAgICAgICAgICAgICAgbm9kZTogJ3RyJyxcbiAgICAgICAgICAgICAgICAgIGl0ZW06IGZ1bmN0aW9uKCByb3dDb3VudGVyICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWYgTW9uZGF5IGlzIHRoZSBmaXJzdCBkYXkgYW5kIHRoZSBtb250aCBzdGFydHMgb24gU3VuZGF5LCBzaGlmdCB0aGUgZGF0ZSBiYWNrIGEgd2Vlay5cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZnREYXRlQnkgPSBzZXR0aW5ncy5maXJzdERheSAmJiBjYWxlbmRhci5jcmVhdGUoWyB2aWV3c2V0T2JqZWN0LnllYXIsIHZpZXdzZXRPYmplY3QubW9udGgsIDEgXSkuZGF5ID09PSAwID8gLTcgOiAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXy5ncm91cCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW46IERBWVNfSU5fV0VFSyAqIHJvd0NvdW50ZXIgLSB2aWV3c2V0T2JqZWN0LmRheSArIHNoaWZ0RGF0ZUJ5ICsgMSwgLy8gQWRkIDEgZm9yIHdlZWtkYXkgMGluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbiArIERBWVNfSU5fV0VFSyAtIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogJ3RkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGZ1bmN0aW9uKCB0YXJnZXREYXRlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgdGltZSBkYXRlIGZyb20gYSByZWxhdGl2ZSBkYXRlIHRvIGEgdGFyZ2V0IGRhdGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0ZSA9IGNhbGVuZGFyLmNyZWF0ZShbIHZpZXdzZXRPYmplY3QueWVhciwgdmlld3NldE9iamVjdC5tb250aCwgdGFyZ2V0RGF0ZSArICggc2V0dGluZ3MuZmlyc3REYXkgPyAxIDogMCApIF0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzU2VsZWN0ZWQgPSBzZWxlY3RlZE9iamVjdCAmJiBzZWxlY3RlZE9iamVjdC5waWNrID09IHRhcmdldERhdGUucGljayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNIaWdobGlnaHRlZCA9IGhpZ2hsaWdodGVkT2JqZWN0ICYmIGhpZ2hsaWdodGVkT2JqZWN0LnBpY2sgPT0gdGFyZ2V0RGF0ZS5waWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkID0gZGlzYWJsZWRDb2xsZWN0aW9uICYmIGNhbGVuZGFyLmRpc2FibGVkKCB0YXJnZXREYXRlICkgfHwgdGFyZ2V0RGF0ZS5waWNrIDwgbWluTGltaXRPYmplY3QucGljayB8fCB0YXJnZXREYXRlLnBpY2sgPiBtYXhMaW1pdE9iamVjdC5waWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWREYXRlID0gXy50cmlnZ2VyKCBjYWxlbmRhci5mb3JtYXRzLnRvU3RyaW5nLCBjYWxlbmRhciwgWyBzZXR0aW5ncy5mb3JtYXQsIHRhcmdldERhdGUgXSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5ub2RlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREYXRlLmRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24oIGtsYXNzZXMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGBpbmZvY3VzYCBvciBgb3V0Zm9jdXNgIGNsYXNzZXMgYmFzZWQgb24gbW9udGggaW4gdmlldy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbGFzc2VzLnB1c2goIHZpZXdzZXRPYmplY3QubW9udGggPT0gdGFyZ2V0RGF0ZS5tb250aCA/IHNldHRpbmdzLmtsYXNzLmluZm9jdXMgOiBzZXR0aW5ncy5rbGFzcy5vdXRmb2N1cyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBgdG9kYXlgIGNsYXNzIGlmIG5lZWRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG5vd09iamVjdC5waWNrID09IHRhcmdldERhdGUucGljayApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2xhc3Nlcy5wdXNoKCBzZXR0aW5ncy5rbGFzcy5ub3cgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGBzZWxlY3RlZGAgY2xhc3MgaWYgc29tZXRoaW5nJ3Mgc2VsZWN0ZWQgYW5kIHRoZSB0aW1lIG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpc1NlbGVjdGVkICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbGFzc2VzLnB1c2goIHNldHRpbmdzLmtsYXNzLnNlbGVjdGVkICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBgaGlnaGxpZ2h0ZWRgIGNsYXNzIGlmIHNvbWV0aGluZydzIGhpZ2hsaWdodGVkIGFuZCB0aGUgdGltZSBtYXRjaGVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaXNIaWdobGlnaHRlZCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2xhc3Nlcy5wdXNoKCBzZXR0aW5ncy5rbGFzcy5oaWdobGlnaHRlZCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgYGRpc2FibGVkYCBjbGFzcyBpZiBzb21ldGhpbmcncyBkaXNhYmxlZCBhbmQgdGhlIG9iamVjdCBtYXRjaGVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaXNEaXNhYmxlZCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2xhc3Nlcy5wdXNoKCBzZXR0aW5ncy5rbGFzcy5kaXNhYmxlZCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrbGFzc2VzLmpvaW4oICcgJyApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KShbIHNldHRpbmdzLmtsYXNzLmRheSBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhLXBpY2s9JyArIHRhcmdldERhdGUucGljayArICcgJyArIF8uYXJpYUF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdncmlkY2VsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZvcm1hdHRlZERhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQgJiYgY2FsZW5kYXIuJG5vZGUudmFsKCkgPT09IGZvcm1hdHRlZERhdGUgPyB0cnVlIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVkZXNjZW5kYW50OiBpc0hpZ2hsaWdodGVkID8gdHJ1ZSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWQgPyB0cnVlIDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uYXJpYUF0dHIoeyByb2xlOiAncHJlc2VudGF0aW9uJyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0gLy9lbmRyZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICBdIC8vZW5kcmV0dXJuXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICBzZXR0aW5ncy5rbGFzcy50YWJsZSxcbiAgICAgICAgICAnaWQ9XCInICsgY2FsZW5kYXIuJG5vZGVbMF0uaWQgKyAnX3RhYmxlJyArICdcIiAnICsgXy5hcmlhQXR0cih7XG4gICAgICAgICAgICAgIHJvbGU6ICdncmlkJyxcbiAgICAgICAgICAgICAgY29udHJvbHM6IGNhbGVuZGFyLiRub2RlWzBdLmlkLFxuICAgICAgICAgICAgICByZWFkb25seTogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICApICtcblxuICAgICAgLy8gKiBGb3IgRmlyZWZveCBmb3JtcyB0byBzdWJtaXQsIG1ha2Ugc3VyZSB0byBzZXQgdGhlIGJ1dHRvbnPigJkgYHR5cGVgIGF0dHJpYnV0ZXMgYXMg4oCcYnV0dG9u4oCdLlxuICAgICAgXy5ub2RlKFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIF8ubm9kZSggJ2J1dHRvbicsIHNldHRpbmdzLnRvZGF5LCBzZXR0aW5ncy5rbGFzcy5idXR0b25Ub2RheSxcbiAgICAgICAgICAgICAgJ3R5cGU9YnV0dG9uIGRhdGEtcGljaz0nICsgbm93T2JqZWN0LnBpY2sgK1xuICAgICAgICAgICAgICAoIGlzT3BlbiAmJiAhY2FsZW5kYXIuZGlzYWJsZWQobm93T2JqZWN0KSA/ICcnIDogJyBkaXNhYmxlZCcgKSArICcgJyArXG4gICAgICAgICAgICAgIF8uYXJpYUF0dHIoeyBjb250cm9sczogY2FsZW5kYXIuJG5vZGVbMF0uaWQgfSkgKSArXG4gICAgICAgICAgXy5ub2RlKCAnYnV0dG9uJywgc2V0dGluZ3MuY2xlYXIsIHNldHRpbmdzLmtsYXNzLmJ1dHRvbkNsZWFyLFxuICAgICAgICAgICAgICAndHlwZT1idXR0b24gZGF0YS1jbGVhcj0xJyArXG4gICAgICAgICAgICAgICggaXNPcGVuID8gJycgOiAnIGRpc2FibGVkJyApICsgJyAnICtcbiAgICAgICAgICAgICAgXy5hcmlhQXR0cih7IGNvbnRyb2xzOiBjYWxlbmRhci4kbm9kZVswXS5pZCB9KSApICtcbiAgICAgICAgICBfLm5vZGUoJ2J1dHRvbicsIHNldHRpbmdzLmNsb3NlLCBzZXR0aW5ncy5rbGFzcy5idXR0b25DbG9zZSxcbiAgICAgICAgICAgICAgJ3R5cGU9YnV0dG9uIGRhdGEtY2xvc2U9dHJ1ZSAnICtcbiAgICAgICAgICAgICAgKCBpc09wZW4gPyAnJyA6ICcgZGlzYWJsZWQnICkgKyAnICcgK1xuICAgICAgICAgICAgICBfLmFyaWFBdHRyKHsgY29udHJvbHM6IGNhbGVuZGFyLiRub2RlWzBdLmlkIH0pICksXG4gICAgICAgICAgc2V0dGluZ3Mua2xhc3MuZm9vdGVyXG4gICAgICApIC8vZW5kcmV0dXJuXG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUubm9kZXNcblxuXG5cblxuICAvKipcbiAgICogVGhlIGRhdGUgcGlja2VyIGRlZmF1bHRzLlxuICAgKi9cbiAgRGF0ZVBpY2tlci5kZWZhdWx0cyA9IChmdW5jdGlvbiggcHJlZml4ICkge1xuXG4gICAgICByZXR1cm4ge1xuXG4gICAgICAgICAgLy8gVGhlIHRpdGxlIGxhYmVsIHRvIHVzZSBmb3IgdGhlIG1vbnRoIG5hdiBidXR0b25zXG4gICAgICAgICAgbGFiZWxNb250aE5leHQ6ICdOZXh0IG1vbnRoJyxcbiAgICAgICAgICBsYWJlbE1vbnRoUHJldjogJ1ByZXZpb3VzIG1vbnRoJyxcblxuICAgICAgICAgIC8vIFRoZSB0aXRsZSBsYWJlbCB0byB1c2UgZm9yIHRoZSBkcm9wZG93biBzZWxlY3RvcnNcbiAgICAgICAgICBsYWJlbE1vbnRoU2VsZWN0OiAnU2VsZWN0IGEgbW9udGgnLFxuICAgICAgICAgIGxhYmVsWWVhclNlbGVjdDogJ1NlbGVjdCBhIHllYXInLFxuXG4gICAgICAgICAgLy8gTW9udGhzIGFuZCB3ZWVrZGF5c1xuICAgICAgICAgIG1vbnRoc0Z1bGw6IFsgJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInIF0sXG4gICAgICAgICAgbW9udGhzU2hvcnQ6IFsgJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJyBdLFxuICAgICAgICAgIHdlZWtkYXlzRnVsbDogWyAnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknIF0sXG4gICAgICAgICAgd2Vla2RheXNTaG9ydDogWyAnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0JyBdLFxuXG4gICAgICAgICAgLy8gVG9kYXkgYW5kIGNsZWFyXG4gICAgICAgICAgdG9kYXk6ICdUb2RheScsXG4gICAgICAgICAgY2xlYXI6ICdDbGVhcicsXG4gICAgICAgICAgY2xvc2U6ICdDbG9zZScsXG5cbiAgICAgICAgICAvLyBQaWNrZXIgY2xvc2UgYmVoYXZpb3JcbiAgICAgICAgICBjbG9zZU9uU2VsZWN0OiB0cnVlLFxuICAgICAgICAgIGNsb3NlT25DbGVhcjogdHJ1ZSxcblxuICAgICAgICAgIC8vIFRoZSBmb3JtYXQgdG8gc2hvdyBvbiB0aGUgYGlucHV0YCBlbGVtZW50XG4gICAgICAgICAgZm9ybWF0OiAnZCBtbW1tLCB5eXl5JyxcblxuICAgICAgICAgIC8vIENsYXNzZXNcbiAgICAgICAgICBrbGFzczoge1xuXG4gICAgICAgICAgICAgIHRhYmxlOiBwcmVmaXggKyAndGFibGUnLFxuXG4gICAgICAgICAgICAgIGhlYWRlcjogcHJlZml4ICsgJ2hlYWRlcicsXG5cbiAgICAgICAgICAgICAgbmF2UHJldjogcHJlZml4ICsgJ25hdi0tcHJldicsXG4gICAgICAgICAgICAgIG5hdk5leHQ6IHByZWZpeCArICduYXYtLW5leHQnLFxuICAgICAgICAgICAgICBuYXZEaXNhYmxlZDogcHJlZml4ICsgJ25hdi0tZGlzYWJsZWQnLFxuXG4gICAgICAgICAgICAgIG1vbnRoOiBwcmVmaXggKyAnbW9udGgnLFxuICAgICAgICAgICAgICB5ZWFyOiBwcmVmaXggKyAneWVhcicsXG5cbiAgICAgICAgICAgICAgc2VsZWN0TW9udGg6IHByZWZpeCArICdzZWxlY3QtLW1vbnRoJyxcbiAgICAgICAgICAgICAgc2VsZWN0WWVhcjogcHJlZml4ICsgJ3NlbGVjdC0teWVhcicsXG5cbiAgICAgICAgICAgICAgd2Vla2RheXM6IHByZWZpeCArICd3ZWVrZGF5JyxcblxuICAgICAgICAgICAgICBkYXk6IHByZWZpeCArICdkYXknLFxuICAgICAgICAgICAgICBkaXNhYmxlZDogcHJlZml4ICsgJ2RheS0tZGlzYWJsZWQnLFxuICAgICAgICAgICAgICBzZWxlY3RlZDogcHJlZml4ICsgJ2RheS0tc2VsZWN0ZWQnLFxuICAgICAgICAgICAgICBoaWdobGlnaHRlZDogcHJlZml4ICsgJ2RheS0taGlnaGxpZ2h0ZWQnLFxuICAgICAgICAgICAgICBub3c6IHByZWZpeCArICdkYXktLXRvZGF5JyxcbiAgICAgICAgICAgICAgaW5mb2N1czogcHJlZml4ICsgJ2RheS0taW5mb2N1cycsXG4gICAgICAgICAgICAgIG91dGZvY3VzOiBwcmVmaXggKyAnZGF5LS1vdXRmb2N1cycsXG5cbiAgICAgICAgICAgICAgZm9vdGVyOiBwcmVmaXggKyAnZm9vdGVyJyxcblxuICAgICAgICAgICAgICBidXR0b25DbGVhcjogcHJlZml4ICsgJ2J1dHRvbi0tY2xlYXInLFxuICAgICAgICAgICAgICBidXR0b25Ub2RheTogcHJlZml4ICsgJ2J1dHRvbi0tdG9kYXknLFxuICAgICAgICAgICAgICBidXR0b25DbG9zZTogcHJlZml4ICsgJ2J1dHRvbi0tY2xvc2UnXG4gICAgICAgICAgfVxuICAgICAgfVxuICB9KSggUGlja2VyLmtsYXNzZXMoKS5waWNrZXIgKyAnX18nICk7XG5cblxuXG5cblxuICAvKipcbiAgICogRXh0ZW5kIHRoZSBwaWNrZXIgdG8gYWRkIHRoZSBkYXRlIHBpY2tlci5cbiAgICovXG4gIFBpY2tlci5leHRlbmQoICdwaWNrYWRhdGUnLCBEYXRlUGlja2VyICk7XG5cblxuICB9KSk7XG4gIH0pO1xuXG4gIC8qXG4gICAqIERhdGUgcGlja2VyIHBsdWdpbiBleHRlbmRzIGBwaWNrYWRhdGUuanNgIGJ5IEFtc3VsXG4gICAqL1xuXG4gIHZhciBQaWNrRGF0ZSA9IGZ1bmN0aW9uICgkJCQxKSB7XG4gICAgLy8gY29uc3RhbnRzID4+PlxuICAgIHZhciBEQVRBX0tFWSA9ICdtZC5waWNrZGF0ZSc7XG4gICAgdmFyIE5BTUUgPSAncGlja2RhdGUnO1xuICAgIHZhciBOT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XG4gICAgdmFyIERlZmF1bHQgPSB7XG4gICAgICBjYW5jZWw6ICdDYW5jZWwnLFxuICAgICAgY2xvc2VPbkNhbmNlbDogdHJ1ZSxcbiAgICAgIGNsb3NlT25TZWxlY3Q6IGZhbHNlLFxuICAgICAgY29udGFpbmVyOiAnJyxcbiAgICAgIGNvbnRhaW5lckhpZGRlbjogJycsXG4gICAgICBkaXNhYmxlOiBbXSxcbiAgICAgIGZpcnN0RGF5OiAwLFxuICAgICAgZm9ybWF0OiAnZC9tL3l5eXknLFxuICAgICAgZm9ybWF0U3VibWl0OiAnJyxcbiAgICAgIGhpZGRlbk5hbWU6IGZhbHNlLFxuICAgICAgaGlkZGVuUHJlZml4OiAnJyxcbiAgICAgIGhpZGRlblN1ZmZpeDogJycsXG4gICAgICBrbGFzczoge1xuICAgICAgICAvLyBidXR0b25cbiAgICAgICAgYnV0dG9uQ2xlYXI6ICdidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBwaWNrZXItYnV0dG9uLWNsZWFyJyxcbiAgICAgICAgYnV0dG9uQ2xvc2U6ICdidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBwaWNrZXItYnV0dG9uLWNsb3NlJyxcbiAgICAgICAgYnV0dG9uVG9kYXk6ICdidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBwaWNrZXItYnV0dG9uLXRvZGF5JyxcbiAgICAgICAgLy8gZGF5XG4gICAgICAgIGRheTogJ3BpY2tlci1kYXknLFxuICAgICAgICBkaXNhYmxlZDogJ3BpY2tlci1kYXktZGlzYWJsZWQnLFxuICAgICAgICBoaWdobGlnaHRlZDogJ3BpY2tlci1kYXktaGlnaGxpZ2h0ZWQnLFxuICAgICAgICBpbmZvY3VzOiAncGlja2VyLWRheS1pbmZvY3VzJyxcbiAgICAgICAgbm93OiAncGlja2VyLWRheS10b2RheScsXG4gICAgICAgIG91dGZvY3VzOiAncGlja2VyLWRheS1vdXRmb2N1cycsXG4gICAgICAgIHNlbGVjdGVkOiAncGlja2VyLWRheS1zZWxlY3RlZCcsXG4gICAgICAgIHdlZWtkYXlzOiAncGlja2VyLXdlZWtkYXknLFxuICAgICAgICAvLyBlbGVtZW50XG4gICAgICAgIGJveDogJ3BpY2tlci1ib3gnLFxuICAgICAgICBmb290ZXI6ICdwaWNrZXItZm9vdGVyJyxcbiAgICAgICAgZnJhbWU6ICdwaWNrZXItZnJhbWUnLFxuICAgICAgICBoZWFkZXI6ICdwaWNrZXItaGVhZGVyJyxcbiAgICAgICAgaG9sZGVyOiAncGlja2VyLWhvbGRlcicsXG4gICAgICAgIHRhYmxlOiAncGlja2VyLXRhYmxlJyxcbiAgICAgICAgd3JhcDogJ3BpY2tlci13cmFwJyxcbiAgICAgICAgLy8gaW5wdXQgZWxlbWVudFxuICAgICAgICBhY3RpdmU6ICdwaWNrZXItaW5wdXQtYWN0aXZlJyxcbiAgICAgICAgaW5wdXQ6ICdwaWNrZXItaW5wdXQnLFxuICAgICAgICAvLyBtb250aCBhbmQgeWVhciBuYXZcbiAgICAgICAgbW9udGg6ICdwaWNrZXItbW9udGgnLFxuICAgICAgICBuYXZEaXNhYmxlZDogJ3BpY2tlci1uYXYtZGlzYWJsZWQnLFxuICAgICAgICBuYXZOZXh0OiAnbWF0ZXJpYWwtaWNvbnMgcGlja2VyLW5hdi1uZXh0JyxcbiAgICAgICAgbmF2UHJldjogJ21hdGVyaWFsLWljb25zIHBpY2tlci1uYXYtcHJldicsXG4gICAgICAgIHNlbGVjdE1vbnRoOiAncGlja2VyLXNlbGVjdC1tb250aCcsXG4gICAgICAgIHNlbGVjdFllYXI6ICdwaWNrZXItc2VsZWN0LXllYXInLFxuICAgICAgICB5ZWFyOiAncGlja2VyLXllYXInLFxuICAgICAgICAvLyByb290IHBpY2tlclxuICAgICAgICBmb2N1c2VkOiAncGlja2VyLWZvY3VzZWQnLFxuICAgICAgICBvcGVuZWQ6ICdwaWNrZXItb3BlbmVkJyxcbiAgICAgICAgcGlja2VyOiAncGlja2VyJ1xuICAgICAgfSxcbiAgICAgIGxhYmVsTW9udGhOZXh0OiAnTmV4dCBtb250aCcsXG4gICAgICBsYWJlbE1vbnRoUHJldjogJ1ByZXZpb3VzIG1vbnRoJyxcbiAgICAgIGxhYmVsTW9udGhTZWxlY3Q6ICdTZWxlY3QgYSBtb250aCcsXG4gICAgICBsYWJlbFllYXJTZWxlY3Q6ICdTZWxlY3QgYSB5ZWFyJyxcbiAgICAgIG1heDogZmFsc2UsXG4gICAgICBtaW46IGZhbHNlLFxuICAgICAgbW9udGhzRnVsbDogWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ10sXG4gICAgICBtb250aHNTaG9ydDogWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYyddLFxuICAgICAgb2s6ICdPSycsXG4gICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgey8vIERvIG5vdGhpbmdcbiAgICAgIH0sXG4gICAgICBvbk9wZW46IGZ1bmN0aW9uIG9uT3BlbigpIHsvLyBEbyBub3RoaW5nXG4gICAgICB9LFxuICAgICAgb25SZW5kZXI6IGZ1bmN0aW9uIG9uUmVuZGVyKCkgey8vIERvIG5vdGhpbmdcbiAgICAgIH0sXG4gICAgICBvblNldDogZnVuY3Rpb24gb25TZXQoKSB7Ly8gRG8gbm90aGluZ1xuICAgICAgfSxcbiAgICAgIG9uU3RhcnQ6IGZ1bmN0aW9uIG9uU3RhcnQoKSB7Ly8gRG8gbm90aGluZ1xuICAgICAgfSxcbiAgICAgIG9uU3RvcDogZnVuY3Rpb24gb25TdG9wKCkgey8vIERvIG5vdGhpbmdcbiAgICAgIH0sXG4gICAgICBzZWxlY3RNb250aHM6IGZhbHNlLFxuICAgICAgc2VsZWN0WWVhcnM6IGZhbHNlLFxuICAgICAgdG9kYXk6ICcnLFxuICAgICAgd2Vla2RheXNGdWxsOiBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddLFxuICAgICAgd2Vla2RheXNTaG9ydDogWydTJywgJ00nLCAnVCcsICdXJywgJ1QnLCAnRicsICdTJ11cbiAgICB9O1xuICAgIHZhciBEZWZhdWx0VHlwZSA9IHtcbiAgICAgIGNhbmNlbDogJ3N0cmluZycsXG4gICAgICBjbG9zZU9uQ2FuY2VsOiAnYm9vbGVhbicsXG4gICAgICBjbG9zZU9uU2VsZWN0OiAnYm9vbGVhbicsXG4gICAgICBjb250YWluZXI6ICdzdHJpbmcnLFxuICAgICAgY29udGFpbmVySGlkZGVuOiAnc3RyaW5nJyxcbiAgICAgIGRpc2FibGU6ICdhcnJheScsXG4gICAgICBmaXJzdERheTogJ251bWJlcicsXG4gICAgICBmb3JtYXQ6ICdzdHJpbmcnLFxuICAgICAgZm9ybWF0U3VibWl0OiAnc3RyaW5nJyxcbiAgICAgIGhpZGRlbk5hbWU6ICdib29sZWFuJyxcbiAgICAgIGhpZGRlblByZWZpeDogJ3N0cmluZycsXG4gICAgICBoaWRkZW5TdWZmaXg6ICdzdHJpbmcnLFxuICAgICAga2xhc3M6ICdvYmplY3QnLFxuICAgICAgbGFiZWxNb250aE5leHQ6ICdzdHJpbmcnLFxuICAgICAgbGFiZWxNb250aFByZXY6ICdzdHJpbmcnLFxuICAgICAgbGFiZWxNb250aFNlbGVjdDogJ3N0cmluZycsXG4gICAgICBsYWJlbFllYXJTZWxlY3Q6ICdzdHJpbmcnLFxuICAgICAgbWF4OiAnYm9vbGVhbiB8fCBkYXRlJyxcbiAgICAgIG1pbjogJ2Jvb2xlYW4gfHwgZGF0ZScsXG4gICAgICBtb250aHNGdWxsOiAnYXJyYXknLFxuICAgICAgbW9udGhzU2hvcnQ6ICdhcnJheScsXG4gICAgICBvazogJ3N0cmluZycsXG4gICAgICBvbkNsb3NlOiAnZnVuY3Rpb24nLFxuICAgICAgb25PcGVuOiAnZnVuY3Rpb24nLFxuICAgICAgb25SZW5kZXI6ICdmdW5jdGlvbicsXG4gICAgICBvblNldDogJ2Z1bmN0aW9uJyxcbiAgICAgIG9uU3RhcnQ6ICdmdW5jdGlvbicsXG4gICAgICBvblN0b3A6ICdmdW5jdGlvbicsXG4gICAgICBzZWxlY3RNb250aHM6ICdib29sZWFuJyxcbiAgICAgIHNlbGVjdFllYXJzOiAnYm9vbGVhbiB8fCBudW1iZXInLFxuICAgICAgdG9kYXk6ICdzdHJpbmcnLFxuICAgICAgd2Vla2RheXNGdWxsOiAnYXJyYXknLFxuICAgICAgd2Vla2RheXNTaG9ydDogJ2FycmF5J1xuICAgIH07XG5cbiAgICB2YXIgUGlja0RhdGUgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBQaWNrRGF0ZShlbGVtZW50LCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gUGlja0RhdGUucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8uZGlzcGxheSA9IGZ1bmN0aW9uIGRpc3BsYXkoZGF0ZXBpY2tlckFwaSwgZGF0ZXBpY2tlclJvb3QsIGRhdGVwaWNrZXJWYWx1ZSkge1xuICAgICAgICAkJCQxKCcucGlja2VyLWRhdGUtZGlzcGxheScsIGRhdGVwaWNrZXJSb290KS5yZW1vdmUoKTtcbiAgICAgICAgJCQkMSgnLnBpY2tlci13cmFwJywgZGF0ZXBpY2tlclJvb3QpLnByZXBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJwaWNrZXItZGF0ZS1kaXNwbGF5XFxcIj48ZGl2IGNsYXNzPVxcXCJwaWNrZXItZGF0ZS1kaXNwbGF5LXRvcFxcXCI+PHNwYW4gY2xhc3M9XFxcInBpY2tlci15ZWFyLWRpc3BsYXlcXFwiPlwiICsgZGF0ZXBpY2tlckFwaS5nZXQoZGF0ZXBpY2tlclZhbHVlLCAneXl5eScpICsgXCI8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cXFwicGlja2VyLWRhdGUtZGlzcGxheS1ib3R0b21cXFwiPjxzcGFuIGNsYXNzPVxcXCJwaWNrZXItd2Vla2RheS1kaXNwbGF5XFxcIj5cIiArIGRhdGVwaWNrZXJBcGkuZ2V0KGRhdGVwaWNrZXJWYWx1ZSwgJ2RkZGQnKSArIFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJwaWNrZXItZGF5LWRpc3BsYXlcXFwiPlwiICsgZGF0ZXBpY2tlckFwaS5nZXQoZGF0ZXBpY2tlclZhbHVlLCAnZCcpICsgXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcInBpY2tlci1tb250aC1kaXNwbGF5XFxcIj5cIiArIGRhdGVwaWNrZXJBcGkuZ2V0KGRhdGVwaWNrZXJWYWx1ZSwgJ21tbScpICsgXCI8L3NwYW4+PC9kaXY+PC9kaXY+XCIpO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkucGlja2FkYXRlKHtcbiAgICAgICAgICBjbGVhcjogdGhpcy5fY29uZmlnLmNhbmNlbCxcbiAgICAgICAgICBjbG9zZTogdGhpcy5fY29uZmlnLm9rLFxuICAgICAgICAgIGNsb3NlT25DbGVhcjogdGhpcy5fY29uZmlnLmNsb3NlT25DYW5jZWwsXG4gICAgICAgICAgY2xvc2VPblNlbGVjdDogdGhpcy5fY29uZmlnLmNsb3NlT25TZWxlY3QsXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLl9jb25maWcuY29udGFpbmVyLFxuICAgICAgICAgIGNvbnRhaW5lckhpZGRlbjogdGhpcy5fY29uZmlnLmNvbnRhaW5lckhpZGRlbixcbiAgICAgICAgICBkaXNhYmxlOiB0aGlzLl9jb25maWcuZGlzYWJsZSxcbiAgICAgICAgICBmaXJzdERheTogdGhpcy5fY29uZmlnLmZpcnN0RGF5LFxuICAgICAgICAgIGZvcm1hdDogdGhpcy5fY29uZmlnLmZvcm1hdCxcbiAgICAgICAgICBmb3JtYXRTdWJtaXQ6IHRoaXMuX2NvbmZpZy5mb3JtYXRTdWJtaXQsXG4gICAgICAgICAga2xhc3M6IHRoaXMuX2NvbmZpZy5rbGFzcyxcbiAgICAgICAgICBoaWRkZW5OYW1lOiB0aGlzLl9jb25maWcuaGlkZGVuTmFtZSxcbiAgICAgICAgICBoaWRkZW5QcmVmaXg6IHRoaXMuX2NvbmZpZy5oaWRkZW5QcmVmaXgsXG4gICAgICAgICAgaGlkZGVuU3VmZml4OiB0aGlzLl9jb25maWcuaGlkZGVuU3VmZml4LFxuICAgICAgICAgIGxhYmVsTW9udGhOZXh0OiB0aGlzLl9jb25maWcubGFiZWxNb250aE5leHQsXG4gICAgICAgICAgbGFiZWxNb250aFByZXY6IHRoaXMuX2NvbmZpZy5sYWJlbE1vbnRoUHJldixcbiAgICAgICAgICBsYWJlbE1vbnRoU2VsZWN0OiB0aGlzLl9jb25maWcubGFiZWxNb250aFNlbGVjdCxcbiAgICAgICAgICBsYWJlbFllYXJTZWxlY3Q6IHRoaXMuX2NvbmZpZy5sYWJlbFllYXJTZWxlY3QsXG4gICAgICAgICAgbWF4OiB0aGlzLl9jb25maWcubWF4LFxuICAgICAgICAgIG1pbjogdGhpcy5fY29uZmlnLm1pbixcbiAgICAgICAgICBtb250aHNGdWxsOiB0aGlzLl9jb25maWcubW9udGhzRnVsbCxcbiAgICAgICAgICBtb250aHNTaG9ydDogdGhpcy5fY29uZmlnLm1vbnRoc1Nob3J0LFxuICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuX2NvbmZpZy5vbkNsb3NlLFxuICAgICAgICAgIG9uT3BlbjogdGhpcy5fY29uZmlnLm9uT3BlbixcbiAgICAgICAgICBvblJlbmRlcjogdGhpcy5fY29uZmlnLm9uUmVuZGVyLFxuICAgICAgICAgIG9uU2V0OiB0aGlzLl9jb25maWcub25TZXQsXG4gICAgICAgICAgb25TdGFydDogdGhpcy5fY29uZmlnLm9uU3RhcnQsXG4gICAgICAgICAgb25TdG9wOiB0aGlzLl9jb25maWcub25TdG9wLFxuICAgICAgICAgIHNlbGVjdE1vbnRoczogdGhpcy5fY29uZmlnLnNlbGVjdE1vbnRocyxcbiAgICAgICAgICBzZWxlY3RZZWFyczogdGhpcy5fY29uZmlnLnNlbGVjdFllYXJzLFxuICAgICAgICAgIHRvZGF5OiB0aGlzLl9jb25maWcudG9kYXksXG4gICAgICAgICAgd2Vla2RheXNGdWxsOiB0aGlzLl9jb25maWcud2Vla2RheXNGdWxsLFxuICAgICAgICAgIHdlZWtkYXlzU2hvcnQ6IHRoaXMuX2NvbmZpZy53ZWVrZGF5c1Nob3J0XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZGF0ZXBpY2tlckFwaSA9ICQkJDEodGhpcy5fZWxlbWVudCkucGlja2FkYXRlKCdwaWNrZXInKTtcbiAgICAgICAgdmFyIGRhdGVwaWNrZXJSb290ID0gZGF0ZXBpY2tlckFwaS4kcm9vdDtcbiAgICAgICAgZGF0ZXBpY2tlckFwaS5vbih7XG4gICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICAgICAgJCQkMShkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5ibHVyKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICAgICAgaWYgKCEkJCQxKCcucGlja2VyX19kYXRlLWRpc3BsYXknLCBkYXRlcGlja2VyUm9vdCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIF90aGlzLmRpc3BsYXkoZGF0ZXBpY2tlckFwaSwgZGF0ZXBpY2tlclJvb3QsICdoaWdobGlnaHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICAgICAgaWYgKGRhdGVwaWNrZXJBcGkuZ2V0KCdzZWxlY3QnKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBfdGhpcy5kaXNwbGF5KGRhdGVwaWNrZXJBcGksIGRhdGVwaWNrZXJSb290LCAnc2VsZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgICAgY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgRGVmYXVsdCwgY29uZmlnKTtcbiAgICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSwgY29uZmlnLCBEZWZhdWx0VHlwZSk7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICB9O1xuXG4gICAgICBQaWNrRGF0ZS5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIF9jb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBEZWZhdWx0LCAkJCQxKHRoaXMpLmRhdGEoKSwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnID8gY29uZmlnIDoge30pO1xuXG4gICAgICAgICAgdmFyIGRhdGEgPSAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVkpO1xuXG4gICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IFBpY2tEYXRlKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICAgJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkYXRhLnNob3coKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gUGlja0RhdGU7XG4gICAgfSgpO1xuXG4gICAgJCQkMS5mbltOQU1FXSA9IFBpY2tEYXRlLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgJCQkMS5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IFBpY2tEYXRlO1xuXG4gICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJCQkMS5mbltOQU1FXSA9IE5PX0NPTkZMSUNUO1xuICAgICAgcmV0dXJuIFBpY2tEYXRlLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgfTtcbiAgfSgkKTtcblxuICAvKlxuICAgKiBTZWxlY3Rpb24gY29udHJvbCBwbHVnaW4gZml4ZXMgdGhlIGZvY3VzIHN0YXRlIHByb2JsZW0gd2l0aFxuICAgKiBDaHJvbWUgcGVyc2lzdGluZyBmb2N1cyBzdGF0ZSBvbiBjaGVja2JveGVzL3JhZGlvIGJ1dHRvbnMgYWZ0ZXIgY2xpY2tpbmdcbiAgICovXG5cbiAgdmFyIFNlbGVjdGlvbkNvbnRyb2xGb2N1cyA9IGZ1bmN0aW9uICgkJCQxKSB7XG4gICAgLy8gY29uc3RhbnRzID4+PlxuICAgIHZhciBEQVRBX0tFWSA9ICdtZC5zZWxlY3Rpb25jb250cm9sZm9jdXMnO1xuICAgIHZhciBFVkVOVF9LRVkgPSBcIi5cIiArIERBVEFfS0VZO1xuICAgIHZhciBDbGFzc05hbWUgPSB7XG4gICAgICBGT0NVUzogJ2ZvY3VzJ1xuICAgIH07XG4gICAgdmFyIExhc3RJbnRlcmFjdGlvbiA9IHtcbiAgICAgIElTX01PVVNFRE9XTjogZmFsc2VcbiAgICB9O1xuICAgIHZhciBFdmVudCA9IHtcbiAgICAgIEJMVVI6IFwiYmx1clwiICsgRVZFTlRfS0VZLFxuICAgICAgRk9DVVM6IFwiZm9jdXNcIiArIEVWRU5UX0tFWSxcbiAgICAgIE1PVVNFRE9XTjogXCJtb3VzZWRvd25cIiArIEVWRU5UX0tFWSxcbiAgICAgIE1PVVNFVVA6IFwibW91c2V1cFwiICsgRVZFTlRfS0VZXG4gICAgfTtcbiAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICBDT05UUk9MOiAnLmN1c3RvbS1jb250cm9sJyxcbiAgICAgIElOUFVUOiAnLmN1c3RvbS1jb250cm9sLWlucHV0JyAvLyA8PDwgY29uc3RhbnRzXG5cbiAgICB9O1xuICAgICQkJDEoZG9jdW1lbnQpLm9uKFwiXCIgKyBFdmVudC5CTFVSLCBTZWxlY3Rvci5JTlBVVCwgZnVuY3Rpb24gKCkge1xuICAgICAgJCQkMSh0aGlzKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuRk9DVVMpO1xuICAgIH0pLm9uKFwiXCIgKyBFdmVudC5GT0NVUywgU2VsZWN0b3IuSU5QVVQsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChMYXN0SW50ZXJhY3Rpb24uSVNfTU9VU0VET1dOID09PSBmYWxzZSkge1xuICAgICAgICAkJCQxKHRoaXMpLmFkZENsYXNzKENsYXNzTmFtZS5GT0NVUyk7XG4gICAgICB9XG4gICAgfSkub24oXCJcIiArIEV2ZW50Lk1PVVNFRE9XTiwgU2VsZWN0b3IuQ09OVFJPTCwgZnVuY3Rpb24gKCkge1xuICAgICAgTGFzdEludGVyYWN0aW9uLklTX01PVVNFRE9XTiA9IHRydWU7XG4gICAgfSkub24oXCJcIiArIEV2ZW50Lk1PVVNFVVAsIFNlbGVjdG9yLkNPTlRST0wsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBMYXN0SW50ZXJhY3Rpb24uSVNfTU9VU0VET1dOID0gZmFsc2U7XG4gICAgICB9LCAxKTtcbiAgICB9KTtcbiAgfSgkKTtcblxuICAvKlxuICAgKiBUYWIgaW5kaWNhdG9yIGFuaW1hdGlvblxuICAgKiBSZXF1aXJlcyBCb290c3RyYXAncyAodjQuMS5YKSBgdGFiLmpzYFxuICAgKi9cblxuICB2YXIgVGFiU3dpdGNoID0gZnVuY3Rpb24gKCQkJDEpIHtcbiAgICAvLyBjb25zdGFudHMgPj4+XG4gICAgdmFyIERBVEFfS0VZID0gJ21kLnRhYnN3aXRjaCc7XG4gICAgdmFyIE5BTUUgPSAndGFic3dpdGNoJztcbiAgICB2YXIgTk9fQ09ORkxJQ1QgPSAkJCQxLmZuW05BTUVdO1xuICAgIHZhciBDbGFzc05hbWUgPSB7XG4gICAgICBBTklNQVRFOiAnYW5pbWF0ZScsXG4gICAgICBEUk9QRE9XTl9JVEVNOiAnZHJvcGRvd24taXRlbScsXG4gICAgICBJTkRJQ0FUT1I6ICduYXYtdGFicy1pbmRpY2F0b3InLFxuICAgICAgTUFURVJJQUw6ICduYXYtdGFicy1tYXRlcmlhbCcsXG4gICAgICBTQ1JPTExBQkxFOiAnbmF2LXRhYnMtc2Nyb2xsYWJsZScsXG4gICAgICBTSE9XOiAnc2hvdydcbiAgICB9O1xuICAgIHZhciBFdmVudCA9IHtcbiAgICAgIFNIT1dfQlNfVEFCOiAnc2hvdy5icy50YWInXG4gICAgfTtcbiAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICBEQVRBX1RPR0dMRTogJy5uYXYtdGFicyBbZGF0YS10b2dnbGU9XCJ0YWJcIl0nLFxuICAgICAgRFJPUERPV046ICcuZHJvcGRvd24nLFxuICAgICAgTkFWOiAnLm5hdi10YWJzJyAvLyA8PDwgY29uc3RhbnRzXG5cbiAgICB9O1xuXG4gICAgdmFyIFRhYlN3aXRjaCA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIFRhYlN3aXRjaChuYXYpIHtcbiAgICAgICAgdGhpcy5fbmF2ID0gbmF2O1xuICAgICAgICB0aGlzLl9uYXZpbmRpY2F0b3IgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gVGFiU3dpdGNoLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLnN3aXRjaCA9IGZ1bmN0aW9uIF9zd2l0Y2goZWxlbWVudCwgcmVsYXRlZFRhcmdldCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBuYXZMZWZ0ID0gJCQkMSh0aGlzLl9uYXYpLm9mZnNldCgpLmxlZnQ7XG4gICAgICAgIHZhciBuYXZTY3JvbGxMZWZ0ID0gJCQkMSh0aGlzLl9uYXYpLnNjcm9sbExlZnQoKTtcbiAgICAgICAgdmFyIG5hdldpZHRoID0gJCQkMSh0aGlzLl9uYXYpLm91dGVyV2lkdGgoKTtcblxuICAgICAgICBpZiAoIXRoaXMuX25hdmluZGljYXRvcikge1xuICAgICAgICAgIHRoaXMuX2NyZWF0ZUluZGljYXRvcihuYXZMZWZ0LCBuYXZTY3JvbGxMZWZ0LCBuYXZXaWR0aCwgcmVsYXRlZFRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJCQkMShlbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRFJPUERPV05fSVRFTSkpIHtcbiAgICAgICAgICBlbGVtZW50ID0gJCQkMShlbGVtZW50KS5jbG9zZXN0KFNlbGVjdG9yLkRST1BET1dOKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlbExlZnQgPSAkJCQxKGVsZW1lbnQpLm9mZnNldCgpLmxlZnQ7XG4gICAgICAgIHZhciBlbFdpZHRoID0gJCQkMShlbGVtZW50KS5vdXRlcldpZHRoKCk7XG4gICAgICAgICQkJDEodGhpcy5fbmF2aW5kaWNhdG9yKS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICAgIFV0aWwucmVmbG93KHRoaXMuX25hdmluZGljYXRvcik7XG4gICAgICAgICQkJDEodGhpcy5fbmF2KS5hZGRDbGFzcyhDbGFzc05hbWUuQU5JTUFURSk7XG4gICAgICAgICQkJDEodGhpcy5fbmF2aW5kaWNhdG9yKS5jc3Moe1xuICAgICAgICAgIGxlZnQ6IGVsTGVmdCArIG5hdlNjcm9sbExlZnQgLSBuYXZMZWZ0LFxuICAgICAgICAgIHJpZ2h0OiBuYXZXaWR0aCAtIChlbExlZnQgKyBuYXZTY3JvbGxMZWZ0IC0gbmF2TGVmdCArIGVsV2lkdGgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICAgICQkJDEoX3RoaXMuX25hdikucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkFOSU1BVEUpO1xuICAgICAgICAgICQkJDEoX3RoaXMuX25hdmluZGljYXRvcikucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX25hdmluZGljYXRvcik7XG4gICAgICAgICQkJDEodGhpcy5fbmF2aW5kaWNhdG9yKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uX2NyZWF0ZUluZGljYXRvciA9IGZ1bmN0aW9uIF9jcmVhdGVJbmRpY2F0b3IobmF2TGVmdCwgbmF2U2Nyb2xsTGVmdCwgbmF2V2lkdGgsIHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgICAgdGhpcy5fbmF2aW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICQkJDEodGhpcy5fbmF2aW5kaWNhdG9yKS5hZGRDbGFzcyhDbGFzc05hbWUuSU5ESUNBVE9SKS5hcHBlbmRUbyh0aGlzLl9uYXYpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgcmVsYXRlZFRhcmdldCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpZiAoJCQkMShyZWxhdGVkVGFyZ2V0KS5oYXNDbGFzcyhDbGFzc05hbWUuRFJPUERPV05fSVRFTSkpIHtcbiAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQgPSAkJCQxKHJlbGF0ZWRUYXJnZXQpLmNsb3Nlc3QoU2VsZWN0b3IuRFJPUERPV04pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciByZWxhdGVkTGVmdCA9ICQkJDEocmVsYXRlZFRhcmdldCkub2Zmc2V0KCkubGVmdDtcbiAgICAgICAgICB2YXIgcmVsYXRlZFdpZHRoID0gJCQkMShyZWxhdGVkVGFyZ2V0KS5vdXRlcldpZHRoKCk7XG4gICAgICAgICAgJCQkMSh0aGlzLl9uYXZpbmRpY2F0b3IpLmNzcyh7XG4gICAgICAgICAgICBsZWZ0OiByZWxhdGVkTGVmdCArIG5hdlNjcm9sbExlZnQgLSBuYXZMZWZ0LFxuICAgICAgICAgICAgcmlnaHQ6IG5hdldpZHRoIC0gKHJlbGF0ZWRMZWZ0ICsgbmF2U2Nyb2xsTGVmdCAtIG5hdkxlZnQgKyByZWxhdGVkV2lkdGgpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAkJCQxKHRoaXMuX25hdikuYWRkQ2xhc3MoQ2xhc3NOYW1lLk1BVEVSSUFMKTtcbiAgICAgIH07XG5cbiAgICAgIFRhYlN3aXRjaC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBuYXYgPSAkJCQxKHRoaXMpLmNsb3Nlc3QoU2VsZWN0b3IuTkFWKVswXTtcblxuICAgICAgICAgIGlmICghbmF2KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGRhdGEgPSAkJCQxKG5hdikuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgVGFiU3dpdGNoKG5hdik7XG4gICAgICAgICAgICAkJCQxKG5hdikuZGF0YShEQVRBX0tFWSwgZGF0YSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YS5zd2l0Y2godGhpcywgcmVsYXRlZFRhcmdldCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFRhYlN3aXRjaDtcbiAgICB9KCk7XG5cbiAgICAkJCQxKGRvY3VtZW50KS5vbihFdmVudC5TSE9XX0JTX1RBQiwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgVGFiU3dpdGNoLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkJCQxKHRoaXMpLCBldmVudC5yZWxhdGVkVGFyZ2V0KTtcbiAgICB9KTtcbiAgICAkJCQxLmZuW05BTUVdID0gVGFiU3dpdGNoLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgJCQkMS5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IFRhYlN3aXRjaDtcblxuICAgICQkJDEuZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQkJDEuZm5bTkFNRV0gPSBOT19DT05GTElDVDtcbiAgICAgIHJldHVybiBUYWJTd2l0Y2guX2pRdWVyeUludGVyZmFjZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRhYlN3aXRjaDtcbiAgfSgkKTtcblxuICBleHBvcnRzLlV0aWwgPSBVdGlsO1xuICBleHBvcnRzLkV4cGFuc2lvblBhbmVsID0gRXhwYW5zaW9uUGFuZWw7XG4gIGV4cG9ydHMuRmxvYXRpbmdMYWJlbCA9IEZsb2F0aW5nTGFiZWw7XG4gIGV4cG9ydHMuTmF2RHJhd2VyID0gTmF2RHJhd2VyO1xuICBleHBvcnRzLlBpY2tEYXRlID0gUGlja0RhdGU7XG4gIGV4cG9ydHMuU2VsZWN0aW9uQ29udHJvbEZvY3VzID0gU2VsZWN0aW9uQ29udHJvbEZvY3VzO1xuICBleHBvcnRzLlRhYlN3aXRjaCA9IFRhYlN3aXRjaDtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0ZXJpYWwuanMubWFwXG4iXX0=
